/*! For license information please see main.e014421f.chunk.js.LICENSE.txt */
(this["webpackJsonpiipzy-client-web"]=this["webpackJsonpiipzy-client-web"]||[]).push([[0],{1:function(t,e,n){n(15),n(16);t.exports={reqAreYouServerUuid:"a962ed99-e788-49cd-aa67-b0a8317f1573",rspAreYouServerUuid:"7589c403-984c-4c8a-885b-48a65131d17b",reqDiscoveryUuid:"24e1c790-20b9-47e9-b4b7-77f15da4e191",rspDiscoveryUuid:"9c96377f-ee54-4d39-b4f0-fde43283ac73",port_server:"8001",port_sentinel_admin:"8005",port_sentinel_core:"8002",port_sentinel_updater:"8003",port_sentinel_web:"8008",port_sentinel_web_client_proxy:"8004",port_sentinel_web_server_proxy:"8002",port_traffic_control:"8007",server_cert:"/etc/iipzy/certificate/server.cert",server_key:"/etc/iipzy/certificate/server.key",pingTarget:"google.com",urlAbout:"/about",urlAddUser:"/addUser",urlAdministration:"/administration",urlBlank:"/blank",urlClients:"/clients",urlClientUpdate:"/clientUpdate",urlCloseSentinel:"/closeSentinel",urlDebug:"/debug",urlDevices:"/devices",urlDownload:"/download",urlEditUser:"/editUser",urlForgotPassword:"/forgotPassword",urlHome:"/home",urlIipzy:"/iipzy",urlLogin:"/login",urlLogLevel:"/logLevel",urlLogSend:"/logSend",urlNavigator:"/navigator",urlPingPlot:"/pingPlot",urlScheduler:"/scheduler",urlSentinelAdmin:"/sentinelAdmin",urlSentinelDiscovery:"/sentinelDiscovery",urlSentinelInUse:"/sentinelInUse",urlSentinelOnlineCheck:"/sentinelOnlineCheck",urlSentinels:"/sentinels",urlSettings:"/settings",urlStartup:"/startup",urlThroughputTest:"/throughputTest",urlUpdater:"/updater",ipcAAATest:"ipc_000",ipcAuthCredentialsUpdate:"ipc_001",ipcBloatLatencyStatusIperf3Down:"ipc_002",ipcBloatLatencyStatusIperf3DownFinal:"ipc_003",ipcBloatLatencyStatusIperf3Up:"ipc_004",ipcBloatLatencyStatusIperf3UpFinal:"ipc_005",ipcClearDials:"ipc_006",ipcClientLoginNeeded:"ipc_007",ipcClientName:"ipc_074",ipcClientShutdown:"ipc_008",ipcConnectionToken:"ipc_129",ipcConsoleLog:"ipc_009",ipcConsoleLogVerbose:"ipc_092",ipcDevicesReady:"ipc_075",ipcDevicesWindowMount:"ipc_179",ipcDevicesWindowUnmount:"ipc_180",ipcDeviceUpdated:"ipc_072",ipcDumpSentinelDeviceTable:"ipc_068",ipcExit:"ipc_010",ipcExiting:"ipc_011",ipcIperf3StatusDown:"ipc_012",ipcIperf3StatusUp:"ipc_013",ipcIsLocalClient:"ipc_177",ipcLinkTo:"ipc_014",ipcLoginStatus:"ipc_015",ipcLoginVerifyStatus:"ipc_157",ipcNavBarInfo:"ipc_176",ipcNominalLatencyStatus:"ipc_016",ipcNominalLatencyStatusFinal:"ipc_017",ipcNoop:"ipc_044",ipcPingPlotConvertDB:"ipc_056",ipcPingPlotData:"ipc_024",ipcPingPlotWindowButtonHome:"ipc_025",ipcPingPlotWindowButtonLeft:"ipc_026",ipcPingPlotWindowButtonLeftMarked:"ipc_027",ipcPingPlotWindowButtonRight:"ipc_028",ipcPingPlotWindowButtonRightMarked:"ipc_029",ipcPingPlotWindowButtonZoomChange:"ipc_030",ipcPingPlotWindowMount:"ipc_031",ipcPingPlotWindowButtonHomeEx:"ipc_114",ipcPingPlotWindowButtonLeftEx:"ipc_115",ipcPingPlotWindowButtonLeftMarkedEx:"ipc_116",ipcPingPlotWindowButtonRightEx:"ipc_117",ipcPingPlotWindowButtonRightMarkedEx:"ipc_118",ipcPingPlotWindowButtonZoomChangeEx:"ipc_119",ipcPingPlotWindowMountEx:"ipc_120",ipcPingPlotWindowUnmount:"ipc_178",ipcQuit:"ipc_067",ipcRendererReady:"ipc_033",ipcSentinelDiscoveryTryingSentinelIPAddress:"ipc_018",ipcSentinelDiscovery:"ipc_019",ipcSentinelSendState:"ipc_020",ipcSentinelOnlineCheck:"ipc_021",ipcSentinelOnlineStatus:"ipc_022",ipcServerAddress:"ipc_064",ipcShowNavBar:"ipc_146",ipcTestingState:"ipc_036",ipcTickStatusIperf3Down:"ipc_037",ipcThroughputTestFailedToGetServer:"ipc_038",ipcThrouputTestStatus:"ipc_087",ipcThroughputTestWindowButtonLeft:"ipc_089",ipcThroughputTestWindowButtonNewest:"ipc_088",ipcThroughputTestWindowButtonOldest:"ipc_091",ipcThroughputTestWindowButtonRight:"ipc_090",ipcThroughputTestWindowMount:"ipc_039",ipcThroughputTestWindowCancel:"ipc_175",ipcThroughputTestWindowStart:"ipc_174",ipcThroughputTestWindowStartStop:"ipc_040",ipcTickStatusIperf3Up:"ipc_041",ipcTickStatusNominalLatency:"ipc_042",ipcTimeOfTest:"ipc_043",ipcUserAddVerified:"ipc_127",ipcZZZNext:"ipc_181",configFilename:"iipzy",crashFilename:"iipzy-crash.txt",loginStatusLoggedOut:0,loginStatusLoggedIn:1,loginStatusLoginFailed:2,loginStatusVerified:3,loginStatusVerifyFailed:4,loginStatusNoServerAddress:5,sentinelStatusOnline:0,sentinelStatusOffline:1,sentinelStatusInUse:2,sentinelStatusNoAddress:3,sentinelStatusUnknown:4,sentinelStatusOnlineLoggedOut:5,pevLoginStatus:"pev_1001",pevLoginNeeded:"pev_1002",pevZZZNext:"pev_1003",httpCustomHeader_XAuthToken:"x-auth-token",httpCustomHeader_XClientToken:"x-client-token",httpCustomHeader_XConnToken:"x-conn-token",httpCustomHeader_XTimestamp:"x-timestamp",httpCustomHeader_XWebClient:"x-web-client",httpStatusOk:200,httpStatusCreated:201,httpStatusAccepted:202,httpStatusNoContent:204,httpStatusMultiStatus:207,httpStatusFound:302,httpStatusBadRequest:400,httpStatusUnauthorized:401,httpStatusForbidden:403,httpStatusNotFound:404,httpStatusConflict:409,httpStatusGone:410,httpStatusUnprocessableEntity:422,httpStatusInternalError:500,httpStatusNotImplemented:501,httpStatusConnRefused:900,httpStatusConnAborted:901,httpStatusConnReset:902,httpStatusSentinelInUse:903,httpStatusException:999,statusOk:0,statusAlreadyExists:10001,statusDoesNotExist:10002,statusInvalidVerificationCode:10003,statusGeneralSqlFailure:10004,statusException:10005,statusInvalidUserName:10006,statusInvalidPasswordResetCode:10007,statusCannotAllocateIperf3Server:10008,statusDailyIperf3LimitReached:10009,statusInvalidUpdateType:10010,statusUpdateInProgress:10011,statusRouteError:10012,statusMissingClientToken:10013,statusInvalidClientToken:10014,statusMissingAuthToken:10015,statusInvalidAuthToken:10016,statusMissingParam:10017,statusInvalidParam:10018,statusInvalidCredentials:10019,statusMissingConnectionToken:10020,statusInvalidConnectionToken:10021,statusAdminPriviledgeRequired:10022,statusInvalidClientType:10023,statusIperf3ServerBusy:10024,statusHttpError:10025,statusInvalidThirdPartyApi:10026,statusSentinelInUse:10027,statusAdminInProgress:10028,statusInvalidDownloadClient:10029,statusUserNotInWhiteList:10030,statusIperf3ServerFailed:10031,pingFlagNoop:0,pingFlagTcMode:1,pingMarkNormal:0,pingMarkDropped:1,pingMarkSavedRx:2,pingMarkSavedTx:4,objectType_null:"",objectType_clientInstance:"clientInstance",objectType_networkDevice:"networkDevice",objectType_server:"server",eventClass_null:"",eventClass_clientAdded:"clientAdded",eventClass_clientAddressChanged:"clientAddressChanged",eventClass_clientOnLineStatus:"clientOnLineStatus",eventClass_clientLoginStatus:"clientLoginStatus",eventClass_cpuusage:"cpuusage",eventClass_crash:"crash",eventClass_networkDeviceAdded:"networkDeviceAdded",eventClass_networkDeviceDeleted:"networkDeviceDeleted",eventClass_networkDeviceIPAddressChanged:"networkDeviceIPAddressChanged",eventClass_networkDeviceStatus:"networkDeviceStatus",eventClass_pingFail:"pingFail",eventId_null:"",eventActive_inactive:0,eventActive_active:1,eventActive_activeAutoInactive:2,alertTarget_null:0,alertTarget_email:1,alertTarget_sms:2,adminCmd_admin:"admin",adminCmd_getLogLevel:"get-log-level",adminCmd_setLogLevel:"set-log-level",adminCmd_sendLogs:"send-logs",adminCmd_sentinel_none:"none",adminCmd_sentinel_reboot:"reboot",adminCmd_sentinel_resetNetworkDevicesDatabase:"reset-network-devices-database",adminCmd_sentinel_restartSentinel:"restart-sentinel",adminCmd_sentinel_restartSentinelAdmin:"restart-sentinel-admin",adminCmd_sentinel_restartSentinelWeb:"restart-sentinel-web",adminCmd_sentinel_restartUpdater:"restart-updater",adminCmd_sentinel_sendLogs:"send-logs",adminCmd_sentinel_setLogLevelDetailed:"set-log-level-detailed",adminCmd_sentinel_setLogLevelNormal:"set-log-level-normal",clientType_null:"null",clientType_appliance:"appliance",clientType_pc:"pc",clientType_web:"web",clientMode_null:"null",clientMode_pcOnly:"pc-only",clientMode_sentinel:"sentinel",thirdPartyApiName_null:"null",thirdPartyApiName_email:"email",thirdPartyApiName_ipApi:"ipApi",thirdPartyApiName_ipGeolocation:"ipGeolocation",thirdPartyApiName_sms:"sms",headBuzzardUserId:1,endOfFile:0}},188:function(t,e,n){t.exports=n(366)},194:function(t,e,n){},199:function(t,e,n){},223:function(t,e){},225:function(t,e){},250:function(t,e){},252:function(t,e){},285:function(t,e){},287:function(t,e){},288:function(t,e){},293:function(t,e){},295:function(t,e){},301:function(t,e){},303:function(t,e){},322:function(t,e){},334:function(t,e){},337:function(t,e){},366:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(0),a=n.n(o),i=n(46),l=n.n(i),c=n(14),u=(n(193),n(1)),s=n.n(u),d=(n(194),n(4)),h=n(5),p=n(9),f=n(7),v=n(6),m=n(42);var g={send:function(t,e){console.log("---eventManager.send: channel = "+t);var n=new CustomEvent(t,{detail:{data:e||{}}});document.getElementById("root").dispatchEvent(n)},on:function(t,e){document.getElementById("root").addEventListener(t,(function(n){e(t,n.detail.data)}),!1)}},y=null,w=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this,t)).handleClick=function(t){console.log("==================NavBar.handleClick: url = "+t)},console.log("NavBar.constructor"),r.state={count:0},y=Object(p.a)(r),r}return Object(h.a)(n,[{key:"doRender",value:function(){console.log("NavBar.doRender");var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){var t=this,e=n.isAdmin,r=n.loggedIn,o=n.navbarName,i=n.userName;return console.log("NavBar.render: = "+o),a.a.createElement("div",null,a.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},"home"===o&&a.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},a.a.createElement("div",{className:"navbar-nav"},a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlIipzy)},to:s.a.urlIipzy},"iipzy"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlSentinels)},to:s.a.urlSentinels},"Sentinel"),!r&&a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlLogin)},to:s.a.urlLogin},"Log In"),r&&a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlLogin)},to:s.a.urlLogin},"Log Out"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlEditUser)},to:s.a.urlEditUser},"Edit User"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlForgotPassword)},to:s.a.urlForgotPassword},"Forgot Password"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlAddUser)},to:s.a.urlAddUser},"Register"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlAbout)},to:s.a.urlAbout},"About"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlDownload)},to:s.a.urlDownload},"Download"),e?a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlAdministration)},to:s.a.urlAdministration},"Administration"):null)),"admin"===o&&a.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},a.a.createElement("div",{className:"navbar-nav"},a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlClients)},to:s.a.urlClients},"Clients"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlSentinelAdmin)},to:s.a.urlSentinelAdmin},"Admin"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlUpdater)},to:s.a.urlUpdater},"Update"),a.a.createElement(c.b,{className:"nav-item nav-link",onClick:function(){return t.handleClick(s.a.urlHome)},to:s.a.urlHome},"Home")))),a.a.createElement("div",{style:{marginLeft:24,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"100%"}},"User: ",i)))}}]),n}(a.a.Component);w.isAdmin=!1,w.navbarName="home",w.userName="not logged in";g.on(s.a.ipcLoginStatus,(function(t,e){var n=e.isAdmin,r=e.loginStatus,o=e.userName;w.isAdmin=n,w.loggedIn=r===s.a.loginStatusLoggedIn,w.userName=w.loggedIn?o:"not logged in",null!=y&&y.doRender()})),g.on(s.a.ipcShowNavBar,(function(t,e){console.log("NavBar.handleShowNavBar: "+e),w.navbarName=e,null!=y&&y.doRender()}));var b=w,E=(n(199),n(186)),k=n(182),x=n.n(k),L=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("CloseButton.constructor"),r.state={linkCount:0},r}return Object(h.a)(n,[{key:"handleClick",value:function(t){console.log("CloseButton.handleClick"),this.props.onClick(t)}},{key:"render",value:function(){var t=this;return console.log("IipzyWindow.render"),a.a.createElement("div",null,a.a.createElement(x.a,{onClick:function(e){return t.handleClick(e)},type:"submit",style:{position:"absolute",top:"0px",right:"0px",border:"none",background:"none",outline:"none"}},a.a.createElement(E.a,{style:{height:30,width:30}})))}}]),n}(a.a.Component),_=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),Object(p.a)(r),r}return Object(h.a)(n,[{key:"getInfoMessage",value:function(){return this.props.getInfoMessage()}},{key:"handleSubmitClick",value:function(t){console.log("...Popup handleSubmitClick"),this.props.closePopup()}},{key:"render",value:function(){var t=this;return console.log("InfoPopup render"),a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup_inner"},a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},this.props.title)),a.a.createElement("div",{style:{marginLeft:30,textAlign:"left"}},a.a.createElement("p",null,a.a.createElement("br",null),this.getInfoMessage())),a.a.createElement(L,{onClick:function(e){return t.handleSubmitClick(e)}}))))}}]),n}(a.a.Component),C=null,S=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("Navigator.constructor"),r.state={linkCount:0},C=Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("Navigator.componentDidMount"),C=this}},{key:"componentWillUnmount",value:function(){console.log("Navigator.componentWillUnmount"),C=null}},{key:"handleLinkChange",value:function(){n.linkChange=!0,n.linkCount++,console.log("Navigator: handleLinkChange: "+n.link),this.setState({linkCount:n.linkCount})}},{key:"render",value:function(){var t=n.linkChange;n.linkChange=!1;var e=n.link;return console.log("Navigator.render: "+e+", linkChange = "+t),a.a.createElement("div",null,t&&a.a.createElement(m.d,null,a.a.createElement(m.a,{to:e})))}}]),n}(a.a.Component);S.link="",S.linkCount=0,S.linkChange=!1,g.on(s.a.ipcSentinelOnlineStatus,(function(t,e){})),g.on(s.a.ipcLinkTo,(function(t,e){console.log("navigator: "+e),S.link=e,C&&C.handleLinkChange()}));var O=S,P=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("AboutWindow.constructor"),r.state={count:0},Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("AboutWindow.componentDidMount");var t=this.state.count+1;this.setState({count:t})}},{key:"componentWillUnmount",value:function(){console.log("AboutWindow.componentWillUnmount"),null}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){console.log("AboutWindow.render");s.a.urlDownload;return a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"About iipzy"),a.a.createElement("p",null,"iipzy monitors your internet connection for reliability and speed."),a.a.createElement("p",null,"An iipzy device on your local network talks to the iipzy service in the cloud. The iipzy device is a Nano Pi R4S computer running linux and iipzy software. Click ",a.a.createElement("b",null,"Download")," above for how to set up a NanoPi R4S. The iipzy device is known as ",a.a.createElement("b",null,"Sentinel"),"."),a.a.createElement("p",null,"To watch your network connection, Sentinel sends a heartbeat to the iipzy service every 20 seconds. If the service fails to receive a heartbeat for one minute, it assumes your internet connection is down. You are notified by a text message and email of this. When a heartbeat is again received, you are notified that the connection is up."),a.a.createElement("p",null,"To measure network latency, Sentinel sends a ping to an internet server every 5 seconds. You can view the ping latency on a graph so that you can see latency variations over time. Ping history is kept for 30 days. iipzy notifies you by email if one or more pings are dropped."),a.a.createElement("p",null,"To measure network throughput, Sentinel runs a speed test once a day, at about 1 am. You can also run the speed test on demand. You can view the history of the speed tests to see if your throughput is changing."),a.a.createElement("p",null,"Additionally, Sentinel keeps track of devices on your network. You can view info about the devices, such as ip address, name, and capabilities. iipzy notifies you via email if a new device appears on your network or if a device hasn't been seen for 30 days. You can optionally monitor a particular device so that you are notified by email if it goes offline or comes online.")))}}]),n}(a.a.Component);function j(t,e,n){console.log(n+" ["+e+"] "+t)}var N=n(22),T=n.n(N),A=n(183),I=n.n(A);function U(){U=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var W=T.a.create({httpsAgent:new I.a.Agent({keepAlive:!0}),validateStatus:function(t){return!0}});function F(t,e){console.log("(Exception) "+t+": "+e+", code = "+e.code);var n=s.a.httpStatusException;switch(e.code){case"ECONNREFUSED":n=s.a.httpStatusConnRefused;break;case"ECONNABORTED":n=s.a.httpStatusConnAborted;break;case"ECONNRESET":n=s.a.httpStatusConnReset;break;default:n=s.a.httpStatusConnRefused}return{status:n}}function R(){return(R=Object(r.a)(U().mark((function t(e,n){return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.delete(e,B(n));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",F("delete",t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function G(){return(G=Object(r.a)(U().mark((function t(e,n){return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("--------------_get: url "+e),t.prev=1,t.next=4,W.get(e,B(n));case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),console.log("(Exception)--------------_get: ex "+t.t0.code),t.abrupt("return",F("get",t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function M(){return(M=Object(r.a)(U().mark((function t(e,n,r){return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("--------------_post: url "+e),t.prev=1,t.next=4,W.post(e,n,B(r));case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),console.log("(Exception)--------------_post: ex "+t.t0.code),t.abrupt("return",F("post",t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function D(){return(D=Object(r.a)(U().mark((function t(e,n,r){return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.put(e,n,B(r));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",F("put",t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function B(t){var e=t||{};return e.headers={},e.headers[s.a.httpCustomHeader_XTimestamp]=Date.now(),e.headers[s.a.httpCustomHeader_XWebClient]=1,T.a.defaults.headers.common[s.a.httpCustomHeader_XAuthToken]&&(e.headers[s.a.httpCustomHeader_XAuthToken]=T.a.defaults.headers.common[s.a.httpCustomHeader_XAuthToken]),T.a.defaults.headers.common[s.a.httpCustomHeader_XClientToken]&&(e.headers[s.a.httpCustomHeader_XClientToken]=T.a.defaults.headers.common[s.a.httpCustomHeader_XClientToken]),T.a.defaults.headers.common[s.a.httpCustomHeader_XConnToken]&&(e.headers[s.a.httpCustomHeader_XConnToken]=T.a.defaults.headers.common[s.a.httpCustomHeader_XConnToken]),e}var z={delete:function(t,e){return R.apply(this,arguments)},get:function(t,e){return G.apply(this,arguments)},post:function(t,e,n){return M.apply(this,arguments)},put:function(t,e,n){return D.apply(this,arguments)},logAuthToken:function(){console.log("authToken: "+T.a.defaults.headers.common[s.a.httpCustomHeader_XAuthToken])},setAuthTokenHeader:function(t){console.log("setAuthTokenHeader = "+t),T.a.defaults.headers.common[s.a.httpCustomHeader_XAuthToken]=t},setBaseURL:function(t){T.a.defaults.baseURL="http://"+t+"/",console.log("setBaseURL = "+T.a.defaults.baseURL)},setClientTokenHeader:function(t){console.log("setClientTokenHeader = "+t),T.a.defaults.headers.common[s.a.httpCustomHeader_XClientToken]=t},setConnTokenHeader:function(t){console.log("setConnTokenHeader = "+t),T.a.defaults.headers.common[s.a.httpCustomHeader_XConnToken]=t}};function V(){V=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Y="address not set";function H(){return(H=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j("users.init","clts","info"),Y=e;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("addUser","user","info"),t.next=3,z.post("https://"+Y+"/api/user",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("deleteUser","user","info"),t.next=3,z.delete("https://"+Y+"/api/user");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return(X=Object(r.a)(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("getUser","user","info"),t.next=3,z.get("https://"+Y+"/api/user");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){return(Z=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("newPassword","user","info"),t.next=3,z.post("https://"+Y+"/api/user/newpassword",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return(K=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("sendCode","user","info"),t.next=3,z.post("https://"+Y+"/api/user/sendcode",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(){return(Q=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("updateUser","user","info"),t.next=3,z.put("https://"+Y+"/api/user/user",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(){return($=Object(r.a)(V().mark((function t(e){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("verifyUser","user","info"),t.next=3,z.put("https://"+Y+"/api/user/verify",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var tt={init:function(t){return H.apply(this,arguments)},final:function(){},addUser:function(t){return q.apply(this,arguments)},deleteUser:function(t){return J.apply(this,arguments)},getUser:function(){return X.apply(this,arguments)},newPassword:function(t){return Z.apply(this,arguments)},sendPasswordResetCode:function(t){return K.apply(this,arguments)},updateUser:function(t){return Q.apply(this,arguments)},verifyUser:function(t){return $.apply(this,arguments)}},et=n(70),nt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("SpinnerPopup.constructor"),Object(p.a)(r),r.state={count:0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("SpinnerPopup.componentDidMount");var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){return console.log("SpinnerPopup render"),a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{className:"popup_spinner"},a.a.createElement("div",{className:"popup_spinner_inner",alignItems:"center"},a.a.createElement("div",null,a.a.createElement(et.a,{animation:"border",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading..."))))))}}]),n}(a.a.Component),rt=n(29),ot=n(380),at=function(t){var e=t.type,n=t.name,r=t.label,o=t.value,i=t.error,l=t.autofocus,c=t.disabled,u=t.onChange,s=t.porportionalWidth?"85%":"480px";return a.a.createElement("div",{className:"form-group",style:{width:s,marginLeft:45}},a.a.createElement("label",{htmlFor:n},r),a.a.createElement("input",{autoFocus:l,disabled:c,value:o||"",onChange:u,id:n,name:n,type:e,className:"form-control"}),i&&a.a.createElement("div",{className:"alert alert-danger"},i))};function it(){it=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var lt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this,t)).state={code:""},console.log("ValidationPopup.constructor"),r}return Object(h.a)(n,[{key:"getCode",value:function(){return this.state.code}},{key:"handleChange",value:function(t){var e=t.target.name,n=t.target.value;console.log("ValidationPopup.handleChange: name = "+e+", value = "+this.state[e]),this.setState(Object(rt.a)({},e,n))}},{key:"handleSubmitClick",value:function(){var t=Object(r.a)(it().mark((function t(e){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("ValidationPopup.handleSubmitClick"),console.log("code="+this.state.code),this.props.closePopup(),this.props.onSubmit(this.state.code);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleCancelClick",value:function(){var t=Object(r.a)(it().mark((function t(e){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("ValidationPopup.handleCancelClick"),this.props.closePopup(),this.props.onSubmit("000000");case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isValidInput",value:function(){return!0}},{key:"render",value:function(){var t=this;return console.log("ValidationPopup.render"),a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup_inner"},a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Enter Validation Code")),a.a.createElement(at,{type:"text",autofocus:!0,disabled:!1,name:"code",value:this.getCode(),label:"Code",onChange:function(e){return t.handleChange(e)},error:"",porportionalWidth:!0}),a.a.createElement("h1",null,this.props.text),a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!this.isValidInput(),style:{width:"130px",color:"#0000b0"},autoFocus:!0,onClick:function(e){return t.handleSubmitClick(e)}},"Submit")),a.a.createElement(L,{onClick:function(e){return t.handleCancelClick(e)}}))))}}]),n}(a.a.Component),ct=n(73),ut=n(18),st=n.n(ut),dt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("UserForm.constructor"),r.state={errors:{},count:0},r.data={userName:null,emailAddress:null,mobilePhoneNo:null,password:null,password2:null},Object(p.a)(r),r.schema={userName:st.a.string().required().label("User Name").min(5).max(50),emailAddress:st.a.string().required().label("Email Address").email(),mobilePhoneNo:st.a.string().required().label("Mobile Phone Number").regex(/^\d{3}-\d{3}-\d{4}$/).error((function(t){return{message:"Phone number must be of the form 123-456-7890"}})),password:st.a.string().required().label("Password").min(5).max(50),password2:st.a.string().required().label("Password Again").min(5).max(50)},r}return Object(h.a)(n,[{key:"validateProperty",value:function(t,e){console.log("UserForm.validateProperty: name="+t+", value = "+e);var n=Object(rt.a)({},t,e),r=Object(rt.a)({},t,this.schema[t]),o=st.a.validate(n,r).error;return console.log("UserForm.validateProperty - had error = "+o),o?o.details[0].message:null}},{key:"validate",value:function(){var t=st.a.validate(this.data,this.schema,{abortEarly:!1}).error;if(!t)return null;console.log("UserForm.validate - had error");var e,n={},r=Object(ct.a)(t.details);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.path[0]]=o.message}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"componentDidMount",value:function(){console.log("UserForm.componentDidMount"),this.data=this.props.getUserData();var t=this.state.count+1;this.setState({count:t})}},{key:"componentWillUnmount",value:function(){console.log("UserForm.componentWillUnmount"),this.props.setUserData(this.data),null}},{key:"isValidUserName",value:function(){return null!=this.data.userName&&this.data.userName.length>5}},{key:"isValidMobilePhoneNo",value:function(){return null!=this.data.mobilePhoneNo&&this.data.mobilePhoneNo.length>9}},{key:"isValidEmailAddress",value:function(){return null!=this.data.emailAddress&&this.data.emailAddress.length>5}},{key:"isValidPassword",value:function(){return null!=this.data.password&&this.data.password.length>5}},{key:"getButton1Label",value:function(){return this.props.button1Label}},{key:"getButton2Label",value:function(){return this.props.button2Label}},{key:"isValidInput",value:function(){return this.props.getButtonsEnabled()&&this.isValidUserName()&&this.isValidMobilePhoneNo()&&this.isValidEmailAddress()&&this.isValidPassword()&&this.data.password===this.data.password2}},{key:"handleChange",value:function(t){var e=t.target.name,n=t.target.value;console.log("UserForm.handleChange: name = "+e+", value = "+this.data[e]);var r=this.state.errors,o=this.validateProperty(e,n);o?r[e]=o:delete r[e];var a=this.data;a[e]=n,this.setState({data:a,errors:r})}},{key:"handlePassword2Change",value:function(t){var e=t.target.name,n=t.target.value;if(console.log("UserForm.handlePassword2Change: name="+e+", value="+this.data[e]),this.data.password!==n){var r=this.state.errors;r[e]="passwords don't match";var o=this.data;return o[e]=n,void this.setState({data:o,errors:r})}return this.handleChange(t)}},{key:"handleButtonClick",value:function(t){console.log("UserForm.handleButtonClick"),console.log("userName="+this.data.userName),console.log("mobilePhoneNo="+this.data.mobilePhoneNo),console.log("emailAddress="+this.data.emailAddress),t.preventDefault();var e=this.validate();e&&console.log("UserForm.handleButtonClick: errors = "+Object.values(e)),this.setState({errors:e||{}}),e||(this.props.setButtonsEnabled(!1),this.props.setFieldsEnabled(!1),this.props.onSubmit(this.data))}},{key:"handleButton2Click",value:function(t){this.props.setButtonsEnabled(!1),this.props.setFieldsEnabled(!1),this.props.onSubmit2(this.data)}},{key:"renderInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=this.state.errors,c=this.data;this.handleChange;return a.a.createElement(at,{type:n,name:t,label:e,value:c[t],error:l[t],autofocus:r,disabled:o,onChange:i})}},{key:"render",value:function(){var t=this;console.log("UserForm.render");var e=this.props.getButtonsEnabled(),n=this.props.getFieldsEnabled(),r=this.props.onSubmit2?20:0,o=a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},this.props.title)),a.a.createElement("form",null,this.renderInput("userName","User Name","text",!0,this.props.userNameDisabled||!n,(function(e){return t.handleChange(e)})),this.renderInput("emailAddress","Email Address","text",!1,!this.isValidUserName()||!n,(function(e){return t.handleChange(e)})),this.renderInput("mobilePhoneNo","Mobile Phone Number","text",!1,!this.isValidEmailAddress()||!n,(function(e){return t.handleChange(e)})),this.renderInput("password","Password","password",!1,!this.isValidMobilePhoneNo()||!n,(function(e){return t.handleChange(e)})),this.renderInput("password2","Password Again","password",!1,!this.isValidPassword()||!n,(function(e){return t.handlePassword2Change(e)})),a.a.createElement("div",null,"\xa0"),a.a.createElement("div",{style:{marginLeft:"45px"}},a.a.createElement("table",{align:"left"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("div",{style:{textAlign:"center",marginRight:r}},a.a.createElement(ot.a,{type:"submit",variant:"contained",disabled:!this.isValidInput(),style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleButtonClick(e)}},this.getButton1Label()))),this.props.onSubmit2&&a.a.createElement("td",null,a.a.createElement("div",{style:{textAlign:"center",marginLeft:20}},a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!e,style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleButton2Click(e)}},this.getButton2Label())))))))));return console.log("<<<UserForm.render"),o}}]),n}(a.a.Component);function ht(){ht=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var pt=null,ft=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("AddUserWindow.constructor"),r.state={count:0},pt=Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("AddUserWindow.componentDidMount"),this.doRender()}},{key:"componentWillUnmount",value:function(){console.log("AddUserWindow.componentWillUnmount"),pt=null}},{key:"componentWillReceiveProps",value:function(){console.log("AddUserWindow.componentWillReceiveProps")}},{key:"shouldComponentUpdate",value:function(t,e){return console.log("AddUserWindow.shouldComponentUpdate"),!0}},{key:"getUserData",value:function(){return{userName:n.userName,emailAddress:n.emailAddress,mobilePhoneNo:n.mobilePhoneNo,password:n.password,password2:n.password2}}},{key:"setUserData",value:function(t){n.userName=t.userName,n.emailAddress=t.emailAddress,n.mobilePhoneNo=t.mobilePhoneNo,n.password=t.password,n.password2=t.password2}},{key:"handleAddClick",value:function(t){console.log("AddUserWindow.handleAddClick"),console.log("  userName="+t.userName),console.log("  mobilePhoneNo="+t.mobilePhoneNo),console.log("  emailAddress="+t.emailAddress),n.userName=t.userName,n.mobilePhoneNo=t.mobilePhoneNo,n.emailAddress=t.emailAddress,n.password=t.password,n.password2=t.password,function(t){vt.apply(this,arguments)}(t)}},{key:"getInfoMessage",value:function(){return n.infoMessage}},{key:"handleInfoPopupClick",value:function(){console.log("AddUserWindow.handleInfoPopupClick")}},{key:"hideInfoPopup",value:function(){n.showInfoPopup=!1,n.buttonsEnabled=!n.showValidationPopup,n.isVerified&&(g.send(s.a.ipcUserAddVerified,{userName:n.userName}),n.isVerified=!1),this.doRender()}},{key:"handleVerifyClick",value:function(){var t=Object(r.a)(ht().mark((function t(e){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("AddUserWindow.handleVerifyClick, code"+e),"000000"!==e&&mt({userId:n.userId,verificationCode:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"hideValidationCodePopup",value:function(){n.showValidationPopup=!1,n.buttonsEnabled=!0,this.doRender()}},{key:"getButtonsEnabled",value:function(){return console.log("addUserWindow.getButtonsEnabled: "+n.buttonsEnabled),n.buttonsEnabled}},{key:"setButtonsEnabled",value:function(t){n.buttonsEnabled=t,console.log("AddUserWindow.setButtonsEnabled: "+n.fieldsEnabled)}},{key:"getFieldsEnabled",value:function(){return console.log("addUserWindow.getFieldsEnabled: "+n.fieldsEnabled),n.fieldsEnabled}},{key:"setFieldsEnabled",value:function(t){n.fieldsEnabled=t,console.log("AddUserWindow.setFieldsEnabled: "+n.fieldsEnabled)}},{key:"doRender",value:function(){console.log("AddUserWindow.doRender"),this.setState({count:this.state.count+1})}},{key:"render",value:function(){var t=this;console.log("AddUserWindow.render");var e=n.showInfoPopup,r=n.showSpinner,o=n.showValidationPopup;console.log("AddUserWindow.render: showInfoPopup = "+e),console.log("AddUserWindow.render: showSpinner = "+r),console.log("AddUserWindow.render: showValidationPopup = "+o);var i=a.a.createElement("div",null,o&&a.a.createElement(lt,{onSubmit:function(e){return t.handleVerifyClick(e)},closePopup:this.hideValidationCodePopup.bind(this)}),e&&a.a.createElement(_,{title:"Register User",getInfoMessage:function(){return t.getInfoMessage()},onSubmit:function(e){return t.handleInfoPopupClick(e)},closePopup:this.hideInfoPopup.bind(this)}),r&&a.a.createElement(nt,null),a.a.createElement(dt,{title:"Register User @ iipzy.com",getUserData:this.getUserData,setUserData:this.setUserData,getButtonsEnabled:this.getButtonsEnabled,setButtonsEnabled:this.setButtonsEnabled,getFieldsEnabled:this.getFieldsEnabled,setFieldsEnabled:this.setFieldsEnabled,userNameDisabled:!1,button1Label:"Register",onSubmit:function(e){return t.handleAddClick(e)}}));return console.log("<<<AddUserWindow.render"),i}}]),n}(dt);function vt(){return(vt=Object(r.a)(ht().mark((function t(e){var n,r;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("AddUserWindow.addUser"),ft.showSpinner=!0,pt&&pt.doRender(),t.next=5,tt.addUser(e);case 5:if(n=t.sent,r=n.data,n.status,!r.__hadError__){t.next=17;break}return console.log("addUserWindow.handleUserAddResponse: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),ft.infoMessage=r.__hadError__.errorMessage,ft.showInfoPopup=!0,ft.showSpinner=!1,ft.buttonsEnabled=!1,ft.fieldsEnabled=!0,pt&&pt.doRender(),t.abrupt("return");case 17:ft.userId=r.userId,console.log("AddUserWindow.addUser: userId = "+ft.userId),ft.showSpinner=!1,ft.showValidationPopup=!0,ft.buttonsEnabled=!1,ft.fieldsEnabled=!0,pt&&pt.doRender();case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mt(t){return gt.apply(this,arguments)}function gt(){return(gt=Object(r.a)(ht().mark((function t(e){var n,r;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ft.showSpinner=!0,pt&&pt.doRender(),t.next=4,tt.verifyUser(e);case 4:if(n=t.sent,r=n.data,n.status,!r.__hadError__){t.next=16;break}return console.log("AddUserWindow.handleUserVerifyResponse: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),ft.infoMessage=r.__hadError__.errorMessage,ft.showInfoPopup=!0,ft.buttonsEnabled=!1,ft.showSpinner=!1,ft.showValidationPopup=!0,pt&&pt.doRender(),t.abrupt("return");case 16:console.log("AddUserWindow.handleUserVerifyResponse: isVerified = "+r.isVerified),ft.showValidationPopup=!1,ft.infoMessage=ft.userName+" registered",ft.showInfoPopup=!0,ft.buttonsEnabled=!1,ft.fieldsEnabled=!0,ft.showSpinner=!1,ft.isVerified=!0,pt&&pt.doRender();case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}ft.userName="",ft.emailAddress="",ft.mobilePhoneNo="",ft.password="",ft.password2="",ft.needRegistration=!1,ft.buttonsEnabled=!0,ft.fieldsEnabled=!0,ft.showInfoPopup=!1,ft.infoMessage="",ft.showSpinner=!1,ft.showValidationPopup=!1,ft.userId=0,ft.isVerified=!1;var yt=ft,wt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("AdminNavigatorWindow.constructor"),r.state={count:0},Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("AdminNavigatorWindow.componentDidMount"),g.send(s.a.ipcShowNavBar,"admin"),this.doRender()}},{key:"componentWillUnmount",value:function(){console.log("AdminNavigatorWindow.componentWillUnmount"),null}},{key:"doRender",value:function(){this.setState({count:this.state.count+1})}},{key:"render",value:function(){return console.log("AdminNavigatorWindow.render"),a.a.createElement("div",null,a.a.createElement(O,null))}}]),n}(a.a.Component),bt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("BlankWindow.constructor"),r.state={count:0},Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("BlankWindow.componentDidMount");var t=this.state.count+1;this.setState({count:t})}},{key:"componentWillUnmount",value:function(){console.log("BlankWindow.componentWillUnmount"),null}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){return console.log("BlankWindow.render"),a.a.createElement("div",null,a.a.createElement(O,null))}}]),n}(a.a.Component);function Et(){Et=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var kt="",xt="address not set",Lt=!1;function _t(){return(_t=Object(r.a)(Et().mark((function t(e,n,r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j("clients.init","clts","info"),xt=e,Lt=n,kt=r;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ct(){return(Ct=Object(r.a)(Et().mark((function t(e){var n;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("getClients","clts","info"),n="https://"+xt+"/api/client",e&&(n+="?"+e),t.next=5,z.get(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var St={init:function(t,e,n){return _t.apply(this,arguments)},final:function(){},getClients:function(t){return Ct.apply(this,arguments)},getOriginHref:function(){return kt},getUseRemoteWeb:function(){return Lt}},Ot=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("VersionTable.constructor"),r}return Object(h.a)(n,[{key:"render",value:function(){var t=this.props.versionInfo;return console.log("VersionTable.render: versionInfo = "+JSON.stringify(t,null,2)),t?a.a.createElement("table",{align:"center"},a.a.createElement("tbody",null,t.map((function(t){return a.a.createElement("tr",{key:t.moduleName},a.a.createElement("td",null,t.moduleName),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",null,t.moduleUpdateTime))})))):a.a.createElement("div",null)}}]),n}(a.a.Component),Pt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),Object(p.a)(r),r.state={count:0},n.client=JSON.parse(JSON.stringify(r.props.getClient())),console.log("ClientPopup.constructor - client: "+JSON.stringify(n.client,null,2)),n.title="Client @"+n.client.clientToken,Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("ClientPopup componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("ClientPopup componentWillUnmount"),null}},{key:"handleCloseClick",value:function(t){console.log("...ClientPopup handleCloseClick"),this.props.closePopup(),this.props.onClose(t)}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"getInfoMessage",value:function(){return n.infoMessage}},{key:"handleCopyClientTokenClick",value:function(t){console.log("...ClientPopup.handleCopyClientTokenClick"),navigator.clipboard.writeText(n.client.clientToken).then((function(){})).catch((function(t){console.log("Something went wrong",t)}))}},{key:"render",value:function(){var t=this;console.log("ClientPopup render");var e=n.client,r="appliance"===e.clientType;return a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup_inner_700x540"},a.a.createElement("div",null,a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},e.clientName)),a.a.createElement("table",{align:"center"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Name:"),a.a.createElement("td",null,e.clientName)),a.a.createElement("tr",null,a.a.createElement("td",null,"Client Token:"),a.a.createElement("td",null,e.clientToken),a.a.createElement("td",null,"\xa0\xa0"),a.a.createElement("td",null,a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!1,size:"small",style:{width:"50px",height:"25px",color:"#0000b0"},onClick:function(e){return t.handleCopyClientTokenClick(e)}},"Copy"))),e.clientType?a.a.createElement("tr",null,a.a.createElement("td",null,"Client Type:"),a.a.createElement("td",null,"pc"===e.clientType?"pc":"Sentinel")):null,e.publicIPAddress?a.a.createElement("tr",null,a.a.createElement("td",null,"Public Address:"),a.a.createElement("td",null,e.publicIPAddress.substring(7))):null,e.localIPAddress?a.a.createElement("tr",null,a.a.createElement("td",null,"Local Address:"),a.a.createElement("td",null,e.localIPAddress)):null,e.userName?a.a.createElement("tr",null,a.a.createElement("td",null,"User Name:"),a.a.createElement("td",null,e.userName)):null,e.ispName?a.a.createElement("tr",null,a.a.createElement("td",null,"ISP:"),a.a.createElement("td",null,e.ispName)):null,a.a.createElement("tr",null,a.a.createElement("td",null,"On Line:"),a.a.createElement("td",null,e.isOnLine?"Yes":"No")),a.a.createElement("tr",null,a.a.createElement("td",null,"Logged In:"),a.a.createElement("td",null,e.isLoggedIn?"Yes":"No")),a.a.createElement("tr",null,a.a.createElement("td",null,"Iperf3 Count:"),a.a.createElement("td",null,e.iperf3UseCountDaily)),a.a.createElement("tr",null,a.a.createElement("td",null,"VersionInfo:")))),r&&a.a.createElement("div",{style:{marginLeft:10}},a.a.createElement(Ot,{versionInfo:e.versionInfo}))),a.a.createElement(L,{onClick:function(e){return t.handleCloseClick(e)}}))))}}]),n}(a.a.Component);Pt.client=null,Pt.title="Client";var jt=Pt;function Nt(){Nt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}a.a.Component;var Tt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){return Object(d.a)(this,n),e.call(this,t)}return Object(h.a)(n,[{key:"render",value:function(){var t=this,e=this.props.clients;return console.log("ClientTable render"),console.log(e),a.a.createElement("table",{id:"client-table"},e&&e.map((function(e){return a.a.createElement("tr",{key:e.clientToken},a.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return t.props.onClick(e.clientToken)}},a.a.createElement("div",{style:{textAlign:"left",marginLeft:20}},e.clientName)),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return t.props.onClick(e.clientToken)}},e.userName),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return t.props.onClick(e.clientToken)}},e.publicIPAddress.substring(7)),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return t.props.onClick(e.clientToken)}},e.localIPAddress),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:e.isOnLine?"pointer":"default"},onClick:function(){return t.props.onClick(e.clientToken)}},e.isOnLine?"":"off line"),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:e.userId?"pointer":"default"},onClick:function(){return t.props.onClick(e.clientToken)}},e.userId?"":"not registered"))})))}}]),n}(a.a.Component),At=null,It=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("ClientsWindow.constructor"),r.state={count:0},At=Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(r.a)(Nt().mark((function t(){return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("ClientsWindow.componentDidMount"),Ut("");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){console.log("ClientsWindow.componentWillUnmount"),At=null}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"handleClientTokenClick",value:function(t){console.log("ClientsWindow.clientTokenClick = "+t),n.clientToken=t,n.showClientPopup=!0,this.doRender()}},{key:"handleClientCloseClick",value:function(){console.log("ClientsWindow.handleClientCloseClick")}},{key:"hideClientPopup",value:function(){n.showClientPopup=!1,this.doRender()}},{key:"getClient",value:function(){return console.log("ClientsWindow.getClient"),n.clientByClientToken.get(n.clientToken)}},{key:"render",value:function(){var t=this;console.log("ClientsWindow.render");var e=n.clients,r=n.showClientPopup;return a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Clients")),r?a.a.createElement(jt,{getClient:function(){return t.getClient()},onClose:function(e){return t.handleClientCloseClick(e)},closePopup:this.hideClientPopup.bind(this)}):null,a.a.createElement("div",{style:{marginLeft:20,border:"1px solid #ccc",font:"14px Courier New",fontWeight:"bold",overflowY:"scroll"}},a.a.createElement(Tt,{clients:e,onClick:function(e){return t.handleClientTokenClick(e)}})))}}]),n}(a.a.Component);function Ut(t){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(r.a)(Nt().mark((function t(e){var n,r,o,a,i;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St.getClients(e);case 2:if(n=t.sent,r=n.data,o=n.status,console.log("ClientsWindow.getClientsFromDB (response): status = "+o),!r.__hadError__){t.next=11;break}return console.log("ClientsWindow.getClientsFromDB: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),It.infoMessage=r.__hadError__.errorMessage,At&&At.doRender(),t.abrupt("return");case 11:for(It.clients=r,It.clientByClientToken=new Map,a=0;a<It.clients.length;a++)i=It.clients[a],It.clientByClientToken.set(i.clientToken,i);At&&At.doRender();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}It.clients=null,It.clientByClientToken=new Map,It.clientToken="",It.infoMessage="",It.showClientPopup=!1;var Ft=It,Rt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("DownloadWindow.constructor"),r.state={count:0},Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("DownloadWindow.componentDidMount");var t=this.state.count+1;this.setState({count:t})}},{key:"componentWillUnmount",value:function(){console.log("DownloadWindow.componentWillUnmount"),null}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){return console.log("DownloadWindow.render"),a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Download iipzy Sentinel Nano Pi R4S Image")),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left",fontWeight:"normal"}},a.a.createElement("p",null,"You'll need a NanoPi R4S with 4GB (or more) of memory and an 8 GB (or larger) Micro SD Memory Card. ",a.a.createElement("br",null),a.a.createElement("br",null),"The NanoPi R4S can be found at"," ",a.a.createElement("a",{href:"https://www.amazon.com/FriendlyElec-OpenWRT-Dual-Gbps-Ethernet-Gateway/dp/B08PV4228F/ref=sxts_rp_s_a_1_0?content-id=amzn1.sym.3432eb1a-1558-4445-9430-9bb3e7f7b9b7%3Aamzn1.sym.3432eb1a-1558-4445-9430-9bb3e7f7b9b7&crid=30OJGJPB4KYEQ&cv_ct_cx=nanopi%2Br4s&keywords=nanopi%2Br4s&pd_rd_i=B08PV4228F&pd_rd_r=4f14af91-d9b7-4809-a181-4382d2cc190e&pd_rd_w=z6Fcw&pd_rd_wg=4uEXm&pf_rd_p=3432eb1a-1558-4445-9430-9bb3e7f7b9b7&pf_rd_r=SNZJW1ZHJW7CP6K9EHRV&qid=1683063967&sbo=RZvfv%2F%2FHxDF%2BO5021pAnSA%3D%3D&sprefix=nanopi%2Br4s%2Caps%2C135&sr=1-1-5985efba-8948-4f09-9122-d605505c9d1e&ufe=app_do%3Aamzn1.fos.18ed3cb5-28d5-4975-8bc7-93deae8f9840&th=1"},"here"),a.a.createElement("br",null),a.a.createElement("br",null),"You'll also need a power supply.  A good choice is"," ",a.a.createElement("a",{href:"https://www.amazon.com/CanaKit-Raspberry-Power-Supply-USB-C/dp/B07TYQRXTK/ref=pd_bxgy_vft_none_sccl_1/145-5946572-5530057?pd_rd_w=Hci82&content-id=amzn1.sym.26a5c67f-1a30-486b-bb90-b523ad38d5a0&pf_rd_p=26a5c67f-1a30-486b-bb90-b523ad38d5a0&pf_rd_r=HJDVY0011YS55XSD4DT3&pd_rd_wg=i0zEH&pd_rd_r=ddd24b26-2410-4359-b5ba-7dc5b2ccb416&pd_rd_i=B07TYQRXTK&psc=1"},"here"),a.a.createElement("br",null),a.a.createElement("br",null),"A good choice for a Micro SD Card is"," ",a.a.createElement("a",{href:"https://www.amazon.com/Transcend-MicroSDHC-Memory-Adapter-TS8GUSDU1/dp/B00BDS426G/ref=sr_1_1?crid=20GSBJO9DI9GY&keywords=transcend+8gb+micro+sd+card&qid=1683064793&sprefix=transcend+8gb+micro+sd+card%2Cspecialty-aps%2C122&sr=8-1"},"here"),a.a.createElement("br",null),a.a.createElement("br",null),"Download the Sentinel NanoPi R4s image"," ",a.a.createElement("a",{href:"https://iipzy.net:8001/api/clientupdate//bacec2a221264e32bdc3aa886e80a1b1"},"here"),a.a.createElement("br",null),a.a.createElement("br",null),"I recommend you use balenaEtcher to burn the Sentinel NanoPi R4S image to the Micro SD Card.",a.a.createElement("br",null),"You can find balanaEtcher"," ",a.a.createElement("a",{href:"https://www.balena.io/etcher/"},"here"),a.a.createElement("br",null),a.a.createElement("br",null),"Install the Micro SD Card with the image into the NanoPi R4S. \xa0\xa0 Connect the NanoPi to the power supply.\xa0\xa0The red PWR led, that can be seen from the top, will light if power is on.\xa0\xa0Connect the Nano Pi to your local network.\xa0\xa0The iipzy Sentinel will then connect to the iipzy service.\xa0\xa0Once you have registered and logged in, you can connect to the iipzy Sentinel by clicking on ",a.a.createElement("strong",null,"Sentinel")," above.")))}}]),n}(a.a.Component);function Gt(){Gt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Mt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("PasswordPopup.constructor"),r.state={password:""},Object(p.a)(r),r}return Object(h.a)(n,[{key:"getPassword",value:function(){return this.state.password}},{key:"handleChange",value:function(t){var e=t.target.name,n=t.target.value;console.log("PasswordPopup.name="+e+", value="+this.state[e]),this.setState(Object(rt.a)({},e,n))}},{key:"handleCloseClick",value:function(t){console.log("PasswordPopup.handleCloseClick"),this.props.onSubmit(""),this.props.closePopup(),this.state.password=""}},{key:"handleSubmitClick",value:function(){var t=Object(r.a)(Gt().mark((function t(e){return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.onSubmit(this.state.password),this.props.closePopup(),this.state.password="";case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isValidInput",value:function(){return!0}},{key:"render",value:function(){var t=this;return console.log("PasswordPopup render"),a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup_inner"},a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Enter Password")),a.a.createElement("form",null,a.a.createElement(at,{type:"password",autofocus:!0,disabled:!1,name:"password",value:this.getPassword(),label:"Password",onChange:function(e){return t.handleChange(e)},error:"",porportionalWidth:!0}),a.a.createElement("h1",null,this.props.text),a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(ot.a,{type:"submit",variant:"contained",disabled:!this.isValidInput(),style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleSubmitClick(e)}},"Submit")),a.a.createElement(L,{onClick:function(e){return t.handleCloseClick(e)}})))))}}]),n}(a.a.Component);function Dt(){Dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Bt=null,zt=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("EditUserWindow.constructor"),r.windowTitle="Update User @ iipzy.com",r.userId=0,Bt=Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("EditUserWindow.componentDidMount"),n.buttonsEnabled=!1,n.fieldsEnabled=!0,n.showPasswordPopup=!0,n.passwordValidated=!1;var t=this.state.count+1;this.setState({count:t})}},{key:"componentWillUnmount",value:function(){console.log("EditUserWindow.componentWillUnmount"),Bt=null}},{key:"getUserData",value:function(){var t={userName:n.userName,emailAddress:n.emailAddress,mobilePhoneNo:n.mobilePhoneNo,password:n.password,password2:n.password2};return console.log("EditUserWindow.getUserData: "+JSON.stringify(t)),console.log("EditUserWindow.getUserData: emailAddress = "+t.emailAddress),t}},{key:"setUserData",value:function(t){console.log("EditUserWindow.setUserData: emailAddress = "+t.emailAddress),n.userName=t.userName,n.emailAddress=t.emailAddress,n.mobilePhoneNo=t.mobilePhoneNo,n.password=t.password,n.password2=t.password2}},{key:"getButtonsEnabled",value:function(){return console.log("EditUserWindow.getButtonsEnabled: "+n.buttonsEnabled),n.buttonsEnabled}},{key:"setButtonsEnabled",value:function(t){n.buttonsEnabled=t,console.log("EditUserWindow.setButtonsEnabled: "+n.buttonsEnabled)}},{key:"getFieldsEnabled",value:function(){return console.log("EditUserWindow.getFieldsEnabled: "+n.fieldsEnabled),n.fieldsEnabled}},{key:"setFieldsEnabled",value:function(t){n.fieldsEnabled=t,console.log("EditUserWindow.setFieldsEnabled: "+n.fieldsEnabled)}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"handleUpdateClick",value:function(){var t=Object(r.a)(Dt().mark((function t(e){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("EditUserWindow.handleUpdateClick"),console.log("userName="+e.userName),console.log("mobilePhoneNo="+e.mobilePhoneNo),console.log("emailAddress="+e.emailAddress),Ht(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleDeleteClick",value:function(){var t=Object(r.a)(Dt().mark((function t(e){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("EditUserWindow handleDeleteClick"),Vt(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleLoginClick",value:function(t){console.log("...handleLoginClick"),g.send(s.a.ipcLinkTo,s.a.urlLogin)}},{key:"getInfoMessage",value:function(){return n.infoMessage}},{key:"handleInfoPopupClick",value:function(){console.log("...EditUserWindowhandleInfoPopupClick")}},{key:"hideInfoPopup",value:function(){n.showInfoPopup=!1,n.buttonsEnabled=!0,n.fieldsEnabled=!0,this.doRender()}},{key:"handlePasswordPopupClick",value:function(t){t===n.password?(console.log("...handlePasswordPopupClick: password match"),n.passwordValidated=!0,n.passwordSupplied=!0):t||(console.log("...handlePasswordPopupClick: password empty"),n.passwordValidated=!1,n.passwordSupplied=!1)}},{key:"hidePasswordPopup",value:function(){console.log("...hidePasswordPopup"),n.passwordValidated?(n.showPasswordPopup=!1,n.buttonsEnabled=!0):n.passwordSupplied||(n.showPasswordPopup=!1,n.buttonsEnabled=!1),n.fieldsEnabled=!0,this.doRender()}},{key:"render",value:function(){var t=this,e=n.isLoggedIn;console.log("EditUserWindow.render: isLoggedIn = "+e);var r=n.passwordSupplied,o=n.showInfoPopup,i=n.showPasswordPopup,l=n.showSpinner;return a.a.createElement("div",null,e&&i&&a.a.createElement(Mt,{onSubmit:function(e){return t.handlePasswordPopupClick(e)},closePopup:this.hidePasswordPopup.bind(this)}),o&&a.a.createElement(_,{title:"Edit User",getInfoMessage:function(){return t.getInfoMessage()},onSubmit:function(e){return t.handleInfoPopupClick(e)},closePopup:this.hideInfoPopup.bind(this)}),l&&a.a.createElement(nt,null),!e&&!o&&a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},this.windowTitle)),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"You must be logged in to edit your user settings"),a.a.createElement(ot.a,{type:"button",variant:"contained",style:{width:"130px",color:"#0000b0"},autoFocus:!0,onClick:function(e){return t.handleLoginClick(e)}},"Login"))),e&&!i&&r&&a.a.createElement(dt,{title:this.windowTitle,getUserData:this.getUserData,setUserData:this.setUserData,getButtonsEnabled:this.getButtonsEnabled,setButtonsEnabled:this.setButtonsEnabled,getFieldsEnabled:this.getFieldsEnabled,setFieldsEnabled:this.setFieldsEnabled,userNameDisabled:!0,button1Label:"Update",onSubmit:function(e){return t.handleUpdateClick(e)},button2Label:"Delete",onSubmit2:function(e){return t.handleDeleteClick(e)}}))}}]),n}(dt);function Vt(t){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(r.a)(Dt().mark((function t(e){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zt.showSpinner=!0,Bt&&Bt.doRender(),t.next=4,tt.deleteUser(e);case 4:if(n=t.sent,r=n.data,n.status,!r.__hadError__){t.next=16;break}return console.log("EditUserWindow.deleteUser: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),zt.buttonsEnabled=!1,zt.fieldsEnabled=!0,zt.infoMessage=r.__hadError__.errorMessage,zt.showInfoPopup=!0,zt.showSpinner=!0,Bt&&Bt.doRender(),t.abrupt("return");case 16:g.send(s.a.ipcSubmitLogout,{userName:zt.userName,authToken:zt.authToken}),zt.buttonsEnabled=!1,zt.fieldsEnabled=!0,zt.infoMessage=zt.userName+" deleted",zt.showInfoPopup=!0,zt.showSpinner=!1,zt.userId=0,zt.userName="",zt.emailAddress="",zt.mobilePhoneNo="",zt.password="",zt.password2="",zt.isAdmin=!1,zt.isLoggedIn=!1,zt.authToken="",Bt&&Bt.doRender();case 32:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(t){return qt.apply(this,arguments)}function qt(){return(qt=Object(r.a)(Dt().mark((function t(e){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zt.showSpinner=!0,Bt&&Bt.doRender(),t.next=4,tt.updateUser(e);case 4:if(n=t.sent,r=n.data,n.status,!r.__hadError__){t.next=16;break}return console.log("EditUserWindow.updateUser: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),zt.buttonsEnabled=!1,zt.fieldsEnabled=!0,zt.infoMessage=r.__hadError__.errorMessage,zt.showInfoPopup=!0,zt.showSpinner=!1,Bt&&Bt.doRender(),t.abrupt("return");case 16:zt.mobilePhoneNo=e.mobilePhoneNo,zt.emailAddress=e.emailAddress,zt.password=e.password,zt.buttonsEnabled=!1,zt.fieldsEnabled=!0,zt.infoMessage=zt.userName+" updated",zt.showInfoPopup=!0,zt.showSpinner=!1,Bt&&Bt.doRender();case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}zt.userName="",zt.emailAddress="",zt.mobilePhoneNo="",zt.password="",zt.password2="",zt.userId=0,zt.isAdmin=!1,zt.isLoggedIn=!1,zt.authToken="",zt.infoMessage="",zt.showInfoPopup=!1,zt.showPasswordPopup=!0,zt.showSpinner=!1,zt.passwordSupplied=!1,zt.passwordValidated=!1,zt.buttonsEnabled=!1,zt.fieldsEnabled=!0;var Jt=function(){var t=Object(r.a)(Dt().mark((function t(e,n){var r,o,a,i;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.userName,o=n.authToken,a=n.password,i=n.loginStatus,console.log("EditUserWindow.handleLoginStatus: userName = "+r+", loginStatus = "+i),zt.userName=r,zt.password=a,zt.password2=a,zt.isLoggedIn=i===s.a.loginStatusLoggedIn,zt.authToken=o,!zt.isLoggedIn||zt.emailAddress){t.next=10;break}return t.next=10,Xt();case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function Xt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(r.a)(Dt().mark((function t(){var e,n;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.getUser();case 2:e=t.sent,n=e.data,e.status,console.log("EditUserWindow.handleUserGetResponse: emailAddress = "+n.emailAddress+", mph = "+n.mobilePhoneNo),zt.userId=n.userId,zt.emailAddress=n.emailAddress,zt.mobilePhoneNo=n.mobilePhoneNo,zt.isAdmin=n.isAdmin,Bt&&Bt.doRender();case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}g.on(s.a.ipcLoginStatus,Jt);var Kt=zt;function Qt(){Qt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var $t=null,te=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("ForgotPasswordWindow.constructor"),r.state={update:!1,errors:{},count:0},r.data={userName:null,passwordResetCode:null,password:null,password2:null},$t=Object(p.a)(r),r.schema={userName:st.a.string().required().label("User Name").min(5).max(50),passwordResetCode:st.a.string().required().label("Password Reset Code").min(6).max(6),password:st.a.string().required().label("Password").min(5).max(50),password2:st.a.string().required().label("Password Again").min(5).max(50)},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("forgotPasswordWindow componentDidMount"),this.data.userName=n.userName,this.data.passwordResetCode=n.passwordResetCode,this.data.password=n.password,this.data.password2=n.password2,this.doRender()}},{key:"componentWillUnmount",value:function(){console.log("forgotPasswordWindow componentWillUnmount"),n.userName=this.data.userName,n.passwordResetCode=this.data.passwordResetCode,n.password=this.data.password,n.password2=this.data.password2,$t=null}},{key:"validateProperty",value:function(t,e){console.log("...validateProperty: name="+t+", value = "+e);var n=Object(rt.a)({},t,e),r=Object(rt.a)({},t,this.schema[t]),o=st.a.validate(n,r).error;return console.log("...validateProperty - had error = "+o),o?o.details[0].message:null}},{key:"validate",value:function(){var t=st.a.validate(this.data,this.schema,{abortEarly:!1}).error;if(!t)return null;console.log("...validate - had error");var e,n={},r=Object(ct.a)(t.details);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.path[0]]=o.message}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"handleChange",value:function(t){var e=t.target.name,n=t.target.value;console.log("name="+e+", value="+this.data[e]);var r=this.state.errors,o=this.validateProperty(e,n);o?r[e]=o:delete r[e];var a=this.data;a[e]=n,this.setState({data:a,errors:r})}},{key:"handleClearClck",value:function(t){n.userName="",n.passwordResetCode="",n.password="",n.password2="",n.showGetCodeResponsePopup=!1,n.getCodeResponseMessage="",n.showSubmitResponsePopup=!1,n.getSubmitResponseMessage="",n.inputsEnabled=!0,n.buttonsEnabled=!0,n.submitButtonEnabled=!1,n.codeSent=!1,this.componentDidMount()}},{key:"handleGetCodeClick",value:function(t){console.log("...ForgotPasswordWindow handleGetCodeClick"),console.log("userName="+this.data.userName),function(t){ee.apply(this,arguments)}({userName:this.data.userName})}},{key:"handlePassword2Change",value:function(t){var e=t.target.name,n=t.target.value;if(console.log("name="+e+", value="+this.data[e]),this.data.password!==n){var r=this.state.errors;r[e]="passwords don't match";var o=this.data;return o[e]=n,void this.setState({data:o,errors:r})}return this.handleChange(t)}},{key:"handleSubmitClick",value:function(t){console.log("...ForgotPasswordWindow handleSubmitClick"),console.log("userName="+this.data.userName),console.log("masswordResetCode="+this.data.passwordResetCode),t.preventDefault();var e=this.validate();e&&console.log("...handleSubmitClick: errors = "+Object.values(e)),this.setState({errors:e||{}}),e||function(t){ne.apply(this,arguments)}({userName:this.data.userName,passwordResetCode:this.data.passwordResetCode,password:this.data.password})}},{key:"isValidInput",value:function(){return this.isValidUserName()&&this.isValidPasswordResetCode()&&this.isValidPassword()&&this.data.password===this.data.password2}},{key:"isValidUserName",value:function(){return null!=this.data.userName&&this.data.userName.length>5}},{key:"codeSent",value:function(){return n.codeSent}},{key:"isValidPasswordResetCode",value:function(){return null!=this.data.passwordResetCode&&6===this.data.passwordResetCode.length}},{key:"isValidPassword",value:function(){return null!=this.data.password&&this.data.password.length>5}},{key:"renderInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=this.state.errors,c=this.data;console.log("ForgotPasswordWindow.renderInput: name="+t+", value="+c[t]);this.handleChange;return a.a.createElement(at,{type:n,name:t,label:e,value:c[t],error:l[t],autofocus:r,disabled:o,onChange:i})}},{key:"getResponseMessage",value:function(){return n.responseMessage}},{key:"handleResponsePopupClick",value:function(){console.log("...ForgotPasswordWindowhandleInfoPopupClick")}},{key:"hideResponsePopup",value:function(){n.showResponsePopup=!1,n.buttonsEnabled=!0,this.doRender()}},{key:"doRender",value:function(t,e){t&&e&&(this.data[t]=e),this.setState({count:this.state.count+1})}},{key:"render",value:function(){var t=this;console.log("forgotPasswordWindow.render");var e=n.inputsEnabled,r=n.buttonsEnabled,o=n.showResponsePopup,i=n.showSpinner,l=n.submitButtonEnabled;return a.a.createElement("div",null,a.a.createElement(O,null),i&&a.a.createElement(nt,null),o&&a.a.createElement(_,{title:"Forgot Password",getInfoMessage:function(){return t.getResponseMessage()},onSubmit:function(e){return t.handleResponsePopupClick(e)},closePopup:this.hideResponsePopup.bind(this)}),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Forgot Password")),a.a.createElement("div",{style:{textAlign:"left",fontWeight:"normal"}},a.a.createElement("p",null,'\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa01. Enter your User Name then click the "Get Code" button below.',a.a.createElement("br",null)," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa02. A Password Reset Code will be sent to the user's email address.",a.a.createElement("br",null),'\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa03. Enter the code and the new password (twice), then click the "Submit" button.')),a.a.createElement("form",null,this.renderInput("userName","User Name","text",!0,!e||this.codeSent(),(function(e){return t.handleChange(e)})),this.renderInput("passwordResetCode","Password Reset Code","text",!1,!e||!this.isValidUserName()||!this.codeSent(),(function(e){return t.handleChange(e)})),this.renderInput("password","Password","password",!1,!e||!this.isValidPasswordResetCode(),(function(e){return t.handleChange(e)})),this.renderInput("password2","Password Again","password",!1,!e||!this.isValidPassword(),(function(e){return t.handlePassword2Change(e)})),a.a.createElement("div",null,"\xa0"),a.a.createElement("div",{style:{marginLeft:"45px"}},a.a.createElement("table",{align:"left"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!r||!this.isValidUserName()||this.isValidPasswordResetCode(),style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleGetCodeClick(e)}},"Get Code"))),a.a.createElement("td",null,a.a.createElement("div",{style:{textAlign:"center",marginLeft:40,marginRight:40}},a.a.createElement(ot.a,{type:"submit",variant:"contained",disabled:!r||!this.isValidInput()||!l,style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleSubmitClick(e)}},"Submit"))),a.a.createElement("td",null,a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!r,style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleClearClck(e)}},"Clear")))))))))}}]),n}(a.a.Component);function ee(){return(ee=Object(r.a)(Qt().mark((function t(e){var n,r;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te.buttonsEnabled=!1,te.showSpinner=!0,$t&&$t.doRender(),t.next=5,tt.sendPasswordResetCode(e);case 5:n=t.sent,r=n.data,n.status,r.__hadError__?(console.log("ForgotPasswordWindow.getResetCode: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),te.responseMessage=r.__hadError__.errorMessage):(te.responseMessage="Password Reset Code has been sent to user "+te.userName,te.codeSent=!0,te.submitButtonEnabled=!0),te.buttonsEnabled=!0,te.showResponsePopup=!0,te.showSpinner=!1,$t&&$t.doRender();case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ne(){return(ne=Object(r.a)(Qt().mark((function t(e){var n,r;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te.buttonsEnabled=!1,te.showSpinner=!0,$t&&$t.doRender(),t.next=5,tt.newPassword(e);case 5:n=t.sent,r=n.data,n.status,r.__hadError__?(console.log("ForgotPasswordWindow.updatePassword: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),te.responseMessage=r.__hadError__.errorMessage):(te.responseMessage="Password has been changed for user "+te.userName,te.inputsEnabled=!1,te.submitButtonEnabled=!1),te.buttonsEnabled=!0,te.showResponsePopup=!0,te.showSpinner=!1,$t&&$t.doRender();case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}te.userName="",te.passwordResetCode="",te.password="",te.password2="",te.showResponsePopup=!1,te.responseMessage="",te.buttonsEnabled=!0,te.inputsEnabled=!0,te.submitButtonEnabled=!1,te.showSpinner=!1,te.codeSent=!1;g.on(s.a.ipcLoginStatus,(function(t,e){var n=e.userName;console.log("ForgotPasswordWindow.handleLoginStatus: userName "+n),te.userName=n,null!=$t&&$t.doRender("userName",n)}));var re=te,oe=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("HomeNavigatorWindow.constructor"),r.state={count:0},Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("HomeNavigatorWindow.componentDidMount"),g.send(s.a.ipcShowNavBar,"home"),g.send(s.a.ipcLinkTo,s.a.urlIipzy),this.doRender()}},{key:"componentWillUnmount",value:function(){console.log("HomeNavigatorWindow.componentWillUnmount"),null}},{key:"doRender",value:function(){this.state.count;this.setState({count:this.state.count+1})}},{key:"render",value:function(){return console.log("HomeNavigatorWindow.render"),a.a.createElement("div",null,a.a.createElement(O,null))}}]),n}(a.a.Component),ae=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("IipzyWindow.constructor"),r.state={count:0},Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("IipzyWindow.componentDidMount");var t=this.state.count+1;this.setState({count:t})}},{key:"componentWillUnmount",value:function(){console.log("IipzyWindow.componentWillUnmount"),null}},{key:"handleSentinelClick",value:function(){console.log("IIpzyWindow.handleSentinelClick"),g.send(s.a.ipcLinkTo,s.a.urlSentinels)}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){var t=this;return console.log("IipzyWindow.render"),a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Welcome to the iipzy service")),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left",fontWeight:"normal"}},a.a.createElement("p",null,"Click on"," ",a.a.createElement("button",{class:"invisible-button",onClick:function(e){return t.handleSentinelClick(e)}},a.a.createElement("strong",null,"Sentinel"))," ","above to connect to your iipzy Sentinel device.",a.a.createElement("br",null),a.a.createElement("br",null),"From Sentinel, you can view your network latency, results of the most recent speed test, and a list of the devices on your network.")))}}]),n}(a.a.Component),ie=n(54),le=n(104),ce=n.n(le);var ue={get:function(t){var e=ce.a.get(t);return j("cookie.get: key = "+t+", val = "+e,"cook","info"),e},set:function(t,e){return j("cookie.set: key = "+t+", val = "+e,"cook","info"),ce.a.set(t,e)}};function se(){se=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var de="address not set";function he(){return(he=Object(r.a)(se().mark((function t(e){var n;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j("auth.init","auth","info"),de=e,j("auth.init: userName="+(n=ue.get("userName")),"auth","info"),null==n){t.next=8;break}if(!ue.get("password")){t.next=8;break}return t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pe(t){return fe.apply(this,arguments)}function fe(){return(fe=Object(r.a)(se().mark((function t(e){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("sendLogin","auth","info"),t.next=3,z.post("https://"+de+"/api/auth/login",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ve(){return me.apply(this,arguments)}function me(){return(me=Object(r.a)(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("sendLogout","auth","info"),t.next=3,z.post("https://"+de+"/api/auth/logout");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ge(){return(ge=Object(r.a)(se().mark((function t(){var e,n,r;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j("auth.login","auth","info"),j("userName="+(e=ue.get("userName")),"auth","info"),null==e){t.next=10;break}if(null==(n=ue.get("password"))){t.next=10;break}return r=Object(ie.a)(n),t.next=9,be(e,r);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ye(){return(ye=Object(r.a)(se().mark((function t(e){var n,r;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("submitLoginRequest","auth","info"),n=e.userName,r=e.password,t.next=4,be(n,r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function we(){return(we=Object(r.a)(se().mark((function t(e){var n;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("submitLogoutRequest","auth","info"),n=e.userName,t.next=4,ke(n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function be(t,e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(r.a)(se().mark((function t(e,n){var r,o,a;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(">>>loginAsync","auth","info"),t.next=3,pe({userName:e,password:n});case 3:if(r=t.sent,o=r.data,j("loginAsync: status = "+(a=r.status),"auth","info"),a!==s.a.httpStatusOk){t.next=13;break}return j("loginAsync: succeeded","auth","info"),t.next=11,Le(e,n,o.authToken,o.isLoggedIn?s.a.loginStatusLoggedIn:s.a.loginStatusLoginFailed,o.isAdmin);case 11:t.next=16;break;case 13:return j("loginAsync: failed","auth","info"),t.next=16,Le(e,"","",s.a.loginStatusLoginFailed,!1);case 16:return j("<<<loginAsync","auth","info"),t.abrupt("return",{data:o,status:a});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ke(t){return xe.apply(this,arguments)}function xe(){return(xe=Object(r.a)(se().mark((function t(e){var n,r,o;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(">>>logoutAsync","auth","info"),t.next=3,ve();case 3:if(n=t.sent,r=n.data,j("logoutAsync: status = "+(o=n.status),"auth","info"),o!==s.a.httpStatusOk){t.next=13;break}return j("logoutAsync: succeeded","auth","info"),t.next=11,Le(e,"","",s.a.loginStatusLoggedOut,!1);case 11:t.next=16;break;case 13:return j("logoutAsync: failed","auth","info"),t.next=16,Le(e,"","",s.a.loginStatusLoggedOut,!1);case 16:return j("<<<logoutAsync","auth","info"),t.abrupt("return",{data:r,status:o});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Le(t,e,n,r,o,a){return _e.apply(this,arguments)}function _e(){return(_e=Object(r.a)(se().mark((function t(e,n,r,o,a,i){var l;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=void 0===i||i,j(">>>handleCompletion: userName="+e+", authToken = "+r+", loginStatus = "+o+", isAdmin = "+a,"auth"),z.setAuthTokenHeader(r),g.send(s.a.ipcLoginStatus,{userName:e,password:n,authToken:r,loginStatus:o,isAdmin:a,onUserCommand:l}),j("handleCompletion after sending credentials","auth","verbose"),ue.set("userName",e),o===s.a.loginStatusLoggedIn&&r&&""!==r?ue.set("password",Object(ie.c)(n)):ue.set("password",""),j("<<<handleCompletion","auth","info");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ce(){return(Ce=Object(r.a)(se().mark((function t(){var e,n,r,o;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(">>>reLoginAsync","auth","info"),j("reLoginAsync: userName="+(e=ue.get("userName")),"auth","info"),n=!1,null==e){t.next=11;break}if(null==(r=ue.get("password"))){t.next=11;break}return o=Object(ie.a)(r),n=!0,t.next=11,be(e,o);case 11:if(n){t.next=14;break}return t.next=14,Le(e,"","",s.a.loginStatusLoginFailed,!1,!1);case 14:j("<<<reLoginAsync","auth","info");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Se={init:function(t){return he.apply(this,arguments)},final:function(){},login:function(){return ge.apply(this,arguments)},loginRequest:function(t){return ye.apply(this,arguments)},logoutRequest:function(t){return we.apply(this,arguments)},reLoginAsync:function(){return Ce.apply(this,arguments)}};function Oe(){Oe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Pe=null,je=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this,t)).handleKeyPress=function(t,e){console.log("---handleKeyPress: key = "+t.key+", title = "+e)},console.log("LoginWindow.constructor"),r.state={count:0},Pe=Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("LoginWindow.componentDidMount"),this.doRender()}},{key:"componentWillUnmount",value:function(){console.log("LoginWindow.componentWillUnmount"),Pe=null}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"getUserName",value:function(){return n.userName}},{key:"getPassword",value:function(){return n.password}},{key:"getInfoMessage",value:function(){return n.infoMessage}},{key:"getSubmitButtonEnabled",value:function(){return n.buttonsEnabled&&(n.isLoggedIn||n.userName.length>=5&&n.password.length>=5)}},{key:"handleInfoPopupClick",value:function(){console.log("LoginWindow.handleInfoPopupClick")}},{key:"hideInfoPopup",value:function(){n.showInfoPopup=!1,n.buttonsEnabled=!0,this.doRender()}},{key:"handleChange",value:function(t){var e=t.target.name,r=t.target.value;switch(console.log("LoginWindow.handleChange: "+e+" = "+r),e){case"userName":n.userName=r;break;case"password":n.password=r}this.doRender()}},{key:"handleSubmitClick",value:function(t,e){console.log("LoginWindow.handleSubmitClick: title = "+e),n.buttonsEnabled=!1,n.title=e,this.doRender(),n.isLoggedIn?function(t){Te.apply(this,arguments)}({userName:n.userName,authToken:n.authToken}):function(t){Ne.apply(this,arguments)}({userName:n.userName,password:n.password})}},{key:"render",value:function(){var t=this;console.log("loginWindow render");var e=n.isLoggedIn,r=n.showInfoPopup,o=n.showSpinner,i=n.title;return a.a.createElement("div",null,a.a.createElement(O,null),r&&a.a.createElement(_,{title:i,getInfoMessage:function(){return t.getInfoMessage()},onSubmit:function(e){return t.handleInfoPopupClick(e)},closePopup:this.hideInfoPopup.bind(this)}),!e&&a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Log in @ iipzy.com")),e&&a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Log out @ iipzy.com")),o&&a.a.createElement(nt,null),!r&&!e&&a.a.createElement("form",null,a.a.createElement(at,{type:"text",autofocus:!0,disabled:e,name:"userName",value:this.getUserName(),label:"User Name",onChange:function(e){return t.handleChange(e)},error:""}),a.a.createElement(at,{type:"password",autofocus:!1,hidden:e,disabled:e,name:"password",value:this.getPassword(),label:"Password",onChange:function(e){return t.handleChange(e)},error:""}),a.a.createElement("div",null,"\xa0"),a.a.createElement("div",{style:{marginLeft:"45px"}},a.a.createElement(ot.a,{type:"submit",variant:"contained",disabled:!this.getSubmitButtonEnabled(),style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleSubmitClick(e,"Log in")}},"Login"))),!r&&e&&a.a.createElement("form",null,a.a.createElement(at,{type:"text",autofocus:!0,disabled:e,name:"userName",value:this.getUserName(),label:"User Name",onChange:function(e){return t.handleChange(e)},error:""}),a.a.createElement("div",null,"\xa0"),a.a.createElement("div",{style:{marginLeft:"45px"}},a.a.createElement(ot.a,{type:"submit",variant:"contained",disabled:!this.getSubmitButtonEnabled(),style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleSubmitClick(e,"Log out")}},"Logout"))))}}]),n}(a.a.Component);function Ne(){return(Ne=Object(r.a)(Oe().mark((function t(e){var n,r;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return je.showSpinner=!0,Pe&&Pe.doRender(),t.next=4,Se.loginRequest(e);case 4:n=t.sent,r=n.data,console.log("LoginWindow.loginRequest (response): data = "+JSON.stringify(r,null,2)),r.__hadError__?(je.infoMessage=r.__hadError__.errorMessage,je.showInfoPopup=!0):(je.infoMessage="Successfully logged in",je.showInfoPopup=!1),je.buttonsEnabled=!0,je.showSpinner=!1,Pe&&Pe.doRender();case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Te(){return(Te=Object(r.a)(Oe().mark((function t(e){var n,r;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return je.showSpinner=!0,Pe&&Pe.doRender(),t.next=4,Se.logoutRequest(e);case 4:n=t.sent,r=n.data,console.log("LoginWindow.logoutRequest (response): data = "+JSON.stringify(r,null,2)),r.__hadError__?je.infoMessage=r.__hadError__.errorMessage:je.infoMessage="Successfully logged out",je.password="",je.showInfoPopup=!0,je.showSpinner=!1,Pe&&Pe.doRender();case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}je.authToken="",je.buttonsEnabled=!0,je.infoMessage="",je.isLoggedIn=!1,je.password="",je.showInfoPopup=!1,je.showSpinner=!1,je.title="",je.userName="";g.on(s.a.ipcLoginStatus,(function(t,e){var n=e.userName,r=e.authToken,o=e.loginStatus;console.log("LoginWindow.handleLoginStatus: userName="+n+", loginStatus = "+o+", authToken = "+r),je.userName=n||"",je.authToken=r,je.isLoggedIn=o===s.a.loginStatusLoggedIn,Pe&&Pe.doRender()})),g.on(s.a.ipcUserAddVerified,(function(t,e){je.userName=e.userName,null!=Pe&&Pe.doRender()}));var Ae=je,Ie=n(72),Ue=n.n(Ie),We=n(185),Fe=n.n(We);n(365);function Re(){Re=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ge=null,Me=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("ClientPicker.constructor"),Ge=Object(p.a)(r),r.state={count:0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(r.a)(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("ClientPicker.componentDidMount"),De("sentinelsOnly=1");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){console.log("ClientPicker.componentWillUnmount"),Ge=null}},{key:"getClients",value:function(){return console.log("ClientPicker.getClients"),n.clientsFiltered}},{key:"getDisabled",value:function(){return this.props.getDisabled()}},{key:"getSelectedClient",value:function(){return console.log("clientPicker.getSelectedClient: "+n.selectedClient),n.selectedClient}},{key:"handleSelect",value:function(t){n.selectedClient=t.value,console.log("clientPicker.handleSelect: "+n.selectedClient),this.props.onPick(n.clientTokenByEntryString.get(n.selectedClient))}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){var t=this;return console.log("ClientPicker.render"),a.a.createElement("div",null,a.a.createElement(Fe.a,{disabled:this.getDisabled(),options:this.getClients(),onChange:function(e){return t.handleSelect(e)},value:this.getSelectedClient(),placeholder:"-------------------- Select a client ---------------------"}))}}]),n}(a.a.Component);function De(t){return Be.apply(this,arguments)}function Be(){return(Be=Object(r.a)(Re().mark((function t(e){var n,r,o,a,i,l,c,u,s,d,h,p;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St.getClients(e);case 2:if(n=t.sent,r=n.data,o=n.status,console.log("ClientPicker.getClientsFromDB (response): status = "+o),!r.__hadError__){t.next=9;break}return console.log("ClientPicker.handleClientsGetResponse: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),t.abrupt("return");case 9:if(r){for(Me.clientsFiltered=[],Me.clientTokenByEntryString=new Map,Me.entryStringByClientToken=new Map,a=0;a<r.length;a++)i=r[a],l=i.clientName,c=i.clientType,u=i.clientToken,s=i.publicIPAddress,d=i.localIPAddress,h=i.isOnLine,"appliance"===c&&(p=l+"  "+s+"  "+d+(h?"":"  - offline"),Me.clientsFiltered.push(p),Me.clientTokenByEntryString.set(p,u),Me.entryStringByClientToken.set(u,p));Me.selectedClientToken&&(Me.selectedClient=Me.entryStringByClientToken.get(Me.selectedClientToken))}Ge&&(Me.selectedClientToken=Ge.props.getSelectedClientToken()),Ge&&Ge.doRender();case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Me.clientsFiltered=[],Me.clientTokenByEntryString=new Map,Me.entryStringByClientToken=new Map,Me.selectedClient="",Me.selectedClientToken="";var ze=Me;function Ve(){Ve=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ye="address not set";function He(){return(He=Object(r.a)(Ve().mark((function t(e){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j("sentinelAdmin.init","sadm","info"),Ye=e;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qe(){return(qe=Object(r.a)(Ve().mark((function t(e){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j("sentinelAdmin.getSentinelAdminStatus","sadm","verbose"),!e){t.next=5;break}return t.next=4,z.get("https://"+Ye+"/api/sentineladmin/status?tgtclienttoken="+e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Je(){return(Je=Object(r.a)(Ve().mark((function t(e){var n;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("updater.postSentinelAdmin","updt","info"),delete(n=JSON.parse(JSON.stringify(e))).actionUuid,t.next=5,z.post("https://"+Ye+"/api/sentineladmin/action",n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Xe={init:function(t){return He.apply(this,arguments)},final:function(){},getSentinelAdminStatus:function(t){return qe.apply(this,arguments)},postSentinelAdmin:function(t){return Je.apply(this,arguments)}};function Ze(){Ze=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ke=null,Qe=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),Ke=Object(p.a)(r),r.state={count:0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;console.log("SentinelAdminWindow componentDidMount"),this.getSentinelAdminSettings();try{n.statusInterval=setInterval(Object(r.a)(Ze().mark((function e(){return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inSendSentinelAdminStatusGetRequest){e.next=5;break}return t.inSendSentinelAdminStatusGetRequest=!0,e.next=4,$e();case 4:t.inSendSentinelAdminStatusGetRequest=!1;case 5:case"end":return e.stop()}}),e)}))),1e3)}catch(e){console.log("(Exception) "+e)}}},{key:"componentWillUnmount",value:function(){console.log("SentinelAdminWindow componentWillUnmount"),clearInterval(n.statusInterval),n.statusInterval=null,Ke=null}},{key:"getSentinelAdminSettings",value:function(){var t=ue.get("sentinelAdminSettings");if(t){var e=t.tgtClientToken,r=t.action;e&&(n.tgtClientToken=e),r&&(n.action=r)}}},{key:"handleSaveClick",value:function(t){console.log("...SentinelAdminWindow handleSaveClick"),ue.set("sentinelAdminSettings",{tgtClientToken:n.tgtClientToken,action:n.action})}},{key:"handleSubmitClick",value:function(t){var e=this;console.log("...SentinelAdminWindow handleSubmitClick"),n.submitTimeout=setTimeout((function(){n.submitTimeout&&(n.waitForInProgress=!1,n.status="timed out",e.doRender())}),3e4),n.waitForInProgress=!0,n.status="contacting server...",this.doRender(),function(t){en.apply(this,arguments)}({tgtClientToken:n.tgtClientToken,action:n.action,actionUuid:Ue()()})}},{key:"handleActionChange",value:function(t){console.log("...SentinelAdminWindow handleActionChange: "+t.target.value),n.action=t.target.value,this.doRender()}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"getClientToken",value:function(){return n.tgtClientToken}},{key:"getDisabled",value:function(){return n.waitForInProgress||n.inProgress}},{key:"getEnableSave",value:function(){return!0}},{key:"getEnableSubmit",value:function(){return!(n.tgtClientToken.length<16)&&(n.inProgress&&(n.waitForInProgress=!1,n.submitTimeout&&(clearTimeout(n.submitTimeout),n.submitTimeout=null)),!n.waitForInProgress&&!n.inProgress)}},{key:"getInfoMessage",value:function(){return n.infoMessage}},{key:"handleClientPick",value:function(t){console.log("SentinelAdminWindow.handleClientPick: "+t),n.tgtClientToken=t}},{key:"handleInfoPopupClick",value:function(){console.log("SentinelAdminWindow.handleInfoPopupClick")}},{key:"hideInfoPopup",value:function(){n.showInfoPopup=!1,this.doRender()}},{key:"render",value:function(){var t=this;console.log("SentinelAdminWindow render");var e=n.action,r=n.waitForInProgress||n.inProgress,o=n.status,i=r,l=n.showInfoPopup;return a.a.createElement("div",null,a.a.createElement(O,null),i&&a.a.createElement(nt,null),l&&a.a.createElement(_,{title:"Sentinel Admin",getInfoMessage:function(){return t.getInfoMessage()},onSubmit:function(e){return t.handleInfoPopupClick(e)},closePopup:this.hideInfoPopup.bind(this)}),!l&&a.a.createElement("div",null,a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Sentinel Administration")),a.a.createElement("div",{style:{marginLeft:"20px"}},a.a.createElement("table",{align:"left"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"Client:"),a.a.createElement("td",null,a.a.createElement(ze,{onPick:function(e){return t.handleClientPick(e)},getDisabled:this.getDisabled,getSelectedClientToken:this.getClientToken}))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"Action:\xa0\xa0\xa0\xa0\xa0\xa0"),a.a.createElement("table",{align:"left"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_restartSentinel,checked:e===s.a.adminCmd_sentinel_restartSentinel,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Restart Sentinel\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_restartSentinelAdmin,checked:e===s.a.adminCmd_sentinel_restartSentinelAdmin,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Restart Sentinel Admin\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_restartSentinelWeb,checked:e===s.a.adminCmd_sentinel_restartSentinelWeb,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Restart Sentinel Web\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_restartUpdater,checked:e===s.a.adminCmd_sentinel_restartUpdater,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Restart Updater\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_reboot,checked:e===s.a.adminCmd_sentinel_reboot,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Reboot\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_sendLogs,checked:e===s.a.adminCmd_sentinel_sendLogs,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Send Logs"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_setLogLevelDetailed,checked:e===s.a.adminCmd_sentinel_setLogLevelDetailed,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Set Log Level = Detailed"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"action",value:s.a.adminCmd_sentinel_setLogLevelNormal,checked:e===s.a.adminCmd_sentinel_setLogLevelNormal,disabled:r,onChange:function(e){return t.handleActionChange(e)}}),"\xa0Set Log Level = Normal")))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0"),a.a.createElement("td",null,a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!this.getEnableSave(),style:{marginLeft:"100px",width:"130px",color:"#0000b0"},onClick:function(e){return t.handleSaveClick(e)}},"Save"),a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!this.getEnableSubmit(),style:{marginLeft:"50px",width:"130px",color:"#0000b0"},onClick:function(e){return t.handleSubmitClick(e)}},"Submit"))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("hr",{width:"1000%",height:"20",border:"none"}))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"Status:"),a.a.createElement("td",null,a.a.createElement("input",{type:"text",name:"activity-status-text",size:"40",value:o,readOnly:!0}))))))))}}]),n}(a.a.Component);function $e(){return tn.apply(this,arguments)}function tn(){return(tn=Object(r.a)(Ze().mark((function t(){var e,n,r,o;return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe.getSentinelAdminStatus(Qe.tgtClientToken);case 2:e=t.sent,n=e.data,(r=e.status)&&r===s.a.httpStatusOk&&(o=n.adminStatus,console.log("SentinelAdminWindow.getSentinelAdminStatus: status = "+JSON.stringify(o,null,2)),Qe.inProgress=o.inProgress,Qe.waitForInProgress||(Qe.status=o.step),o.failed&&(Qe.status="failed",Qe.waitForInProgress=!1,Qe.submitTimeout&&(clearTimeout(Qe.submitTimeout),Qe.submitTimeout=null))),Ke&&Ke.doRender();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function en(){return(en=Object(r.a)(Ze().mark((function t(e){var n,r;return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe.postSentinelAdmin(e);case 2:n=t.sent,r=n.data,n.status,console.log("SentinelAdminWindow.postSentinelAdmin: response = "+JSON.stringify(r,null,2)),r.__hadError__&&(console.log("SentinelAdminWindow.postSentinelAdmin: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),Qe.infoMessage=r.__hadError__.errorMessage,Qe.showInfoPopup=!0,Qe.buttonsEnabled=!1,Qe.status="failed",Qe.waitForInProgress=!1,Qe.inProgress=!1,Qe.submitTimeout&&(clearTimeout(Qe.submitTimeout),Qe.submitTimeout=null)),Ke&&Ke.doRender();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Qe.action=s.a.adminCmd_sentinel_none,Qe.infoMessage="",Qe.inProgress=!1,Qe.showInfoPopup=!1,Qe.status="done",Qe.statusInterval=null,Qe.submitTimeout=null,Qe.tgtClientToken="",Qe.waitForInProgress=!1;var nn=Qe;function rn(){rn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var on=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){return Object(d.a)(this,n),e.call(this,t)}return Object(h.a)(n,[{key:"render",value:function(){var t=this,e=this.props.clients;return console.log("SentinelTable render"),console.log(e),a.a.createElement("table",{id:"sentinel-table"},e&&e.map((function(e){return a.a.createElement("tr",{key:e.clientToken},a.a.createElement("td",{style:{cursor:e.isOnLine?"pointer":"default"},onClick:function(){return t.props.onClick(e)}},a.a.createElement("div",{style:{textAlign:"left",marginLeft:20}},e.clientName)),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:e.isOnLine?"pointer":"default"},onClick:function(){return t.props.onClick(e)}},e.localIPAddress),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:e.isOnLine?"pointer":"default"},onClick:function(){return t.props.onClick(e)}},e.isOnLine?"":"off line"),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:e.userId?"pointer":"default"},onClick:function(){return t.props.onClick(e)}},e.userId?"":"not registered"),a.a.createElement("td",null,"\xa0\xa0\xa0\xa0"),a.a.createElement("td",{style:{cursor:e.isOnLine?"pointer":"default"},onClick:function(){return t.props.onClick(e)}},e.isWiFi?"wifi":""))})))}}]),n}(a.a.Component),an=null,ln=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("SentinelsWindow.constructor"),r.state={count:0},r.originHref=St.getOriginHref(),r.useRemoteWeb=St.getUseRemoteWeb(),console.log("SentinelsWindow.constructor: useRemoteWeb = "+r.useRemoteWeb),an=Object(p.a)(r),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("SentinelsWindow.componentDidMount"),function(t){cn.apply(this,arguments)}("localSentinelsOnly=1")}},{key:"componentWillUnmount",value:function(){console.log("SentinelsWindow.componentWillUnmount"),an=null}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"handleLocalIPAddressClick",value:function(t){if(console.log("SentinelsWindow.clientTokenClick = "+t.localIPAddress+", isOnLine = "+t.isOnLine+", isLocalClient = "+t.isLocalClient+", clientToken = "+t.clientToken+", clientName = "+t.clientName),t.isOnLine){var e={userName:ue.get("userName"),password:ue.get("password"),clientName:t.clientName,from:this.originHref},n=ie.b.encrypt(JSON.stringify(e));!this.useRemoteWeb&&t.isLocalClient?window.location.replace("http://"+t.localIPAddress+":"+s.a.port_sentinel_web+"?params="+encodeURI(n)+"&clientToken="+t.clientToken+"&isLocalClient=true"):window.location.replace("https://iipzy.net:"+s.a.port_sentinel_web+"?params="+encodeURI(n)+"&clientToken="+t.clientToken+"&isLocalClient=false")}}},{key:"handleLoginClick",value:function(t){console.log("SentinelsWindow.handleLoginClick"),g.send(s.a.ipcLinkTo,s.a.urlLogin)}},{key:"render",value:function(){var t=this;console.log("SentinelsWindow.render");var e=n.clients,r=n.isLoggedIn,o=e?e.length:0;return!e&&r||1===o?a.a.createElement("div",null):a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Sentinel")),!r&&a.a.createElement("div",null,a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"You must be logged in to connect to your iipzy Sentinel"),a.a.createElement(ot.a,{type:"button",variant:"contained",style:{width:"130px",color:"#0000b0"},onClick:function(e){return t.handleLoginClick(e)}},"Login"))),r&&o>1&&a.a.createElement("div",{align:"center",style:{width:"600px",height:"120px",font:"14px Courier New",fontWeight:"bold"}},a.a.createElement(on,{clients:e,onClick:function(e){return t.handleLocalIPAddressClick(e)}})),r&&0===o&&a.a.createElement("div",null,a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Your network does not have an iipzy Sentinel"))))}}]),n}(a.a.Component);function cn(){return(cn=Object(r.a)(rn().mark((function t(e){var n,r,o,a,i,l;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St.getClients(e);case 2:if(n=t.sent,r=n.data,o=n.status,console.log("SentinelsWindow.getClientsFromDB (response): status = "+o),!r.__hadError__){t.next=11;break}return console.log("SentinelsWindow.getClientsFromDB: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),ln.infoMessage=r.__hadError__.errorMessage,an&&an.doRender(),t.abrupt("return");case 11:if(ln.clients=r,1===ln.clients.length)null!=an&&(a={clientName:ln.clients[0].clientName,clientToken:ln.clients[0].clientToken,isOnLine:ln.clients[0].isOnLine,isLocalClient:ln.clients[0].isLocalClient,localIPAddress:ln.clients[0].localIPAddress},an.handleLocalIPAddressClick(a));else{for(ln.clientByClientToken=new Map,i=0;i<ln.clients.length;i++)l=ln.clients[i],ln.clientByClientToken.set(l.clientToken,l);an&&an.doRender()}case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}ln.clients=null,ln.clientByClientToken=new Map,ln.clientToken="",ln.infoMessage="",ln.isLoggedIn=!1;g.on(s.a.ipcLoginStatus,(function(t,e){var n=e.userName,r=(e.authToken,e.password,e.loginStatus);console.log("SentinelsWindow.handleLoginStatus: userName = "+n+", loginStatus = "+r),ln.isLoggedIn=r===s.a.loginStatusLoggedIn}));var un=ln;function sn(){sn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var dn="address not set";function hn(){return(hn=Object(r.a)(sn().mark((function t(e){return sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j("updater.init","updt","info"),dn=e;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pn(){return(pn=Object(r.a)(sn().mark((function t(e){return sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j("getUpdaterStatus: tgtClientToken = "+e,"updt","verbose"),!e){t.next=5;break}return t.next=4,z.get("https://"+dn+"/api/updater/status?tgtclienttoken="+e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fn(){return(fn=Object(r.a)(sn().mark((function t(e){var n;return sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j("updater.postUpdaterUpdate","updt","info"),delete(n=JSON.parse(JSON.stringify(e))).updateUuid,t.next=5,z.post("https://"+dn+"/api/updater/update",n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var vn={init:function(t){return hn.apply(this,arguments)},final:function(){},getUpdaterStatus:function(t){return pn.apply(this,arguments)},postUpdaterUpdate:function(t){return fn.apply(this,arguments)}};function mn(){mn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var gn=null,yn=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var r;return Object(d.a)(this,n),r=e.call(this,t),console.log("UpdaterWindow.constructor"),gn=Object(p.a)(r),r.state={count:0},r.inSendUpdaterStatusGetRequest=!1,r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;console.log("UpdaterWindow.componentDidMount"),this.getUpdaterSettings();try{n.statusInterval=setInterval(Object(r.a)(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inSendUpdaterStatusGetRequest){e.next=5;break}return t.inSendUpdaterStatusGetRequest=!0,e.next=4,wn();case 4:t.inSendUpdaterStatusGetRequest=!1;case 5:case"end":return e.stop()}}),e)}))),1e3)}catch(e){console.log("(Exception) "+e)}}},{key:"componentWillUnmount",value:function(){console.log("UpdaterWindow.componentWillUnmount"),clearInterval(n.statusInterval),n.statusInterval=null,gn=null}},{key:"handleSaveClick",value:function(t){console.log("...UpdaterWindow handleSaveClick"),ue.set("updaterSettings",{tgtClientToken:n.tgtClientToken,updateType:n.updateType})}},{key:"handleSubmitClick",value:function(t){var e=this;console.log("...UpdaterWindow handleSubmitClick"),n.submitTimeout=setTimeout((function(){n.submitTimeout&&(n.waitForInProgress=!1,n.status="timed out",e.doRender())}),3e4),n.waitForInProgress=!0,n.status="contacting server...",this.doRender(),ue.set("updaterSettings",{tgtClientToken:n.tgtClientToken,updateType:n.updateType}),function(t){En.apply(this,arguments)}({tgtClientToken:n.tgtClientToken,updateType:n.updateType,updateUuid:Ue()()})}},{key:"getUpdaterSettings",value:function(){var t=ue.get("updaterSettings");if(t){var e=t.tgtClientToken,r=t.updateType;e&&(n.tgtClientToken=e),r&&(n.updateType=r),null!=gn&&gn.doRender()}}},{key:"handleUpdateTypeChange",value:function(t){console.log("...UpdaterWindow handleUpdateTypeChange: "+t.target.value),n.updateType=t.target.value,this.doRender()}},{key:"doRender",value:function(){var t=this.state.count+1;this.setState({count:t})}},{key:"getClientToken",value:function(){return n.tgtClientToken}},{key:"getDisabled",value:function(){return n.waitForInProgress||n.inProgress}},{key:"getEnableSave",value:function(){return!0}},{key:"getEnableSubmit",value:function(){return!(n.tgtClientToken.length<16)&&(n.inProgress&&(n.waitForInProgress=!1,n.submitTimeout&&(clearTimeout(n.submitTimeout),n.submitTimeout=null)),!n.waitForInProgress&&!n.inProgress)}},{key:"getInfoMessage",value:function(){return n.infoMessage}},{key:"getDisableRemoteTCPassword",value:function(){return!1}},{key:"getRemoteTCPassword",value:function(){return n.password}},{key:"handleChange",value:function(t){var e=t.target.name,r=t.target.value;switch(console.log("updateWindow.name="+e+", value="+this.state[e]),e){case"password":n.password=r}this.setState(Object(rt.a)({},e,r))}},{key:"handleClientPick",value:function(t){console.log("UpdaterWindow.handleClientPick: "+t),n.tgtClientToken=t}},{key:"handleInfoPopupClick",value:function(t){console.log("UpdaterWindow.handleInfoPopupClick")}},{key:"hideInfoPopup",value:function(){n.showInfoPopup=!1,this.doRender()}},{key:"render",value:function(){var t=this;console.log("UpdaterWindow render");var e=n.updateType,r=n.waitForInProgress||n.inProgress,o=n.status,i=r,l=n.showInfoPopup;return a.a.createElement("div",null,a.a.createElement(O,null),i&&a.a.createElement(nt,null),l&&a.a.createElement(_,{title:"Sentinel Update",getInfoMessage:function(){return t.getInfoMessage()},onSubmit:function(e){return t.handleInfoPopupClick(e)},closePopup:this.hideInfoPopup.bind(this)}),!l&&a.a.createElement("div",null,a.a.createElement("div",{style:{marginLeft:20,textAlign:"left"}},a.a.createElement("p",{style:{fontSize:"140%"}},"Update Sentinel")),a.a.createElement("div",{style:{marginLeft:"20px"}},a.a.createElement("table",{align:"left"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"Client:"),a.a.createElement("td",null,a.a.createElement(ze,{onPick:function(e){return t.handleClientPick(e)},getDisabled:this.getDisabled,getSelectedClientToken:this.getClientToken}))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"Update Type:\xa0"),a.a.createElement("table",{align:"left"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"update-type",value:"iipzy-core",checked:"iipzy-core"===e,disabled:r,onChange:function(e){return t.handleUpdateTypeChange(e)}}),"\xa0Core\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"update-type",value:"iipzy-sentinel-admin",checked:"iipzy-sentinel-admin"===e,disabled:r,onChange:function(e){return t.handleUpdateTypeChange(e)}}),"\xa0Admin\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"update-type",value:"iipzy-sentinel-web",checked:"iipzy-sentinel-web"===e,disabled:r,onChange:function(e){return t.handleUpdateTypeChange(e)}}),"\xa0Web\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"update-type",value:"iipzy-sentinel-web-proxy",checked:"iipzy-sentinel-web-proxy"===e,disabled:r,onChange:function(e){return t.handleUpdateTypeChange(e)}}),"\xa0Web Proxy\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"update-type",value:"iipzy-sentinel-traffic-control",checked:"iipzy-sentinel-traffic-control"===e,disabled:r,onChange:function(e){return t.handleUpdateTypeChange(e)}}),"\xa0Traffic Control\xa0"),a.a.createElement("tr",null,a.a.createElement("input",{type:"radio",name:"update-type",value:"iipzy-updater",checked:"iipzy-updater"===e,disabled:r,onChange:function(e){return t.handleUpdateTypeChange(e)}}),"\xa0Updater")))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0"),a.a.createElement("td",null,a.a.createElement(ot.a,{type:"button",variant:"contained",disabled:!this.getEnableSubmit(),style:{marginLeft:"50px",width:"130px",color:"#0000b0"},autoFocus:!0,onClick:function(e){return t.handleSubmitClick(e)}},"Submit"))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("hr",{width:"770%",height:"20",border:"none"}))),a.a.createElement("tr",null,a.a.createElement("td",null,"\xa0")),a.a.createElement("tr",null,a.a.createElement("td",null,"Status:"),a.a.createElement("td",null,a.a.createElement("input",{type:"text",name:"update-status-text",size:"40",value:o,readOnly:!0}))))))))}}]),n}(a.a.Component);function wn(){return bn.apply(this,arguments)}function bn(){return(bn=Object(r.a)(mn().mark((function t(){var e,n,r,o;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vn.getUpdaterStatus(yn.tgtClientToken);case 2:e=t.sent,n=e.data,(r=e.status)&&r===s.a.httpStatusOk&&(o=n.updateStatus,console.log("UpdaterWindow.getUpdaterStatus: status = "+JSON.stringify(o,null,2)),yn.inProgress=o.inProgress,yn.waitForInProgress||(yn.status=o.step),o.failed&&(yn.status="failed",yn.waitForInProgress=!1,yn.submitTimeout&&(clearTimeout(yn.submitTimeout),yn.submitTimeout=null))),gn&&gn.doRender();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function En(){return(En=Object(r.a)(mn().mark((function t(e){var n,r;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vn.postUpdaterUpdate(e);case 2:n=t.sent,r=n.data,n.status,console.log("UpdaterWindow.postUpdaterUpdate: response = "+JSON.stringify(r,null,2)),r.__hadError__&&(console.log("UpdaterWindow.postUpdaterUpdate: errorMessage = "+r.__hadError__.errorMessage+", statusCode = "+r.__hadError__.statusCode),yn.infoMessage=r.__hadError__.errorMessage,yn.showInfoPopup=!0,yn.buttonsEnabled=!1,yn.status="failed",yn.waitForInProgress=!1,yn.inProgress=!1,yn.submitTimeout&&(clearTimeout(yn.submitTimeout),yn.submitTimeout=null)),gn&&gn.doRender();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}yn.infoMessage="",yn.inProgress=!1,yn.password="",yn.showInfoPopup=!1,yn.submitTimeout=null,yn.status="done",yn.statusInterval=null,yn.tgtClientToken="",yn.updateType="iipzy-core",yn.waitForInProgress=!1;var kn=yn;function xn(){xn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ln=null,_n=function(t){Object(f.a)(n,t);var e=Object(v.a)(n);function n(t){var o;return Object(d.a)(this,n),(o=e.call(this,t)).callBackendAPI=Object(r.a)(xn().mark((function t(){var e,n;return xn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/express_backend");case 2:return e=t.sent,t.next=5,e.json();case 5:if(n=t.sent,200===e.status){t.next=8;break}throw Error(n.message);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)}))),console.log("App.constructor"),o.state={count:0,data:null},Ln=Object(p.a)(o),o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("App.componentDidMount")}},{key:"doRender",value:function(){console.log("App.doRender");var t=this.state.count+1;this.setState({count:t})}},{key:"render",value:function(){n.loggedIn,n.navbarName;return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,null,a.a.createElement(b,null),a.a.createElement(m.d,null,a.a.createElement(m.b,{path:s.a.urlAbout,exact:!0,component:P}),a.a.createElement(m.b,{path:s.a.urlAddUser,exact:!0,component:yt}),a.a.createElement(m.b,{path:s.a.urlAdministration,exact:!0,component:wt}),a.a.createElement(m.b,{path:s.a.urlBlank,exact:!0,component:bt}),a.a.createElement(m.b,{path:s.a.urlClients,exact:!0,component:Ft}),a.a.createElement(m.b,{path:s.a.urlDownload,exact:!0,component:Rt}),a.a.createElement(m.b,{path:s.a.urlEditUser,exact:!0,component:Kt}),a.a.createElement(m.b,{path:s.a.urlForgotPassword,exact:!0,component:re}),a.a.createElement(m.b,{path:s.a.urlHome,exact:!0,component:oe}),a.a.createElement(m.b,{path:s.a.urlIipzy,exact:!0,component:ae}),a.a.createElement(m.b,{path:s.a.urlLogin,exact:!0,component:Ae}),a.a.createElement(m.b,{path:s.a.urlSentinelAdmin,exact:!0,component:nn}),a.a.createElement(m.b,{path:s.a.urlSentinels,exact:!0,component:un}),a.a.createElement(m.b,{path:s.a.urlUpdater,exact:!0,component:kn}),a.a.createElement(m.a,{to:s.a.urlBlank}),"}")))}}]),n}(o.Component);_n.loggedIn=!1,_n.navbarName="home",_n.props=null;g.on(s.a.ipcLoginStatus,(function(t,e){console.log("App.handleLoginStatus");var n=e.loginStatus;e.onUserCommand;_n.loggedIn=n===s.a.loginStatusLoggedIn,"home"===_n.navbarName&&(_n.loggedIn?g.send(s.a.ipcLinkTo,s.a.urlIipzy):g.send(s.a.ipcLinkTo,s.a.urlLogin))})),g.on(s.a.ipcShowNavBar,(function(t,e){console.log("App.handleShowNavBar: "+e),_n.navbarName=e,"admin"===_n.navbarName&&g.send(s.a.ipcLinkTo,s.a.urlClients),null!=Ln&&Ln.doRender()}));var Cn=_n;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Sn(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}function On(){On=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Pn="address not set",jn=null,Nn=0,Tn=!1,An=0;function In(){return(In=Object(r.a)(On().mark((function t(e){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(">>>heartbeat.init","htbt","info"),Pn=e,j("..clientToken="+(jn=ue.get("clientToken")),"htbt","info"),jn&&z.setClientTokenHeader(jn),setInterval(Object(r.a)(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(An){t.next=11;break}return An++,t.prev=2,t.next=5,Rn();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),j("(Exception) heartbeat: "+t.t0,"htbt","error");case 10:An--;case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),2e4),An++,t.next=9,Rn();case 9:An--,j("<<<heartbeat.init","htbt","info");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Un(){var t=ue.get("pseudoLocalIPAddress");if(!t){Date.now().toString();t=Math.floor(255*Math.random())+1+"."+(Math.floor(255*Math.random())+0)+"."+(Math.floor(255*Math.random())+0)+"."+(Math.floor(255*Math.random())+0)}return ue.set("pseudoLocalIPAddress",t),t}function Wn(){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(r.a)(On().mark((function t(){var e,n,r,o,a,i,l;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get("https://"+Pn+"/api/myIPAddress");case 2:if(e=t.sent,n=e.data,e.status!==s.a.httpStatusOk){t.next=15;break}return r=n.yourIPAddress,o=n.timestamp,a=Un(),j("heartbeat.createClient: newClientToken = "+(i=encodeURI(r+":"+a+":"+o)),"htbt","info"),t.next=12,z.post("https://"+Pn+"/api/client/client",{localIPAddress:a,clientType:"web",clientToken:i,clientName:"web client"});case 12:l=t.sent,l.status===s.a.httpStatusOk&&(j("heartbeat.createClient: clientToken = "+(jn=i),"htbt","info"),ue.set("clientToken",jn),z.setClientTokenHeader(jn));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rn(){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(r.a)(On().mark((function t(){var e,n,r,o;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j(">>>heartbeat: isLoggedIn ="+Tn+", isExiting = "+!1,"htbt","info"),t.next=4;break;case 4:if(jn){t.next=10;break}return t.next=7,Wn();case 7:if(jn){t.next=10;break}return j("<<<heartbeat: no clientToken","htbt","info"),t.abrupt("return");case 10:return e={},j("heartbeat: before post - reqData = "+JSON.stringify(e,null,2),"htbt","info"),t.next=14,z.post("https://"+Pn+"/api/client/heartbeat",e);case 14:n=t.sent,r=n.data,j("heartbeat: status = "+(o=n.status),"htbt","verbose"),o!==s.a.httpStatusOk&&o===s.a.httpStatusUnauthorized&&(ue.set("clientToken",null),jn=null),r&&(j("heartbeat: data = "+JSON.stringify(r,null,2),"htbt","verbose"),r.clientToken,(Tn=r.isLoggedIn)?Nn=0:0===Nn?(j("heartbeat: login needed","htbt","info"),g.send(s.a.ipcClientLoginNeeded,!0),Nn=5):Nn--),j("<<<heartbeat","htbt","info");case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}g.on(s.a.ipcLoginStatus,(function(t,e){j("heartbeat handleLoginStatus: status = "+e.loginStatus,"htbt","info"),Tn=e.loginStatus===s.a.loginStatusLoggedIn,z.setAuthTokenHeader(e.authToken)}));var Mn={init:function(t){return In.apply(this,arguments)}};function Dn(){Dn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),l=new _(o||[]);return r(i,"_invoke",{value:E(t,n,l)}),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,a)&&(v=g);var y=f.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;r(this,"_invoke",{value:function(r,a){function i(){return new e((function(o,i){!function r(o,a,i,l){var c=s(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,l)}),(function(t){r("throw",t,i,l)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,l)}))}l(c.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Bn(t){console.log("..........variable = "+t),console.log("..........search = "+window.location.search);var e=window.location.search.substring(1);console.log(".........query = "+e);var n=e.split("&");console.log("..........vars = "+n);for(var r=0;r<n.length;r++){var o=n[r].split("=");if(console.log(o),o[0].toLowerCase()===t.toLowerCase())return o[1]}return null}function zn(){return(zn=Object(r.a)(Dn().mark((function t(){var e,n,r,o;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.location.href,n=Bn("useRemoteWeb"),r=n&&"1"===decodeURI(n)?1:0,l.a.render(a.a.createElement(c.a,null,a.a.createElement(Cn,null)),document.getElementById("root")),t.next=6,Mn.init("iipzy.net:8001");case 6:return t.next=8,Se.init("iipzy.net:8001");case 8:return o=t.sent,console.log("====== AFTER calling auth.init"),o?Se.login():(console.log("===========!hasCredentials"),g.send(s.a.ipcLinkTo,s.a.urlLogin)),console.log("====== AFTER calling auth.login"),t.next=14,St.init("iipzy.net:8001",r,e);case 14:return console.log("====== AFTER calling clients.init"),t.next=17,Xe.init("iipzy.net:8001");case 17:return console.log("====== AFTER calling updater.init"),t.next=20,vn.init("iipzy.net:8001");case 20:return console.log("====== AFTER calling updater.init"),t.next=23,tt.init("iipzy.net:8001");case 23:console.log("====== AFTER calling user.init"),Sn();case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){zn.apply(this,arguments)}()},54:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=n(64),o="bite-the-wax-tadpole-hank-jake$$";function a(e){var n=t.from(Object(r.randomBytes)(16)),a=Object(r.createCipheriv)("aes-256-ctr",o,n),i=a.update(e,"utf8","hex");return i+=a.final("hex"),"".concat(n.toString("hex"),":").concat(i.toString())}function i(e){if(!e||""===e)return"";var n=e.split(":"),a=t.from(n.shift(),"hex"),i=t.from(n.join(":"),"hex"),l=Object(r.createDecipheriv)("aes-256-ctr",o,a),c=l.update(i,"hex","utf8");return(c+=l.final("utf8")).toString()}e.b={encrypt:a,decrypt:i}}).call(this,n(11).Buffer)}},[[188,1,2]]]);
//# sourceMappingURL=main.e014421f.chunk.js.map