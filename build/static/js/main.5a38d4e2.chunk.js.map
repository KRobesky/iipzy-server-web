{"version":3,"sources":["../../iipzy-shared/src/defs.js","ipc/eventManager.js","components/navBar.jsx","components/closeButton.jsx","components/infoPopup.jsx","components/navigator.jsx","components/aboutWindow.jsx","utils/log.js","ipc/httpService.js","services/user.js","components/spinnerPopup.jsx","components/input.jsx","components/validationPopup.jsx","components/userForm.jsx","components/addUserWindow.jsx","components/adminNavigatorWindow.jsx","components/blankWindow.jsx","services/clients.js","components/clientPopup.jsx","components/clientsWindow.jsx","components/downloadWindow.jsx","components/passwordPopup.jsx","components/editUserWindow.jsx","components/forgotPasswordWindow.jsx","components/homeNavigatorWindow.jsx","components/iipzyWindow.jsx","utils/cookie.js","services/auth.js","components/loginWindow.jsx","components/clientPicker.jsx","services/sentinelAdmin.js","components/sentinelAdminWindow.jsx","components/sentinelsWindow.jsx","services/updater.js","components/updaterWindow.jsx","App.js","serviceWorker.js","services/heartbeat.js","index.js","utils/cipher.js"],"names":["module","exports","reqAreYouServerUuid","rspAreYouServerUuid","reqDiscoveryUuid","rspDiscoveryUuid","port_server","port_sentinel_core","port_sentinel_web","port_sentinel_web_client_proxy","port_sentinel_web_server_proxy","port_sentinel_web_server","port_sentinel_updater","pingTarget","urlAbout","urlAddUser","urlAdministration","urlBlank","urlClients","urlClientUpdate","urlCloseSentinel","urlDebug","urlDevices","urlDownload","urlEditUser","urlForgotPassword","urlHome","urlIipzy","urlLogin","urlLogLevel","urlLogSend","urlNavigator","urlPingPlot","urlScheduler","urlSentinelAdmin","urlSentinelDiscovery","urlSentinelInUse","urlSentinelOnlineCheck","urlSentinels","urlSettings","urlStartup","urlThroughputTest","urlUpdater","ipcAAATest","ipcAuthCredentialsUpdate","ipcBloatLatencyStatusIperf3Down","ipcBloatLatencyStatusIperf3DownFinal","ipcBloatLatencyStatusIperf3Up","ipcBloatLatencyStatusIperf3UpFinal","ipcClearDials","ipcClientLoginNeeded","ipcClientName","ipcClientShutdown","ipcConnectionToken","ipcConsoleLog","ipcConsoleLogVerbose","ipcDevicesReady","ipcDeviceUpdated","ipcDumpSentinelDeviceTable","ipcExit","ipcExiting","ipcIperf3StatusDown","ipcIperf3StatusUp","ipcLinkTo","ipcLoginStatus","ipcLoginVerifyStatus","ipcNominalLatencyStatus","ipcNominalLatencyStatusFinal","ipcNoop","ipcPingPlotConvertDB","ipcPingPlotData","ipcPingPlotWindowButtonHome","ipcPingPlotWindowButtonLeft","ipcPingPlotWindowButtonLeftMarked","ipcPingPlotWindowButtonRight","ipcPingPlotWindowButtonRightMarked","ipcPingPlotWindowButtonZoomChange","ipcPingPlotWindowMount","ipcPingPlotWindowButtonHomeEx","ipcPingPlotWindowButtonLeftEx","ipcPingPlotWindowButtonLeftMarkedEx","ipcPingPlotWindowButtonRightEx","ipcPingPlotWindowButtonRightMarkedEx","ipcPingPlotWindowButtonZoomChangeEx","ipcPingPlotWindowMountEx","ipcQuit","ipcRendererReady","ipcSentinelDiscoveryTryingSentinelIPAddress","ipcSentinelDiscovery","ipcSentinelSendState","ipcSentinelOnlineCheck","ipcSentinelOnlineStatus","ipcServerAddress","ipcShowNavBar","ipcTestingState","ipcTickStatusIperf3Down","ipcThroughputTestFailedToGetServer","ipcThrouputTestStatus","ipcThroughputTestWindowButtonLeft","ipcThroughputTestWindowButtonNewest","ipcThroughputTestWindowButtonOldest","ipcThroughputTestWindowButtonRight","ipcThroughputTestWindowMount","ipcThroughputTestWindowCancel","ipcThroughputTestWindowStart","ipcThroughputTestWindowStartStop","ipcTickStatusIperf3Up","ipcTickStatusNominalLatency","ipcTimeOfTest","ipcUserAddVerified","ipcZZZNext","configFilename","crashFilename","loginStatusLoggedOut","loginStatusLoggedIn","loginStatusLoginFailed","loginStatusVerified","loginStatusVerifyFailed","loginStatusNoServerAddress","sentinelStatusOnline","sentinelStatusOffline","sentinelStatusInUse","sentinelStatusNoAddress","sentinelStatusUnknown","sentinelStatusOnlineLoggedOut","pevLoginStatus","pevLoginNeeded","pevZZZNext","httpCustomHeader_XAuthToken","httpCustomHeader_XClientToken","httpCustomHeader_XConnToken","httpCustomHeader_XTimestamp","httpCustomHeader_XWebClient","httpStatusOk","httpStatusCreated","httpStatusAccepted","httpStatusNoContent","httpStatusMultiStatus","httpStatusFound","httpStatusBadRequest","httpStatusUnauthorized","httpStatusForbidden","httpStatusNotFound","httpStatusConflict","httpStatusGone","httpStatusUnprocessableEntity","httpStatusInternalError","httpStatusNotImplemented","httpStatusConnRefused","httpStatusConnAborted","httpStatusConnReset","httpStatusSentinelInUse","httpStatusException","statusOk","statusAlreadyExists","statusDoesNotExist","statusInvalidVerificationCode","statusGeneralSqlFailure","statusException","statusInvalidUserName","statusInvalidPasswordResetCode","statusCannotAllocateIperf3Server","statusDailyIperf3LimitReached","statusInvalidUpdateType","statusUpdateInProgress","statusRouteError","statusMissingClientToken","statusInvalidClientToken","statusMissingAuthToken","statusInvalidAuthToken","statusMissingParam","statusInvalidParam","statusInvalidCredentials","statusMissingConnectionToken","statusInvalidConnectionToken","statusAdminPriviledgeRequired","statusInvalidClientType","statusIperf3ServerBusy","statusHttpError","statusInvalidThirdPartyApi","statusSentinelInUse","statusAdminInProgress","statusInvalidDownloadClient","statusUserNotInWhiteList","statusIperf3ServerFailed","pingMarkNormal","pingMarkDropped","pingMarkSaved","objectType_null","objectType_clientInstance","objectType_networkDevice","objectType_server","eventClass_null","eventClass_clientAdded","eventClass_clientAddressChanged","eventClass_clientOnLineStatus","eventClass_clientLoginStatus","eventClass_cpuusage","eventClass_crash","eventClass_networkDeviceAdded","eventClass_networkDeviceDeleted","eventClass_networkDeviceIPAddressChanged","eventClass_networkDeviceStatus","eventClass_pingFail","eventId_null","eventActive_inactive","eventActive_active","eventActive_activeAutoInactive","alertTarget_null","alertTarget_email","alertTarget_sms","adminCmd_admin","adminCmd_getLogLevel","adminCmd_setLogLevel","adminCmd_sendLogs","adminCmd_sentinel_none","adminCmd_sentinel_reboot","adminCmd_sentinel_resetNetworkDevicesDatabase","adminCmd_sentinel_restartSentinel","adminCmd_sentinel_restartSentinelAdmin","adminCmd_sentinel_restartSentinelWeb","adminCmd_sentinel_restartUpdater","adminCmd_sentinel_sendLogs","adminCmd_sentinel_setLogLevelDetailed","adminCmd_sentinel_setLogLevelNormal","clientType_null","clientType_appliance","clientType_pc","clientType_web","clientMode_null","clientMode_pcOnly","clientMode_sentinel","thirdPartyApiName_null","thirdPartyApiName_email","thirdPartyApiName_ipApi","thirdPartyApiName_ipGeolocation","thirdPartyApiName_sms","headBuzzardUserId","endOfFile","send","channel","data","console","log","e","CustomEvent","detail","document","getElementById","dispatchEvent","on","callback","addEventListener","app","NavBar","props","handleClick","url","state","count","this","setState","isAdmin","loggedIn","navbarName","className","id","onClick","Defs","to","React","Component","eventManager","event","loginStatus","doRender","CloseButton","linkCount","ev","type","style","position","top","right","border","background","outline","height","width","InfoPopup","getInfoMessage","closePopup","marginLeft","textAlign","fontSize","title","handleSubmitClick","Navigator","linkChange","link","handleLinkChange","AboutWindow","message","label","level","httpsInstance","axios","create","httpsAgent","https","Agent","keepAlive","validateStatus","status","handleHttpException","ex","code","config","a","delete","addHeaders","get","params","post","put","configWithHeaders","headers","Date","now","defaults","common","logAuthToken","setAuthTokenHeader","authToken","setBaseURL","baseURL","setClientTokenHeader","clientToken","setConnTokenHeader","connToken","serverIPAddress","serverIPAddress_","userData","http","reqData","init","final","addUser","deleteUser","getUser","newPassword","sendPasswordResetCode","updateUser","verifyUser","SpinnerPopup","alignItems","Spinner","animation","role","Input","name","value","error","autofocus","disabled","onChange","porportionalWidth","htmlFor","autoFocus","ValidationPopup","target","onSubmit","getCode","handleChange","text","Button","variant","isValidInput","color","handleCancelClick","UserForm","errors","userName","emailAddress","mobilePhoneNo","password","password2","schema","Joi","string","required","min","max","email","regex","obj","validate","details","abortEarly","item","path","getUserData","setUserData","length","button1Label","button2Label","getButtonsEnabled","isValidUserName","isValidMobilePhoneNo","isValidEmailAddress","isValidPassword","errorMessage","validateProperty","preventDefault","Object","values","setButtonsEnabled","setFieldsEnabled","onSubmit2","buttonsEnabled","fieldsEnabled","getFieldsEnabled","button1MarginRight","ret","renderInput","userNameDisabled","handlePassword2Change","align","marginRight","handleButtonClick","getButton1Label","handleButton2Click","getButton2Label","AddUserWindow","nextProps","nextState","infoMessage","showInfoPopup","showValidationPopup","isVerified","verificationCode","userId","showSpinner","handleVerifyClick","hideValidationCodePopup","bind","handleInfoPopupClick","hideInfoPopup","handleAddClick","user","__hadError__","statusCode","needRegistration","AdminNavigatorWindow","BlankWindow","queryString","getClients","ClientPopup","client","JSON","parse","stringify","getClient","onClose","navigator","clipboard","writeText","then","catch","err","clientIsSentinel","clientType","clientName","size","handleCopyClientTokenClick","publicIPAddress","substring","localIPAddress","ispName","isOnLine","isLoggedIn","iperf3UseCountDaily","sentinelUpdateTime","sentinelAdminUpdateTime","sentinelWebUpdateTime","updaterUpdateTime","handleCloseClick","ClientTable","clients","map","key","cursor","ClientsWindow","getClientsFromDB","showClientPopup","clientByClientToken","handleClientCloseClick","hideClientPopup","font","fontWeight","overflowY","handleClientTokenClick","Map","i","set","DownloadWindow","href","PasswordPopup","getPassword","EditUserWindow","windowTitle","showPasswordPopup","passwordValidated","passwordSupplied","handlePasswordPopupClick","hidePasswordPopup","handleLoginClick","handleUpdateClick","handleDeleteClick","ipcSubmitLogout","handleLoginStatus","ForgotPasswordWindow","update","passwordResetCode","showGetCodeResponsePopup","getCodeResponseMessage","showSubmitResponsePopup","getSubmitResponseMessage","inputsEnabled","submitButtonEnabled","codeSent","componentDidMount","updatePassword","isValidPasswordResetCode","responseMessage","showResponsePopup","getResponseMessage","handleResponsePopupClick","hideResponsePopup","handleGetCodeClick","handleClearClck","HomeNavigatorWindow","IipzyWindow","class","handleSentinelClick","val","Cookies","cookie","sendLogin","credentials","sendLogout","passwordEncrypted","passwordDecrypted","decrypt","loginAsync","logoutAsync","handleCompletion","onUserCommand_","onUserCommand","undefined","encrypt","loginAttemped","login","loginRequest","logoutRequest","reLoginAsync","LoginWindow","handleKeyPress","title_","getUserName","hidden","getSubmitButtonEnabled","auth","ClientPicker","clientsFiltered","getDisabled","selectedClient","onPick","clientTokenByEntryString","options","handleSelect","getSelectedClient","placeholder","entryStringByClientToken","entryString","push","selectedClientToken","getSelectedClientToken","tgtClientToken","paramsSansActionUuid","actionUuid","getSentinelAdminStatus","postSentinelAdmin","SentinelAdminWindow","getSentinelAdminSettings","statusInterval","setInterval","inSendSentinelAdminStatusGetRequest","clearInterval","settings","action","submitTimeout","setTimeout","waitForInProgress","uuidv4","inProgress","clearTimeout","disabledWhileInProgress","activityStatus","handleClientPick","getClientToken","checked","handleActionChange","getEnableSave","handleSaveClick","getEnableSubmit","readOnly","sentinelAdmin","adminStatus","step","failed","SentinelTable","isWiFi","SentinelsWindow","from","window","location","origin","paramsEncrypted","cipher","replace","encodeURI","numSentinels","handleLocalIPAddressClick","paramsSansUpdateUuid","updateUuid","getUpdaterStatus","postUpdaterUpdate","UpdaterWindow","inSendUpdaterStatusGetRequest","getUpdaterSettings","updateType","disabledWhileUpdating","updateStatus","handleUpdateTypeChange","updater","App","callBackendAPI","fetch","response","json","body","Error","Fragment","exact","component","Boolean","hostname","match","unregister","serviceWorker","ready","registration","sentClientLoginNeeded","inHeartbeat","heartbeat","createPseudoLocalIPAddress","toString","Math","floor","random","createClient","yourIPAddress","timestamp","newClientToken","ReactDOM","render","hasCredentials","main","decrypted","iv","Buffer","randomBytes","createCipheriv","crypted","encrypted","textParts","split","IV","shift","encryptedText","join","decipher","createDecipheriv"],"mappings":"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","file":"static/js/main.5a38d4e2.chunk.js","sourcesContent":["class Defs {}\n\nmodule.exports = {\n  reqAreYouServerUuid: \"a962ed99-e788-49cd-aa67-b0a8317f1573\",\n  rspAreYouServerUuid: \"7589c403-984c-4c8a-885b-48a65131d17b\",\n\n  reqDiscoveryUuid: \"24e1c790-20b9-47e9-b4b7-77f15da4e191\",\n  rspDiscoveryUuid: \"9c96377f-ee54-4d39-b4f0-fde43283ac73\",\n\n  port_server: \"8001\",\n  port_sentinel_core: \"8002\",\n  port_sentinel_web: \"8008\",\n  port_sentinel_web_client_proxy: \"8004\",\n  port_sentinel_web_server_proxy: \"8088\",\n  port_sentinel_web_server: \"8443\",\n  port_sentinel_updater: \"8003\",\n\n  pingTarget: \"iipzy.net\",\n\n  urlAbout: \"/about\",\n  urlAddUser: \"/addUser\",\n  urlAdministration: \"/administration\",\n  urlBlank: \"/blank\",\n  urlClients: \"/clients\",\n  urlClientUpdate: \"/clientUpdate\",\n  urlCloseSentinel: \"/closeSentinel\",\n  urlDebug: \"/debug\",\n  urlDevices: \"/devices\",\n  urlDownload: \"/download\",\n  urlEditUser: \"/editUser\",\n  urlForgotPassword: \"/forgotPassword\",\n  urlHome: \"/home\",\n  urlIipzy: \"/iipzy\",\n  urlLogin: \"/login\",\n  urlLogLevel: \"/logLevel\",\n  urlLogSend: \"/logSend\",\n  urlNavigator: \"/navigator\",\n  urlPingPlot: \"/pingPlot\",\n  urlScheduler: \"/scheduler\",\n  urlSentinelAdmin: \"/sentinelAdmin\",\n  urlSentinelDiscovery: \"/sentinelDiscovery\",\n  urlSentinelInUse: \"/sentinelInUse\",\n  urlSentinelOnlineCheck: \"/sentinelOnlineCheck\",\n  urlSentinels: \"/sentinels\",\n  urlSettings: \"/settings\",\n  urlStartup: \"/startup\",\n  urlThroughputTest: \"/throughputTest\",\n  urlUpdater: \"/updater\",\n\n  ipcAAATest: \"ipc_000\",\n  ipcAuthCredentialsUpdate: \"ipc_001\",\n  ipcBloatLatencyStatusIperf3Down: \"ipc_002\",\n  ipcBloatLatencyStatusIperf3DownFinal: \"ipc_003\",\n  ipcBloatLatencyStatusIperf3Up: \"ipc_004\",\n  ipcBloatLatencyStatusIperf3UpFinal: \"ipc_005\",\n  ipcClearDials: \"ipc_006\",\n  ipcClientLoginNeeded: \"ipc_007\",\n  ipcClientName: \"ipc_074\",\n  ipcClientShutdown: \"ipc_008\",\n  ipcConnectionToken: \"ipc_129\",\n  ipcConsoleLog: \"ipc_009\",\n  ipcConsoleLogVerbose: \"ipc_092\",\n  ipcDevicesReady: \"ipc_075\",\n  ipcDeviceUpdated: \"ipc_072\",\n  ipcDumpSentinelDeviceTable: \"ipc_068\",\n  ipcExit: \"ipc_010\",\n  ipcExiting: \"ipc_011\",\n  ipcIperf3StatusDown: \"ipc_012\",\n  ipcIperf3StatusUp: \"ipc_013\",\n  ipcLinkTo: \"ipc_014\",\n  ipcLoginStatus: \"ipc_015\",\n  ipcLoginVerifyStatus: \"ipc_157\",\n  ipcNominalLatencyStatus: \"ipc_016\",\n  ipcNominalLatencyStatusFinal: \"ipc_017\",\n  ipcNoop: \"ipc_044\",\n  ipcPingPlotConvertDB: \"ipc_056\",\n  ipcPingPlotData: \"ipc_024\",\n  ipcPingPlotWindowButtonHome: \"ipc_025\",\n  ipcPingPlotWindowButtonLeft: \"ipc_026\",\n  ipcPingPlotWindowButtonLeftMarked: \"ipc_027\",\n  ipcPingPlotWindowButtonRight: \"ipc_028\",\n  ipcPingPlotWindowButtonRightMarked: \"ipc_029\",\n  ipcPingPlotWindowButtonZoomChange: \"ipc_030\",\n  ipcPingPlotWindowMount: \"ipc_031\",\n  ipcPingPlotWindowButtonHomeEx: \"ipc_114\",\n  ipcPingPlotWindowButtonLeftEx: \"ipc_115\",\n  ipcPingPlotWindowButtonLeftMarkedEx: \"ipc_116\",\n  ipcPingPlotWindowButtonRightEx: \"ipc_117\",\n  ipcPingPlotWindowButtonRightMarkedEx: \"ipc_118\",\n  ipcPingPlotWindowButtonZoomChangeEx: \"ipc_119\",\n  ipcPingPlotWindowMountEx: \"ipc_120\",\n  ipcQuit: \"ipc_067\",\n  ipcRendererReady: \"ipc_033\",\n  ipcSentinelDiscoveryTryingSentinelIPAddress: \"ipc_018\",\n  ipcSentinelDiscovery: \"ipc_019\",\n  ipcSentinelSendState: \"ipc_020\",\n  ipcSentinelOnlineCheck: \"ipc_021\",\n  ipcSentinelOnlineStatus: \"ipc_022\",\n  ipcServerAddress: \"ipc_064\",\n  ipcShowNavBar: \"ipc_146\",\n  ipcTestingState: \"ipc_036\",\n  ipcTickStatusIperf3Down: \"ipc_037\",\n  ipcThroughputTestFailedToGetServer: \"ipc_038\",\n  ipcThrouputTestStatus: \"ipc_087\",\n  ipcThroughputTestWindowButtonLeft: \"ipc_089\",\n  ipcThroughputTestWindowButtonNewest: \"ipc_088\",\n  ipcThroughputTestWindowButtonOldest: \"ipc_091\",\n  ipcThroughputTestWindowButtonRight: \"ipc_090\",\n  ipcThroughputTestWindowMount: \"ipc_039\",\n  ipcThroughputTestWindowCancel: \"ipc_175\",\n  ipcThroughputTestWindowStart: \"ipc_174\",\n  ipcThroughputTestWindowStartStop: \"ipc_040\",\n  ipcTickStatusIperf3Up: \"ipc_041\",\n  ipcTickStatusNominalLatency: \"ipc_042\",\n  ipcTimeOfTest: \"ipc_043\",\n  ipcUserAddVerified: \"ipc_127\",\n  ipcZZZNext: \"ipc_176\",\n\n  configFilename: \"iipzy\",\n\n  crashFilename: \"iipzy-crash.txt\",\n\n  // -- login status\n  loginStatusLoggedOut: 0,\n  loginStatusLoggedIn: 1,\n  loginStatusLoginFailed: 2,\n  loginStatusVerified: 3,\n  loginStatusVerifyFailed: 4,\n  loginStatusNoServerAddress: 5,\n\n  // -- sentinel discovery\n  sentinelStatusOnline: 0,\n  sentinelStatusOffline: 1,\n  sentinelStatusInUse: 2,\n  sentinelStatusNoAddress: 3,\n  sentinelStatusUnknown: 4,\n  sentinelStatusOnlineLoggedOut: 5,\n\n  // -- pi internal events\n  // NB: don't overlap with ipc...\n  pevLoginStatus: \"pev_1001\",\n  pevLoginNeeded: \"pev_1002\",\n  pevZZZNext: \"pev_1003\",\n\n  // -- http custome headers\n  httpCustomHeader_XAuthToken: \"x-auth-token\",\n  httpCustomHeader_XClientToken: \"x-client-token\",\n  httpCustomHeader_XConnToken: \"x-conn-token\",\n  httpCustomHeader_XTimestamp: \"x-timestamp\",\n  httpCustomHeader_XWebClient: \"x-web-client\",\n\n  // -- http\n  httpStatusOk: 200,\n  httpStatusCreated: 201,\n  httpStatusAccepted: 202,\n  httpStatusNoContent: 204,\n  httpStatusMultiStatus: 207,\n  httpStatusFound: 302,\n  httpStatusBadRequest: 400,\n  httpStatusUnauthorized: 401,\n  httpStatusForbidden: 403,\n  httpStatusNotFound: 404,\n  httpStatusConflict: 409,\n  httpStatusGone: 410,\n  httpStatusUnprocessableEntity: 422,\n  httpStatusInternalError: 500,\n  httpStatusNotImplemented: 501,\n  httpStatusConnRefused: 900,\n  httpStatusConnAborted: 901,\n  httpStatusConnReset: 902,\n  httpStatusSentinelInUse: 903,\n  httpStatusException: 999,\n\n  statusOk: 0,\n  statusAlreadyExists: 10001,\n  statusDoesNotExist: 10002,\n  statusInvalidVerificationCode: 10003,\n  statusGeneralSqlFailure: 10004,\n  statusException: 10005,\n  statusInvalidUserName: 10006,\n  statusInvalidPasswordResetCode: 10007,\n  statusCannotAllocateIperf3Server: 10008,\n  statusDailyIperf3LimitReached: 10009,\n  statusInvalidUpdateType: 10010,\n  statusUpdateInProgress: 10011,\n  statusRouteError: 10012,\n  statusMissingClientToken: 10013,\n  statusInvalidClientToken: 10014,\n  statusMissingAuthToken: 10015,\n  statusInvalidAuthToken: 10016,\n  statusMissingParam: 10017,\n  statusInvalidParam: 10018,\n  statusInvalidCredentials: 10019,\n  statusMissingConnectionToken: 10020,\n  statusInvalidConnectionToken: 10021,\n  statusAdminPriviledgeRequired: 10022,\n  statusInvalidClientType: 10023,\n  statusIperf3ServerBusy: 10024,\n  statusHttpError: 10025,\n  statusInvalidThirdPartyApi: 10026,\n  statusSentinelInUse: 10027,\n  statusAdminInProgress: 10028,\n  statusInvalidDownloadClient: 10029,\n  statusUserNotInWhiteList: 10030,\n  statusIperf3ServerFailed: 10031,\n\n  // ping mark - bit mask\n  pingMarkNormal: 0,\n  pingMarkDropped: 1,\n  pingMarkSaved: 2,\n\n  // -- events\n  // objectType\n  objectType_null: \"\",\n  objectType_clientInstance: \"clientInstance\",\n  objectType_networkDevice: \"networkDevice\",\n  objectType_server: \"server\",\n\n  // eventClass\n  eventClass_null: \"\",\n  eventClass_clientAdded: \"clientAdded\",\n  eventClass_clientAddressChanged: \"clientAddressChanged\",\n  eventClass_clientOnLineStatus: \"clientOnLineStatus\",\n  eventClass_clientLoginStatus: \"clientLoginStatus\",\n  eventClass_cpuusage: \"cpuusage\",\n  eventClass_crash: \"crash\",\n  eventClass_networkDeviceAdded: \"networkDeviceAdded\",\n  eventClass_networkDeviceDeleted: \"networkDeviceDeleted\",\n  eventClass_networkDeviceIPAddressChanged: \"networkDeviceIPAddressChanged\",\n  eventClass_networkDeviceStatus: \"networkDeviceStatus\",\n  eventClass_pingFail: \"pingFail\",\n\n  // eventId\n  eventId_null: \"\",\n\n  // eventActive\n  eventActive_inactive: 0,\n  eventActive_active: 1,\n  eventActive_activeAutoInactive: 2, // becomes inactive when alert sent.\n\n  // alert target\n  alertTarget_null: 0,\n  alertTarget_email: 1,\n  alertTarget_sms: 2,\n\n  // -- administrative commands to sentinels/clients\n  adminCmd_admin: \"admin\",\n  adminCmd_getLogLevel: \"get-log-level\",\n  adminCmd_setLogLevel: \"set-log-level\",\n  adminCmd_sendLogs: \"send-logs\",\n\n  adminCmd_sentinel_none: \"none\",\n  adminCmd_sentinel_reboot: \"reboot\",\n  adminCmd_sentinel_resetNetworkDevicesDatabase:\n    \"reset-network-devices-database\",\n  adminCmd_sentinel_restartSentinel: \"restart-sentinel\",\n  adminCmd_sentinel_restartSentinelAdmin: \"restart-sentinel-admin\",\n  adminCmd_sentinel_restartSentinelWeb: \"restart-sentinel-web\",\n  adminCmd_sentinel_restartUpdater: \"restart-updater\",\n  adminCmd_sentinel_sendLogs: \"send-logs\",\n  adminCmd_sentinel_setLogLevelDetailed: \"set-log-level-detailed\",\n  adminCmd_sentinel_setLogLevelNormal: \"set-log-level-normal\",\n\n  // client type.\n  clientType_null: \"null\",\n  clientType_appliance: \"appliance\",\n  clientType_pc: \"pc\",\n  clientType_web: \"web\",\n\n  // client mode.\n  clientMode_null: \"null\",\n  clientMode_pcOnly: \"pc-only\",\n  clientMode_sentinel: \"sentinel\",\n\n  // third party apis.\n  thirdPartyApiName_null: \"null\",\n  thirdPartyApiName_email: \"email\",\n  thirdPartyApiName_ipApi: \"ipApi\",\n  thirdPartyApiName_ipGeolocation: \"ipGeolocation\",\n  thirdPartyApiName_sms: \"sms\",\n\n  headBuzzardUserId: 1,\n\n  //\n  endOfFile: 0\n};\n","function send(channel, data) {\n  //\n  console.log(\"---eventManager.send: channel = \" + channel);\n  const data_ = data ? data : {};\n  const e = new CustomEvent(channel, { detail: { data: data_ } });\n  document.getElementById(\"root\").dispatchEvent(e);\n}\n\nfunction on(channel, callback) {\n  document.getElementById(\"root\").addEventListener(\n    channel,\n    e => {\n      // console.log(\n      //   \"eventManager.on: channel = \" +\n      //     channel +\n      //     \", e.detail = \" +\n      //     JSON.stringify(e.detail)\n      // );\n      callback(channel, e.detail.data);\n    },\n    false\n  );\n}\n\nexport default { send, on };\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\n\nlet app = null;\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"NavBar.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  doRender() {\n    console.log(\"NavBar.doRender\");\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  handleClick = (url) => {\n    console.log(\"==================NavBar.handleClick: url = \" + url);\n    //eventManager.send(Defs.ipcLinkTo, url);\n  };\n\n  // handleClickAddUser = url => {\n  //   console.log(\"==================NavBar.handleClickAddUser: \" + url);\n  // };\n\n  // handleTo = ev => {\n  //   console.log(\"==================NavBar.handleTo ev = \" + JSON.stringify(ev));\n  // };\n\n  render() {\n    const isAdmin = NavBar.isAdmin;\n    const loggedIn = NavBar.loggedIn;\n    const navbarName = NavBar.navbarName;\n\n    console.log(\"NavBar.render: = \" + navbarName);\n\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        {navbarName === \"home\" && (\n          <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n            <div className=\"navbar-nav\">\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlIipzy)}\n                to={Defs.urlIipzy}\n              >\n                iipzy\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlSentinels)}\n                to={Defs.urlSentinels}\n              >\n                Sentinel\n              </NavLink>\n              {!loggedIn && (\n                <NavLink\n                  className=\"nav-item nav-link\"\n                  onClick={() => this.handleClick(Defs.urlLogin)}\n                  to={Defs.urlLogin}\n                >\n                  Log In\n                </NavLink>\n              )}\n              {loggedIn && (\n                <NavLink\n                  className=\"nav-item nav-link\"\n                  onClick={() => this.handleClick(Defs.urlLogin)}\n                  to={Defs.urlLogin}\n                >\n                  Log Out\n                </NavLink>\n              )}\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlEditUser)}\n                to={Defs.urlEditUser}\n              >\n                Edit User\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlForgotPassword)}\n                to={Defs.urlForgotPassword}\n              >\n                Forgot Password\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlAddUser)}\n                to={Defs.urlAddUser}\n              >\n                Register\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlAbout)}\n                to={Defs.urlAbout}\n              >\n                About\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlDownload)}\n                to={Defs.urlDownload}\n              >\n                Download\n              </NavLink>\n              {isAdmin ? (\n                <NavLink\n                  className=\"nav-item nav-link\"\n                  onClick={() => this.handleClick(Defs.urlAdministration)}\n                  to={Defs.urlAdministration}\n                >\n                  Administration\n                </NavLink>\n              ) : null}\n            </div>\n          </div>\n        )}\n        {navbarName === \"admin\" && (\n          <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n            <div className=\"navbar-nav\">\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlClients)}\n                to={Defs.urlClients}\n              >\n                Clients\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlSentinelAdmin)}\n                to={Defs.urlSentinelAdmin}\n              >\n                Admin\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlUpdater)}\n                to={Defs.urlUpdater}\n              >\n                Update\n              </NavLink>\n              <NavLink\n                className=\"nav-item nav-link\"\n                onClick={() => this.handleClick(Defs.urlHome)}\n                to={Defs.urlHome}\n              >\n                Home\n              </NavLink>\n            </div>\n          </div>\n        )}\n      </nav>\n    );\n  }\n}\n\nNavBar.isAdmin = false;\nNavBar.loggedIn = false;\nNavBar.navbarName = \"home\";\n\nconst handleShowNavBar = (event, data) => {\n  console.log(\"NavBar.handleShowNavBar: \" + data);\n  NavBar.navbarName = data;\n  if (app != null) app.doRender();\n};\n\nconst handleLoginStatus = (event, data) => {\n  const { isAdmin, loginStatus } = data;\n  NavBar.isAdmin = isAdmin;\n  NavBar.loggedIn = loginStatus === Defs.loginStatusLoggedIn;\n  if (app != null) app.doRender();\n};\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\neventManager.on(Defs.ipcShowNavBar, handleShowNavBar);\n\nexport default NavBar;\n","import React from \"react\";\nimport { FiX } from \"react-icons/fi\";\nimport IconButton from \"@material/react-icon-button\";\n\nclass CloseButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"CloseButton.constructor\");\n\n    this.state = {\n      linkCount: 0,\n    };\n  }\n\n  handleClick(ev) {\n    console.log(\"CloseButton.handleClick\");\n    this.props.onClick(ev);\n  }\n\n  render() {\n    console.log(\"IipzyWindow.render\");\n\n    return (\n      <div>\n        <IconButton\n          onClick={(ev) => this.handleClick(ev)}\n          type=\"submit\"\n          style={{\n            position: \"absolute\",\n            top: \"0px\",\n            right: \"0px\",\n            border: \"none\",\n            background: \"none\",\n            outline: \"none\",\n          }}\n        >\n          <FiX style={{ height: 30, width: 30 }} />\n        </IconButton>\n      </div>\n    );\n  }\n}\n\nexport default CloseButton;\n","import React from \"react\";\n\nimport CloseButton from \"./closeButton\";\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass InfoPopup extends React.Component {\n  constructor(props) {\n    super(props);\n    app = this;\n  }\n\n  getInfoMessage() {\n    return this.props.getInfoMessage();\n  }\n\n  handleSubmitClick(ev) {\n    console.log(\"...Popup handleSubmitClick\");\n    this.props.closePopup();\n  }\n\n  render() {\n    console.log(\"InfoPopup render\");\n\n    return (\n      <div>\n        <Navigator />\n        <div className=\"popup\">\n          <div className=\"popup_inner\">\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>{this.props.title}</p>\n            </div>\n            <div style={{ marginLeft: 30, textAlign: \"left\" }}>\n              <p>\n                <br />\n                {this.getInfoMessage()}\n              </p>\n            </div>\n            <CloseButton onClick={ev => this.handleSubmitClick(ev)} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default InfoPopup;\n","import React from \"react\";\nimport { Redirect, Switch } from \"react-router-dom\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport InfoPopup from \"./infoPopup\";\n\nlet app = null;\n\n// NB: Navigator does not get constructed on every reference.\nclass Navigator extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"Navigator.constructor\");\n\n    this.state = {\n      linkCount: 0\n    };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"Navigator.componentDidMount\");\n    app = this;\n  }\n\n  componentWillUnmount() {\n    console.log(\"Navigator.componentWillUnmount\");\n    app = null;\n  }\n\n  handleLinkChange() {\n    Navigator.linkChange = true;\n    Navigator.linkCount++;\n\n    console.log(\"Navigator: handleLinkChange: \" + Navigator.link);\n\n    this.setState({ linkCount: Navigator.linkCount });\n  }\n\n  render() {\n    const linkChange = Navigator.linkChange;\n    Navigator.linkChange = false;\n    const link = Navigator.link;\n\n    console.log(\"Navigator.render: \" + link + \", linkChange = \" + linkChange);\n\n    return (\n      <div>\n        {linkChange && (\n          <Switch>\n            <Redirect to={link} />\n          </Switch>\n        )}\n      </div>\n    );\n  }\n}\n\nNavigator.link = \"\";\nNavigator.linkCount = 0;\nNavigator.linkChange = false;\n\neventManager.on(Defs.ipcSentinelOnlineStatus, (event, data) => {});\n\neventManager.on(Defs.ipcLinkTo, (event, data) => {\n  console.log(\"navigator: \" + data);\n\n  Navigator.link = data;\n  if (app) app.handleLinkChange();\n});\n\nexport default Navigator;\n","import React from \"react\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass AboutWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"AboutWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"AboutWindow.componentDidMount\");\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  componentWillUnmount() {\n    console.log(\"AboutWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  render() {\n    console.log(\"AboutWindow.render\");\n\n    const downloadPath = \"..\" + Defs.urlDownload;\n\n    return (\n      <div>\n        <Navigator />\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>About iipzy</p>\n          <p>\n            iipzy monitors your internet connection for reliability and speed.\n          </p>\n          <p>\n            An iipzy device on your local network talks to the iipzy service in\n            the cloud. The iipzy device is a Raspberry Pi computer running linux\n            and iipzy software. Click <b>Download</b> above for how to set up a\n            Raspberry Pi. The iipzy device is known as <b>Sentinel</b>.\n          </p>\n          <p>\n            To watch your network connection, Sentinel sends a heartbeat to the\n            iipzy service every 20 seconds. If the service fails to receive a\n            heartbeat for one minute, it assumes your internet connection is\n            down. You are notified by a text message and email of this. When a\n            heartbeat is again received, you are notified that the connection is\n            up.\n          </p>\n          <p>\n            To measure network latency, Sentinel sends a ping to an internet\n            server every 5 seconds. You can view the ping latency on a graph so\n            that you can see latency variations over time. Ping history is kept\n            for 30 days. iipzy notifies you by email if one or more pings are\n            dropped.\n          </p>\n          <p>\n            To measure network throughput, Sentinel runs a speed test once a\n            day, at about 1 am. You can also run the speed test on demand. You\n            can view the history of the speed tests to see if your throughput is\n            changing.\n          </p>\n          <p>\n            Additionally, Sentinel keeps track of devices on your network. You\n            can view info about the devices, such as ip address, name, and\n            capabilities. iipzy notifies you via email if a new device appears\n            on your network or if a device hasn't been seen for 30 days. You can\n            optionally monitor a particular device so that you are notified by\n            email if it goes offline or comes online.\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AboutWindow;\n","export function log(message, label, level) {\n  console.log(level + \" [\" + label + \"] \" + message);\n}\n\nexport default { log };\n","import axios from \"axios\";\nimport https from \"https\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nconst httpsInstance = axios.create({\n  httpsAgent: new https.Agent({\n    keepAlive: true\n  }),\n  validateStatus: function(status) {\n    // return success for all http response codes.\n    return true;\n  }\n});\n\nfunction handleHttpException(title, ex) {\n  console.log(\"(Exception) \" + title + \": \" + ex + \", code = \" + ex.code);\n  let status = Defs.httpStatusException;\n  switch (ex.code) {\n    case \"ECONNREFUSED\": {\n      status = Defs.httpStatusConnRefused;\n      break;\n    }\n    case \"ECONNABORTED\": {\n      status = Defs.httpStatusConnAborted;\n      break;\n    }\n    case \"ECONNRESET\": {\n      status = Defs.httpStatusConnReset;\n      break;\n    }\n    default: {\n      status = Defs.httpStatusConnRefused;\n      break;\n    }\n  }\n\n  return { status };\n}\n\nasync function _delete(url, config) {\n  try {\n    return await httpsInstance.delete(url, addHeaders(config));\n  } catch (ex) {\n    return handleHttpException(\"delete\", ex);\n  }\n}\n\nasync function _get(url, config) {\n  console.log(\"--------------_get: url \" + url);\n  try {\n    return await httpsInstance.get(url, addHeaders(config));\n  } catch (ex) {\n    console.log(\"(Exception)--------------_get: ex \" + ex.code);\n    return handleHttpException(\"get\", ex);\n  }\n}\n\nasync function _post(url, params, config) {\n  console.log(\"--------------_post: url \" + url);\n  try {\n    return await httpsInstance.post(url, params, addHeaders(config));\n  } catch (ex) {\n    console.log(\"(Exception)--------------_post: ex \" + ex.code);\n    return handleHttpException(\"post\", ex);\n  }\n}\n\nasync function _put(url, params, config) {\n  try {\n    return await httpsInstance.put(url, params, addHeaders(config));\n  } catch (ex) {\n    return handleHttpException(\"put\", ex);\n  }\n}\n\nfunction logAuthToken() {\n  console.log(\n    \"authToken: \" +\n      axios.defaults.headers.common[Defs.httpCustomHeader_XAuthToken]\n  );\n}\n\nfunction setAuthTokenHeader(authToken) {\n  console.log(\"setAuthTokenHeader = \" + authToken);\n  axios.defaults.headers.common[Defs.httpCustomHeader_XAuthToken] = authToken;\n}\n\nfunction setBaseURL(baseURL) {\n  axios.defaults.baseURL = \"http://\" + baseURL + \"/\";\n  console.log(\"setBaseURL = \" + axios.defaults.baseURL);\n}\n\nfunction setClientTokenHeader(clientToken) {\n  console.log(\"setClientTokenHeader = \" + clientToken);\n  axios.defaults.headers.common[\n    Defs.httpCustomHeader_XClientToken\n  ] = clientToken;\n}\n\nfunction setConnTokenHeader(connToken) {\n  console.log(\"setConnTokenHeader = \" + connToken);\n  axios.defaults.headers.common[Defs.httpCustomHeader_XConnToken] = connToken;\n}\n\nfunction addHeaders(config) {\n  const configWithHeaders = config ? config : {};\n  configWithHeaders.headers = {};\n  configWithHeaders.headers[Defs.httpCustomHeader_XTimestamp] = Date.now();\n  configWithHeaders.headers[Defs.httpCustomHeader_XWebClient] = 1;\n  if (axios.defaults.headers.common[Defs.httpCustomHeader_XAuthToken])\n    configWithHeaders.headers[Defs.httpCustomHeader_XAuthToken] =\n      axios.defaults.headers.common[Defs.httpCustomHeader_XAuthToken];\n  if (axios.defaults.headers.common[Defs.httpCustomHeader_XClientToken])\n    configWithHeaders.headers[Defs.httpCustomHeader_XClientToken] =\n      axios.defaults.headers.common[Defs.httpCustomHeader_XClientToken];\n  if (axios.defaults.headers.common[Defs.httpCustomHeader_XConnToken])\n    configWithHeaders.headers[Defs.httpCustomHeader_XConnToken] =\n      axios.defaults.headers.common[Defs.httpCustomHeader_XConnToken];\n\n  return configWithHeaders;\n}\n\nexport default {\n  delete: _delete,\n  get: _get,\n  post: _post,\n  put: _put,\n  logAuthToken,\n  setAuthTokenHeader,\n  setBaseURL,\n  setClientTokenHeader,\n  setConnTokenHeader\n};\n","import Defs from \"iipzy-shared/src/defs\";\n\nimport { log } from \"../utils/log\";\n//import eventManager from \"../ipc/eventManager\";\nimport http from \"../ipc/httpService\";\n\nlet serverIPAddress = \"address not set\";\n\nasync function init(serverIPAddress_) {\n  log(\"users.init\", \"clts\", \"info\");\n\n  serverIPAddress = serverIPAddress_;\n}\n\nfunction final() {}\n\nasync function addUser(userData) {\n  log(\"addUser\", \"user\", \"info\");\n  return await http.post(\"https://\" + serverIPAddress + \"/api/user\", userData);\n}\n\nasync function deleteUser(userData) {\n  log(\"deleteUser\", \"user\", \"info\");\n  return await http.delete(\"https://\" + serverIPAddress + \"/api/user\");\n}\n\nasync function getUser() {\n  log(\"getUser\", \"user\", \"info\");\n  return await http.get(\"https://\" + serverIPAddress + \"/api/user\");\n}\n\nasync function newPassword(userData) {\n  log(\"newPassword\", \"user\", \"info\");\n  return await http.post(\n    \"https://\" + serverIPAddress + \"/api/user/newpassword\",\n    userData\n  );\n}\n\nasync function sendPasswordResetCode(userData) {\n  log(\"sendCode\", \"user\", \"info\");\n  return await http.post(\n    \"https://\" + serverIPAddress + \"/api/user/sendcode\",\n    userData\n  );\n}\n\nasync function updateUser(userData) {\n  log(\"updateUser\", \"user\", \"info\");\n  return await http.put(\n    \"https://\" + serverIPAddress + \"/api/user/user\",\n    userData\n  );\n}\n\nasync function verifyUser(reqData) {\n  log(\"verifyUser\", \"user\", \"info\");\n  return await http.put(\n    \"https://\" + serverIPAddress + \"/api/user/verify\",\n    reqData\n  );\n}\n\nexport default {\n  init,\n  final,\n  addUser,\n  deleteUser,\n  getUser,\n  newPassword,\n  sendPasswordResetCode,\n  updateUser,\n  verifyUser\n};\n","import React from \"react\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nimport Navigator from \"./navigator\";\r\n\r\nlet app = null;\r\n\r\nclass SpinnerPopup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"SpinnerPopup.constructor\");\r\n    app = this;\r\n\r\n    this.state = { count: 0 };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"SpinnerPopup.componentDidMount\");\r\n    const count = this.state.count + 1;\r\n    this.setState({ count: count });\r\n  }\r\n\r\n  render() {\r\n    console.log(\"SpinnerPopup render\");\r\n\r\n    return (\r\n      <div>\r\n        <Navigator />\r\n        <div className=\"popup_spinner\">\r\n          <div className=\"popup_spinner_inner\" alignItems=\"center\">\r\n            <div>\r\n              <Spinner animation=\"border\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </Spinner>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SpinnerPopup;\r\n","import React from \"react\";\n\n//?? TODO hidden\nconst Input = ({\n  type,\n  name,\n  label,\n  value,\n  error,\n  autofocus,\n  disabled,\n  onChange,\n  porportionalWidth,\n}) => {\n  const width = porportionalWidth ? \"85%\" : \"480px\";\n  return (\n    <div className=\"form-group\" style={{ width, marginLeft: 45 }}>\n      <label htmlFor={name}>{label}</label>\n      <input\n        autoFocus={autofocus}\n        disabled={disabled}\n        value={value ? value : \"\"}\n        onChange={onChange}\n        id={name}\n        name={name}\n        type={type}\n        className=\"form-control\"\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\n//import Joi from \"joi-browser\";\n//import Form from \"iipzy-client-shared/src/common/form\";\nimport Button from \"@material-ui/core/Button\";\n//import Button from \"@material-ui/core/Button\").Button;\n\nimport CloseButton from \"./closeButton\";\nimport Input from \"./input\";\nimport Navigator from \"./navigator\";\n\n//let app = null;\n\nclass ValidationPopup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { code: \"\" };\n\n    console.log(\"ValidationPopup.constructor\");\n\n    //app = this;\n  }\n\n  getCode() {\n    return this.state.code;\n  }\n\n  handleChange(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n\n    console.log(\n      \"ValidationPopup.handleChange: name = \" +\n        name +\n        \", value = \" +\n        this.state[name]\n    );\n\n    this.setState({ [name]: value });\n  }\n\n  async handleSubmitClick(ev) {\n    console.log(\"ValidationPopup.handleSubmitClick\");\n    console.log(\"code=\" + this.state.code);\n\n    this.props.closePopup();\n    this.props.onSubmit(this.state.code);\n  }\n\n  async handleCancelClick(ev) {\n    console.log(\"ValidationPopup.handleCancelClick\");\n\n    this.props.closePopup();\n    this.props.onSubmit(\"000000\");\n  }\n\n  isValidInput() {\n    //?? TODO\n    return true;\n  }\n\n  render() {\n    console.log(\"ValidationPopup.render\");\n\n    return (\n      <div>\n        <Navigator />\n        <div className=\"popup\">\n          <div className=\"popup_inner\">\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>Enter Validation Code</p>\n            </div>\n            <Input\n              type=\"text\"\n              autofocus={true}\n              disabled={false}\n              name=\"code\"\n              value={this.getCode()}\n              label=\"Code\"\n              onChange={(ev) => this.handleChange(ev)}\n              error=\"\"\n              porportionalWidth={true}\n            />\n            <h1>{this.props.text}</h1>\n            <div style={{ textAlign: \"center\" }}>\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                disabled={!this.isValidInput()}\n                style={{\n                  width: \"130px\",\n                  color: \"#0000b0\",\n                }}\n                autoFocus\n                onClick={(ev) => this.handleSubmitClick(ev)}\n              >\n                Submit\n              </Button>\n            </div>\n            <CloseButton onClick={(ev) => this.handleCancelClick(ev)} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ValidationPopup;\n","import React from \"react\";\n//import Spinner from \"react-bootstrap/Spinner\";\nimport Joi from \"joi\";\nimport Button from \"@material-ui/core/Button\";\n//import Tooltip from \"@material-ui/core/Tooltip\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport Navigator from \"./navigator\";\nimport Input from \"./input\";\n//import SpinnerPopup from \"./spinnerPopup\";\n\nlet app = null;\n\nclass UserForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"UserForm.constructor\");\n\n    this.state = {\n      errors: {},\n      count: 0,\n      // showPopup: false\n    };\n\n    this.data = {\n      userName: null,\n      emailAddress: null,\n      mobilePhoneNo: null,\n      password: null,\n      password2: null,\n    };\n\n    app = this;\n\n    this.schema = {\n      userName: Joi.string().required().label(\"User Name\").min(5).max(50),\n      emailAddress: Joi.string().required().label(\"Email Address\").email(),\n      mobilePhoneNo: Joi.string()\n        .required()\n        .label(\"Mobile Phone Number\")\n        .regex(/^\\d{3}-\\d{3}-\\d{4}$/)\n        .error((errors) => {\n          return {\n            message: \"Phone number must be of the form 123-456-7890\",\n          };\n        }),\n      password: Joi.string().required().label(\"Password\").min(5).max(50),\n      password2: Joi.string().required().label(\"Password Again\").min(5).max(50),\n    };\n  }\n\n  validateProperty(name, value) {\n    console.log(\n      \"UserForm.validateProperty: name=\" + name + \", value = \" + value\n    );\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n\n    console.log(\"UserForm.validateProperty - had error = \" + error);\n\n    return error ? error.details[0].message : null;\n  }\n\n  validate() {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.data, this.schema, options);\n    if (!error) return null;\n\n    console.log(\"UserForm.validate - had error\");\n\n    const errors = {};\n    for (let item of error.details) errors[item.path[0]] = item.message;\n    return errors;\n  }\n\n  componentDidMount() {\n    console.log(\"UserForm.componentDidMount\");\n\n    this.data = this.props.getUserData();\n\n    const count = this.state.count + 1;\n    this.setState({ count });\n  }\n\n  componentWillUnmount() {\n    console.log(\"UserForm.componentWillUnmount\");\n\n    this.props.setUserData(this.data);\n\n    app = null;\n  }\n\n  isValidUserName() {\n    return this.data.userName != null && this.data.userName.length > 5;\n  }\n\n  isValidMobilePhoneNo() {\n    return (\n      this.data.mobilePhoneNo != null && this.data.mobilePhoneNo.length > 9\n    );\n  }\n\n  isValidEmailAddress() {\n    return this.data.emailAddress != null && this.data.emailAddress.length > 5;\n  }\n\n  isValidPassword() {\n    return this.data.password != null && this.data.password.length > 5;\n  }\n\n  getButton1Label() {\n    return this.props.button1Label;\n  }\n\n  getButton2Label() {\n    return this.props.button2Label;\n  }\n\n  isValidInput() {\n    return (\n      this.props.getButtonsEnabled() &&\n      this.isValidUserName() &&\n      this.isValidMobilePhoneNo() &&\n      this.isValidEmailAddress() &&\n      this.isValidPassword() &&\n      this.data.password === this.data.password2\n    );\n  }\n\n  handleChange(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n\n    console.log(\n      \"UserForm.handleChange: name = \" + name + \", value = \" + this.data[name]\n    );\n\n    const errors = this.state.errors;\n    const errorMessage = this.validateProperty(name, value);\n    if (errorMessage) errors[name] = errorMessage;\n    else delete errors[name];\n\n    const data = this.data;\n    data[name] = value;\n\n    this.setState({ data, errors });\n  }\n\n  handlePassword2Change(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n\n    console.log(\n      \"UserForm.handlePassword2Change: name=\" +\n        name +\n        \", value=\" +\n        this.data[name]\n    );\n\n    if (this.data.password !== value) {\n      const errors = this.state.errors;\n      errors[name] = \"passwords don't match\";\n\n      const data = this.data;\n      data[name] = value;\n\n      this.setState({ data, errors });\n\n      return;\n    }\n\n    return this.handleChange(ev);\n  }\n\n  handleButtonClick(ev) {\n    console.log(\"UserForm.handleButtonClick\");\n    console.log(\"userName=\" + this.data.userName);\n    console.log(\"mobilePhoneNo=\" + this.data.mobilePhoneNo);\n    console.log(\"emailAddress=\" + this.data.emailAddress);\n\n    ev.preventDefault();\n\n    const errors = this.validate();\n\n    if (errors)\n      console.log(\n        \"UserForm.handleButtonClick: errors = \" + Object.values(errors)\n      );\n\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n\n    this.props.setButtonsEnabled(false);\n    this.props.setFieldsEnabled(false);\n\n    this.props.onSubmit(this.data);\n  }\n\n  handleButton2Click(ev) {\n    this.props.setButtonsEnabled(false);\n    this.props.setFieldsEnabled(false);\n\n    this.props.onSubmit2(this.data);\n  }\n\n  renderInput(\n    name,\n    label,\n    type = \"text\",\n    autofocus = false,\n    disabled = false,\n    onChange = null\n  ) {\n    const { errors } = this.state;\n    const data = this.data;\n\n    const onChange_ = this.handleChange;\n\n    return (\n      <Input\n        type={type}\n        name={name}\n        label={label}\n        value={data[name]}\n        error={errors[name]}\n        autofocus={autofocus}\n        disabled={disabled}\n        onChange={onChange}\n      />\n    );\n  }\n\n  render() {\n    console.log(\"UserForm.render\");\n\n    const buttonsEnabled = this.props.getButtonsEnabled();\n    const fieldsEnabled = this.props.getFieldsEnabled();\n    const button1MarginRight = this.props.onSubmit2 ? 20 : 0;\n    //const showSpinner = !buttonsEnabled;\n\n    const ret = (\n      <div>\n        <Navigator />\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>{this.props.title}</p>\n        </div>\n        <form>\n          {this.renderInput(\n            \"userName\",\n            \"User Name\",\n            \"text\",\n            true,\n            this.props.userNameDisabled || !fieldsEnabled,\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"emailAddress\",\n            \"Email Address\",\n            \"text\",\n            false,\n            !this.isValidUserName() || !fieldsEnabled,\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"mobilePhoneNo\",\n            \"Mobile Phone Number\",\n            \"text\",\n            false,\n            !this.isValidEmailAddress() || !fieldsEnabled,\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"password\",\n            \"Password\",\n            \"password\",\n            false,\n            !this.isValidMobilePhoneNo() || !fieldsEnabled,\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"password2\",\n            \"Password Again\",\n            \"password\",\n            false,\n            !this.isValidPassword() || !fieldsEnabled,\n            (ev) => this.handlePassword2Change(ev)\n          )}\n          <div>&nbsp;</div>\n          <div style={{ marginLeft: \"45px\" }}>\n            <table align=\"left\">\n              <tbody>\n                <tr>\n                  <td>\n                    <div\n                      style={{\n                        textAlign: \"center\",\n                        marginRight: button1MarginRight,\n                      }}\n                    >\n                      <Button\n                        type=\"submit\"\n                        variant=\"contained\"\n                        disabled={!this.isValidInput()}\n                        style={{\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        /*                       autoFocus */\n                        onClick={(ev) => this.handleButtonClick(ev)}\n                      >\n                        {this.getButton1Label()}\n                      </Button>\n                    </div>\n                  </td>\n                  {this.props.onSubmit2 && (\n                    <td>\n                      <div style={{ textAlign: \"center\", marginLeft: 20 }}>\n                        <Button\n                          type=\"button\"\n                          variant=\"contained\"\n                          disabled={!buttonsEnabled}\n                          style={{\n                            width: \"130px\",\n                            color: \"#0000b0\",\n                          }}\n                          /*                         autoFocus */\n                          onClick={(ev) => this.handleButton2Click(ev)}\n                        >\n                          {this.getButton2Label()}\n                        </Button>\n                      </div>\n                    </td>\n                  )}\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </form>\n      </div>\n    );\n    console.log(\"<<<UserForm.render\");\n    return ret;\n  }\n}\n\nexport default UserForm;\n","import React from \"react\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport user from \"../services/user\";\nimport InfoPopup from \"./infoPopup\";\nimport SpinnerPopup from \"./spinnerPopup\";\nimport ValidationPopup from \"./validationPopup\";\nimport UserForm from \"./userForm\";\n\nlet app = null;\n\nclass AddUserWindow extends UserForm {\n  constructor(props) {\n    super(props);\n\n    console.log(\"AddUserWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"AddUserWindow.componentDidMount\");\n    this.doRender();\n  }\n\n  componentWillUnmount() {\n    console.log(\"AddUserWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  componentWillReceiveProps() {\n    console.log(\"AddUserWindow.componentWillReceiveProps\");\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"AddUserWindow.shouldComponentUpdate\");\n    return true;\n  }\n\n  getUserData() {\n    const userData = {\n      userName: AddUserWindow.userName,\n      emailAddress: AddUserWindow.emailAddress,\n      mobilePhoneNo: AddUserWindow.mobilePhoneNo,\n      password: AddUserWindow.password,\n      password2: AddUserWindow.password2,\n    };\n    return userData;\n  }\n\n  setUserData(userData) {\n    AddUserWindow.userName = userData.userName;\n    AddUserWindow.emailAddress = userData.emailAddress;\n    AddUserWindow.mobilePhoneNo = userData.mobilePhoneNo;\n    AddUserWindow.password = userData.password;\n    AddUserWindow.password2 = userData.password2;\n  }\n\n  handleAddClick(userData) {\n    console.log(\"AddUserWindow.handleAddClick\");\n    console.log(\"  userName=\" + userData.userName);\n    console.log(\"  mobilePhoneNo=\" + userData.mobilePhoneNo);\n    console.log(\"  emailAddress=\" + userData.emailAddress);\n\n    // save in globals.\n    AddUserWindow.userName = userData.userName;\n    AddUserWindow.mobilePhoneNo = userData.mobilePhoneNo;\n    AddUserWindow.emailAddress = userData.emailAddress;\n    AddUserWindow.password = userData.password;\n    AddUserWindow.password2 = userData.password;\n\n    addUser(userData);\n  }\n\n  getInfoMessage() {\n    return AddUserWindow.infoMessage;\n  }\n\n  handleInfoPopupClick() {\n    console.log(\"AddUserWindow.handleInfoPopupClick\");\n  }\n\n  hideInfoPopup() {\n    AddUserWindow.showInfoPopup = false;\n    AddUserWindow.buttonsEnabled = !AddUserWindow.showValidationPopup;\n    if (AddUserWindow.isVerified) {\n      eventManager.send(Defs.ipcUserAddVerified, {\n        userName: AddUserWindow.userName,\n      });\n      AddUserWindow.isVerified = false;\n    }\n    this.doRender();\n  }\n\n  async handleVerifyClick(verificationCode) {\n    console.log(\"AddUserWindow.handleVerifyClick, code\" + verificationCode);\n    if (verificationCode !== \"000000\")\n      verifyUser({\n        userId: AddUserWindow.userId,\n        verificationCode: verificationCode,\n      });\n  }\n\n  hideValidationCodePopup() {\n    AddUserWindow.showValidationPopup = false;\n    AddUserWindow.buttonsEnabled = true;\n    this.doRender();\n  }\n\n  getButtonsEnabled() {\n    console.log(\n      \"addUserWindow.getButtonsEnabled: \" + AddUserWindow.buttonsEnabled\n    );\n    return AddUserWindow.buttonsEnabled;\n  }\n\n  setButtonsEnabled(buttonsEnabled) {\n    AddUserWindow.buttonsEnabled = buttonsEnabled;\n    console.log(\n      \"AddUserWindow.setButtonsEnabled: \" + AddUserWindow.fieldsEnabled\n    );\n  }\n\n  getFieldsEnabled() {\n    console.log(\n      \"addUserWindow.getFieldsEnabled: \" + AddUserWindow.fieldsEnabled\n    );\n    return AddUserWindow.fieldsEnabled;\n  }\n\n  setFieldsEnabled(fieldsEnabled) {\n    AddUserWindow.fieldsEnabled = fieldsEnabled;\n    console.log(\n      \"AddUserWindow.setFieldsEnabled: \" + AddUserWindow.fieldsEnabled\n    );\n  }\n\n  doRender() {\n    console.log(\"AddUserWindow.doRender\");\n    this.setState({ count: this.state.count + 1 });\n  }\n\n  render() {\n    console.log(\"AddUserWindow.render\");\n\n    const showInfoPopup = AddUserWindow.showInfoPopup;\n    const showSpinner = AddUserWindow.showSpinner;\n    const showValidationPopup = AddUserWindow.showValidationPopup;\n\n    console.log(\"AddUserWindow.render: showInfoPopup = \" + showInfoPopup);\n    console.log(\"AddUserWindow.render: showSpinner = \" + showSpinner);\n    console.log(\n      \"AddUserWindow.render: showValidationPopup = \" + showValidationPopup\n    );\n\n    const ret = (\n      <div>\n        {showValidationPopup && (\n          <ValidationPopup\n            onSubmit={(ev) => this.handleVerifyClick(ev)}\n            closePopup={this.hideValidationCodePopup.bind(this)}\n          />\n        )}\n        {showInfoPopup && (\n          <InfoPopup\n            title={\"Register User\"}\n            getInfoMessage={() => this.getInfoMessage()}\n            onSubmit={(ev) => this.handleInfoPopupClick(ev)}\n            closePopup={this.hideInfoPopup.bind(this)}\n          />\n        )}\n        {showSpinner && <SpinnerPopup />}\n        <UserForm\n          title={\"Register User @ iipzy.com\"}\n          getUserData={this.getUserData}\n          setUserData={this.setUserData}\n          getButtonsEnabled={this.getButtonsEnabled}\n          setButtonsEnabled={this.setButtonsEnabled}\n          getFieldsEnabled={this.getFieldsEnabled}\n          setFieldsEnabled={this.setFieldsEnabled}\n          userNameDisabled={false}\n          button1Label={\"Register\"}\n          onSubmit={(ev) => this.handleAddClick(ev)}\n        />\n      </div>\n    );\n    console.log(\"<<<AddUserWindow.render\");\n    return ret;\n  }\n}\n\nAddUserWindow.userName = \"\";\nAddUserWindow.emailAddress = \"\";\nAddUserWindow.mobilePhoneNo = \"\";\nAddUserWindow.password = \"\";\nAddUserWindow.password2 = \"\";\n\n// NB: if true, we are in the window for first time registration.\nAddUserWindow.needRegistration = false;\n\nAddUserWindow.buttonsEnabled = true;\nAddUserWindow.fieldsEnabled = true;\n\nAddUserWindow.showInfoPopup = false;\nAddUserWindow.infoMessage = \"\";\nAddUserWindow.showSpinner = false;\nAddUserWindow.showValidationPopup = false;\n\nAddUserWindow.userId = 0;\nAddUserWindow.isVerified = false;\n\nasync function addUser(userData) {\n  console.log(\"AddUserWindow.addUser\");\n\n  AddUserWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data, status } = await user.addUser(userData);\n\n  if (data.__hadError__) {\n    console.log(\n      \"addUserWindow.handleUserAddResponse: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    AddUserWindow.infoMessage = data.__hadError__.errorMessage;\n\n    AddUserWindow.showInfoPopup = true;\n    AddUserWindow.showSpinner = false;\n    AddUserWindow.buttonsEnabled = false;\n    AddUserWindow.fieldsEnabled = true;\n\n    if (app) app.doRender();\n\n    return;\n  }\n\n  AddUserWindow.userId = data.userId;\n  console.log(\"AddUserWindow.addUser: userId = \" + AddUserWindow.userId);\n  AddUserWindow.showSpinner = false;\n  AddUserWindow.showValidationPopup = true;\n  AddUserWindow.buttonsEnabled = false;\n  AddUserWindow.fieldsEnabled = true;\n\n  if (app) app.doRender();\n}\n\nasync function verifyUser(params) {\n  AddUserWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data, status } = await user.verifyUser(params);\n  if (data.__hadError__) {\n    console.log(\n      \"AddUserWindow.handleUserVerifyResponse: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    AddUserWindow.infoMessage = data.__hadError__.errorMessage;\n\n    AddUserWindow.showInfoPopup = true;\n    AddUserWindow.buttonsEnabled = false;\n    AddUserWindow.showSpinner = false;\n    AddUserWindow.showValidationPopup = true;\n\n    if (app) app.doRender();\n\n    return;\n  }\n\n  console.log(\n    \"AddUserWindow.handleUserVerifyResponse: isVerified = \" + data.isVerified\n  );\n\n  AddUserWindow.showValidationPopup = false;\n\n  AddUserWindow.infoMessage = AddUserWindow.userName + \" registered\";\n  AddUserWindow.showInfoPopup = true;\n  AddUserWindow.buttonsEnabled = false;\n  AddUserWindow.fieldsEnabled = true;\n  AddUserWindow.showSpinner = false;\n  AddUserWindow.isVerified = true;\n\n  if (app) app.doRender();\n}\n\nexport default AddUserWindow;\n","import React from \"react\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass AdminNavigatorWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"AdminNavigatorWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"AdminNavigatorWindow.componentDidMount\");\n    eventManager.send(Defs.ipcShowNavBar, \"admin\");\n    this.doRender();\n  }\n\n  componentWillUnmount() {\n    console.log(\"AdminNavigatorWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    this.setState({ count: this.state.count + 1 });\n  }\n\n  render() {\n    console.log(\"AdminNavigatorWindow.render\");\n\n    return (\n      <div>\n        <Navigator />\n      </div>\n    );\n  }\n}\n\nexport default AdminNavigatorWindow;\n","import React from \"react\";\n\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass BlankWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"BlankWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"BlankWindow.componentDidMount\");\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  componentWillUnmount() {\n    console.log(\"BlankWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  render() {\n    console.log(\"BlankWindow.render\");\n\n    return (\n      <div>\n        <Navigator />\n      </div>\n    );\n  }\n}\n\nexport default BlankWindow;\n","import Defs from \"iipzy-shared/src/defs\";\n\nimport { log } from \"../utils/log\";\nimport http from \"../ipc/httpService\";\n\nlet serverIPAddress = \"address not set\";\n\nasync function init(serverIPAddress_) {\n  log(\"clients.init\", \"clts\", \"info\");\n\n  serverIPAddress = serverIPAddress_;\n}\n\nfunction final() {}\n\nasync function getClients(queryString) {\n  log(\"getClients\", \"clts\", \"info\");\n  let url = \"https://\" + serverIPAddress + \"/api/client\";\n  if (queryString) url += \"?\" + queryString;\n  return await http.get(url);\n}\n\nexport default {\n  init,\n  final,\n  getClients\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\n// import Defs from \"iipzy-shared/src/defs\";\n\nimport CloseButton from \"./closeButton\";\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass ClientPopup extends React.Component {\n  constructor(props) {\n    super(props);\n    app = this;\n\n    this.state = { count: 0 };\n\n    // make a copy\n    ClientPopup.client = JSON.parse(JSON.stringify(this.props.getClient()));\n\n    console.log(\n      \"ClientPopup.constructor - client: \" +\n        JSON.stringify(ClientPopup.client, null, 2)\n    );\n\n    ClientPopup.title = \"Client @\" + ClientPopup.client.clientToken;\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"ClientPopup componentDidMount\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"ClientPopup componentWillUnmount\");\n    app = null;\n  }\n\n  handleCloseClick(ev) {\n    console.log(\"...ClientPopup handleCloseClick\");\n    this.props.closePopup();\n    this.props.onClose(ev);\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  getInfoMessage() {\n    return ClientPopup.infoMessage;\n  }\n\n  handleCopyClientTokenClick(ev) {\n    console.log(\"...ClientPopup.handleCopyClientTokenClick\");\n    navigator.clipboard\n      .writeText(ClientPopup.client.clientToken)\n      .then(() => {\n        // Success!\n      })\n      .catch(err => {\n        console.log(\"Something went wrong\", err);\n      });\n  }\n\n  render() {\n    console.log(\"ClientPopup render\");\n\n    const client = ClientPopup.client;\n    const clientIsSentinel = client.clientType === \"appliance\";\n\n    return (\n      <div>\n        <Navigator />\n        <div className=\"popup\">\n          <div className=\"popup_inner_600x500\">\n            <div>\n              <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n                <p style={{ fontSize: \"140%\" }}>{client.clientName}</p>\n              </div>\n              <table align=\"center\">\n                <tbody>\n                  <tr>\n                    <td>Name:</td>\n                    <td>{client.clientName}</td>\n                  </tr>\n                  <tr>\n                    <td>Client Token:</td>\n                    <td>{client.clientToken}</td>\n                    <td>&nbsp;&nbsp;</td>\n                    <td>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={false}\n                        size=\"small\"\n                        style={{\n                          width: \"50px\",\n                          height: \"25px\",\n                          color: \"#0000b0\"\n                        }}\n                        onClick={ev => this.handleCopyClientTokenClick(ev)}\n                      >\n                        Copy\n                      </Button>\n                    </td>\n                  </tr>\n                  {client.clientType ? (\n                    <tr>\n                      <td>Client Type:</td>\n                      <td>{client.clientType === \"pc\" ? \"pc\" : \"Sentinel\"}</td>\n                    </tr>\n                  ) : null}\n                  {client.publicIPAddress ? (\n                    <tr>\n                      <td>Public Address:</td>\n                      <td>{client.publicIPAddress.substring(7)}</td>\n                    </tr>\n                  ) : null}\n                  {client.localIPAddress ? (\n                    <tr>\n                      <td>Local Address:</td>\n                      <td>{client.localIPAddress}</td>\n                    </tr>\n                  ) : null}\n                  {client.userName ? (\n                    <tr>\n                      <td>User Name:</td>\n                      <td>{client.userName}</td>\n                    </tr>\n                  ) : null}\n                  {client.ispName ? (\n                    <tr>\n                      <td>ISP:</td>\n                      <td>{client.ispName}</td>\n                    </tr>\n                  ) : null}\n                  {/*{client.netBiosName ? (\n                    <tr>\n                      <td>NetBIOS Name:</td>\n                      <td>{client.netBiosName}</td>\n                    </tr>\n                  ) : null}*/}\n                  <tr>\n                    <td>On Line:</td>\n                    <td>{client.isOnLine ? \"Yes\" : \"No\"}</td>\n                  </tr>\n                  <tr>\n                    <td>Logged In:</td>\n                    <td>{client.isLoggedIn ? \"Yes\" : \"No\"}</td>\n                  </tr>\n                  <tr>\n                    <td>Iperf3 Count:</td>\n                    <td>{client.iperf3UseCountDaily}</td>\n                  </tr>\n                  {clientIsSentinel && (\n                    <tr>\n                      <td>Sentinel Update Time:</td>\n                      <td>{client.sentinelUpdateTime}</td>\n                    </tr>\n                  )}\n                  {clientIsSentinel && (\n                    <tr>\n                      <td>Sentinel Admin Update Time:</td>\n                      <td>{client.sentinelAdminUpdateTime}</td>\n                    </tr>\n                  )}\n                  {clientIsSentinel && (\n                    <tr>\n                      <td>Sentinel Web Update Time:</td>\n                      <td>{client.sentinelWebUpdateTime}</td>\n                    </tr>\n                  )}\n                  {clientIsSentinel && (\n                    <tr>\n                      <td>Updater Update Time:</td>\n                      <td>{client.updaterUpdateTime}</td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n            <CloseButton onClick={ev => this.handleCloseClick(ev)} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nClientPopup.client = null;\nClientPopup.title = \"Client\";\n\nexport default ClientPopup;\n","import React from \"react\";\n\n//import Defs from \"iipzy-shared/src/defs\";\n\nimport clients from \"../services/clients\";\nimport ClientPopup from \"./clientPopup\";\nimport Navigator from \"./navigator\";\n\nclass ClientList extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const clients = this.props.clients;\n    return (\n      <ul>\n        {clients &&\n          clients.map(item => (\n            <li key={item.ipAddress}>\n              <div>\n                {item.ipAddress} &nbsp;\n                {item.displayName}\n              </div>\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n\nclass ClientTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const clients = this.props.clients;\n    console.log(\"ClientTable render\");\n    console.log(clients);\n\n    return (\n      <table id=\"client-table\">\n        {clients &&\n          clients.map(item => (\n            <tr key={item.clientToken}>\n              <td\n                style={{ cursor: \"pointer\" }}\n                onClick={() => this.props.onClick(item.clientToken)}\n              >\n                <div style={{ textAlign: \"left\", marginLeft: 20 }}>\n                  {item.clientName}\n                </div>\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: \"pointer\" }}\n                onClick={() => this.props.onClick(item.clientToken)}\n              >\n                {item.userName}\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: \"pointer\" }}\n                onClick={() => this.props.onClick(item.clientToken)}\n              >\n                {item.publicIPAddress.substring(7)}\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: \"pointer\" }}\n                onClick={() => this.props.onClick(item.clientToken)}\n              >\n                {item.localIPAddress}\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: item.isOnLine ? \"pointer\" : \"default\" }}\n                onClick={() => this.props.onClick(item.clientToken)}\n              >\n                {!item.isOnLine ? \"off line\" : \"\"}\n              </td>\n            </tr>\n          ))}\n      </table>\n    );\n  }\n}\n\nlet app = null;\n\nclass ClientsWindow extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"ClientsWindow.constructor\");\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  async componentDidMount() {\n    console.log(\"ClientsWindow.componentDidMount\");\n    getClientsFromDB(\"\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"ClientsWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  handleClientTokenClick(clientToken) {\n    console.log(\"ClientsWindow.clientTokenClick = \" + clientToken);\n    ClientsWindow.clientToken = clientToken;\n    ClientsWindow.showClientPopup = true;\n    this.doRender();\n  }\n\n  handleClientCloseClick() {\n    console.log(\"ClientsWindow.handleClientCloseClick\");\n  }\n\n  hideClientPopup() {\n    ClientsWindow.showClientPopup = false;\n    this.doRender();\n  }\n\n  getClient() {\n    console.log(\"ClientsWindow.getClient\");\n    return ClientsWindow.clientByClientToken.get(ClientsWindow.clientToken);\n  }\n\n  render() {\n    console.log(\"ClientsWindow.render\");\n\n    const clients = ClientsWindow.clients;\n    const showClientPopup = ClientsWindow.showClientPopup;\n\n    return (\n      <div>\n        <Navigator />\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>Clients</p>\n        </div>\n        {showClientPopup ? (\n          <ClientPopup\n            getClient={() => this.getClient()}\n            onClose={ev => this.handleClientCloseClick(ev)}\n            closePopup={this.hideClientPopup.bind(this)}\n          />\n        ) : null}\n        <div\n          style={{\n            marginLeft: 20,\n            /*             width: \"1100px\",\n            height: \"450px\", */\n            border: \"1px solid #ccc\",\n            font: \"14px Courier New\",\n            fontWeight: \"bold\",\n            /*     overflowX: \"scroll\", */\n            overflowY: \"scroll\"\n          }}\n        >\n          <ClientTable\n            clients={clients}\n            onClick={ev => this.handleClientTokenClick(ev)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nClientsWindow.clients = null;\nClientsWindow.clientByClientToken = new Map();\nClientsWindow.clientToken = \"\";\nClientsWindow.infoMessage = \"\";\nClientsWindow.showClientPopup = false;\n\nasync function getClientsFromDB(queryString) {\n  const { data, status } = await clients.getClients(queryString);\n  console.log(\"ClientsWindow.getClientsFromDB (response): status = \" + status);\n\n  if (data.__hadError__) {\n    console.log(\n      \"ClientsWindow.getClientsFromDB: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    ClientsWindow.infoMessage = data.__hadError__.errorMessage;\n\n    if (app) app.doRender();\n\n    return;\n  }\n\n  ClientsWindow.clients = data;\n  ClientsWindow.clientByClientToken = new Map();\n  for (let i = 0; i < ClientsWindow.clients.length; i++) {\n    const client = ClientsWindow.clients[i];\n    ClientsWindow.clientByClientToken.set(client.clientToken, client);\n  }\n\n  if (app) app.doRender();\n}\n\nexport default ClientsWindow;\n","import React from \"react\";\n\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass DownloadWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"DownloadWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"DownloadWindow.componentDidMount\");\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  componentWillUnmount() {\n    console.log(\"DownloadWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  render() {\n    console.log(\"DownloadWindow.render\");\n\n    return (\n      <div>\n        <Navigator />\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>\n            Download iipzy Sentinel Rapsberry Pi Image\n          </p>\n        </div>\n        <div\n          style={{ marginLeft: 20, textAlign: \"left\", fontWeight: \"normal\" }}\n        >\n          <p>\n            You'll need a Raspberry Pi 3 or 4 with 2 GB (or more) of memory and\n            a 32 GB Micro SD Memory Card. <br />A Raspberry Pi 4 is needed if\n            your Internet Connection speed is greater than 300MB/sec. <br />\n            <br />A good choice for a Raspberry Pi 4 kit is{\" \"}\n            <a href=\"https://www.amazon.com/gp/product/B07XTRFD3Z/ref=ppx_yo_dt_b_asin_title_o04_s00?ie=UTF8&psc=1\">\n              here\n            </a>\n            .&nbsp;&nbsp;Some simple assembly is required.\n            <br />\n            <br />A good choice for a Micro SD Card is{\" \"}\n            <a href=\"https://www.amazon.com/gp/product/B073JWXGNT/ref=ppx_yo_dt_b_asin_title_o06_s00?ie=UTF8&psc=1\">\n              here\n            </a>\n            <br />\n            <br />\n            Download the Sentinel Raspberry Pi image{\" \"}\n            <a href=\"https://iipzy.net:8001/api/clientupdate//bacec2a221264e32bdc3aa886e80a1b1\">\n              here\n            </a>\n            <br />\n            <br />\n            I recommend you use balenaEtcher to burn the Sentinel Raspberry Pi\n            image to the Micro SD Card.\n            <br />\n            You can find balanaEtcher{\" \"}\n            <a href=\"https://www.balena.io/etcher/\">here</a>\n            <br />\n            <br />\n            Install the Micro SD Card with the image into the Raspberry\n            Pi.&nbsp;&nbsp; Connect the Raspberry Pi to the power\n            supply.&nbsp;&nbsp;A little red led, that can be seen from the top,\n            will light if power is on.&nbsp;&nbsp;Connect the Raspberry Pi to\n            your local network.&nbsp;&nbsp;The Raspberry Pi Sentinel will then\n            connect to the iipzy service.&nbsp;&nbsp;Once you have registered\n            and logged in, you can connect to the Raspberry Pi Sentinel by\n            clicking on <strong>Sentinel</strong> above.\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DownloadWindow;\n","import React from \"react\";\n//import Joi from \"joi-browser\";\n//import Form from \"iipzy-client-shared/src/common/form\";\nimport Button from \"@material-ui/core/Button\";\n\nimport CloseButton from \"./closeButton\";\nimport Input from \"./input\";\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass PasswordPopup extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"PasswordPopup.constructor\");\n\n    this.state = { password: \"\" };\n\n    app = this;\n  }\n\n  getPassword() {\n    return this.state.password;\n  }\n\n  handleChange(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n\n    console.log(\"PasswordPopup.name=\" + name + \", value=\" + this.state[name]);\n\n    // const errors = { ...this.state.errors };\n    // const errorMessage = this.validateProperty(input);\n    // if (errorMessage) errors[input.name] = errorMessage;\n    // else delete errors[input.name];\n\n    // const data = { ...this.state.data };\n    // data[input.name] = input.value;\n    // this.setState({ data, errors });\n\n    this.setState({ [name]: value });\n  }\n\n  handleCloseClick(ev) {\n    console.log(\"PasswordPopup.handleCloseClick\");\n\n    this.props.onSubmit(\"\");\n    this.props.closePopup();\n    // NB: I know this is a no-no.\n    this.state.password = \"\";\n  }\n\n  async handleSubmitClick(ev) {\n    // console.log(\"...Popup handleSubmitClick\");\n\n    this.props.onSubmit(this.state.password);\n    this.props.closePopup();\n    // NB: I know this is a no-no.\n    this.state.password = \"\";\n  }\n\n  isValidInput() {\n    //?? TODO\n    return true;\n  }\n\n  render() {\n    console.log(\"PasswordPopup render\");\n\n    return (\n      <div>\n        <Navigator />\n        <div className=\"popup\">\n          <div className=\"popup_inner\">\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>Enter Password</p>\n            </div>\n            <form>\n              <Input\n                type=\"password\"\n                autofocus={true}\n                disabled={false}\n                name=\"password\"\n                value={this.getPassword()}\n                label=\"Password\"\n                onChange={(ev) => this.handleChange(ev)}\n                error=\"\"\n                porportionalWidth={true}\n              />\n              <h1>{this.props.text}</h1>\n              <div style={{ textAlign: \"center\" }}>\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  disabled={!this.isValidInput()}\n                  style={{\n                    width: \"130px\",\n                    color: \"#0000b0\",\n                  }}\n                  /*  autoFocus */\n                  onClick={(ev) => this.handleSubmitClick(ev)}\n                >\n                  Submit\n                </Button>\n              </div>\n              <CloseButton onClick={(ev) => this.handleCloseClick(ev)} />\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PasswordPopup;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport user from \"../services/user\";\nimport InfoPopup from \"./infoPopup\";\nimport Navigator from \"./navigator\";\nimport PasswordPopup from \"./passwordPopup\";\nimport SpinnerPopup from \"./spinnerPopup\";\nimport UserForm from \"./userForm\";\n\nlet app = null;\n\nclass EditUserWindow extends UserForm {\n  constructor(props) {\n    super(props);\n\n    console.log(\"EditUserWindow.constructor\");\n\n    this.windowTitle = \"Update User @ iipzy.com\";\n\n    this.userId = 0;\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"EditUserWindow.componentDidMount\");\n    EditUserWindow.buttonsEnabled = false;\n    EditUserWindow.fieldsEnabled = true;\n    EditUserWindow.showPasswordPopup = true;\n    EditUserWindow.passwordValidated = false;\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  componentWillUnmount() {\n    console.log(\"EditUserWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  getUserData() {\n    const userData = {\n      userName: EditUserWindow.userName,\n      emailAddress: EditUserWindow.emailAddress,\n      mobilePhoneNo: EditUserWindow.mobilePhoneNo,\n      password: EditUserWindow.password,\n      password2: EditUserWindow.password2,\n    };\n    console.log(\"EditUserWindow.getUserData: \" + JSON.stringify(userData));\n    console.log(\n      \"EditUserWindow.getUserData: emailAddress = \" + userData.emailAddress\n    );\n    return userData;\n  }\n\n  setUserData(userData) {\n    console.log(\n      \"EditUserWindow.setUserData: emailAddress = \" + userData.emailAddress\n    );\n    EditUserWindow.userName = userData.userName;\n    EditUserWindow.emailAddress = userData.emailAddress;\n    EditUserWindow.mobilePhoneNo = userData.mobilePhoneNo;\n    EditUserWindow.password = userData.password;\n    EditUserWindow.password2 = userData.password2;\n  }\n\n  getButtonsEnabled() {\n    console.log(\n      \"EditUserWindow.getButtonsEnabled: \" + EditUserWindow.buttonsEnabled\n    );\n    return EditUserWindow.buttonsEnabled;\n  }\n\n  setButtonsEnabled(buttonsEnabled) {\n    EditUserWindow.buttonsEnabled = buttonsEnabled;\n    console.log(\n      \"EditUserWindow.setButtonsEnabled: \" + EditUserWindow.buttonsEnabled\n    );\n  }\n\n  getFieldsEnabled() {\n    console.log(\n      \"EditUserWindow.getFieldsEnabled: \" + EditUserWindow.fieldsEnabled\n    );\n    return EditUserWindow.fieldsEnabled;\n  }\n\n  setFieldsEnabled(fieldsEnabled) {\n    EditUserWindow.fieldsEnabled = fieldsEnabled;\n    console.log(\n      \"EditUserWindow.setFieldsEnabled: \" + EditUserWindow.fieldsEnabled\n    );\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  async handleUpdateClick(userData) {\n    console.log(\"EditUserWindow.handleUpdateClick\");\n    console.log(\"userName=\" + userData.userName);\n    console.log(\"mobilePhoneNo=\" + userData.mobilePhoneNo);\n    console.log(\"emailAddress=\" + userData.emailAddress);\n\n    updateUser(userData);\n  }\n\n  async handleDeleteClick(userData) {\n    console.log(\"EditUserWindow handleDeleteClick\");\n    deleteUser(userData);\n  }\n\n  handleLoginClick(ev) {\n    console.log(\"...handleLoginClick\");\n    eventManager.send(Defs.ipcLinkTo, Defs.urlLogin);\n  }\n\n  getInfoMessage() {\n    return EditUserWindow.infoMessage;\n  }\n\n  handleInfoPopupClick() {\n    console.log(\"...EditUserWindowhandleInfoPopupClick\");\n  }\n\n  hideInfoPopup() {\n    EditUserWindow.showInfoPopup = false;\n    EditUserWindow.buttonsEnabled = true;\n    EditUserWindow.fieldsEnabled = true;\n    this.doRender();\n  }\n\n  handlePasswordPopupClick(password) {\n    if (password === EditUserWindow.password) {\n      console.log(\"...handlePasswordPopupClick: password match\");\n      EditUserWindow.passwordValidated = true;\n      EditUserWindow.passwordSupplied = true;\n    } else if (!password) {\n      console.log(\"...handlePasswordPopupClick: password empty\");\n      EditUserWindow.passwordValidated = false;\n      EditUserWindow.passwordSupplied = false;\n    }\n  }\n\n  hidePasswordPopup() {\n    console.log(\"...hidePasswordPopup\");\n    if (EditUserWindow.passwordValidated) {\n      EditUserWindow.showPasswordPopup = false;\n      EditUserWindow.buttonsEnabled = true;\n    } else if (!EditUserWindow.passwordSupplied) {\n      EditUserWindow.showPasswordPopup = false;\n      EditUserWindow.buttonsEnabled = false;\n    }\n    EditUserWindow.fieldsEnabled = true;\n    this.doRender();\n  }\n\n  render() {\n    const isLoggedIn = EditUserWindow.isLoggedIn;\n    console.log(\"EditUserWindow.render: isLoggedIn = \" + isLoggedIn);\n\n    const passwordSupplied = EditUserWindow.passwordSupplied;\n    const showInfoPopup = EditUserWindow.showInfoPopup;\n    const showPasswordPopup = EditUserWindow.showPasswordPopup;\n    const showSpinner = EditUserWindow.showSpinner;\n\n    return (\n      <div>\n        {isLoggedIn && showPasswordPopup && (\n          <PasswordPopup\n            onSubmit={(ev) => this.handlePasswordPopupClick(ev)}\n            closePopup={this.hidePasswordPopup.bind(this)}\n          />\n        )}\n        {showInfoPopup && (\n          <InfoPopup\n            title={\"Edit User\"}\n            getInfoMessage={() => this.getInfoMessage()}\n            onSubmit={(ev) => this.handleInfoPopupClick(ev)}\n            closePopup={this.hideInfoPopup.bind(this)}\n          />\n        )}\n        {showSpinner && <SpinnerPopup />}\n        {!isLoggedIn && !showInfoPopup && (\n          <div>\n            <Navigator />\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>{this.windowTitle}</p>\n            </div>\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>\n                You must be logged in to edit your user settings\n              </p>\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                style={{\n                  width: \"130px\",\n                  color: \"#0000b0\",\n                }}\n                autoFocus\n                onClick={(ev) => this.handleLoginClick(ev)}\n              >\n                Login\n              </Button>\n            </div>\n          </div>\n        )}\n        {isLoggedIn && !showPasswordPopup && passwordSupplied && (\n          <UserForm\n            title={this.windowTitle}\n            getUserData={this.getUserData}\n            setUserData={this.setUserData}\n            getButtonsEnabled={this.getButtonsEnabled}\n            setButtonsEnabled={this.setButtonsEnabled}\n            getFieldsEnabled={this.getFieldsEnabled}\n            setFieldsEnabled={this.setFieldsEnabled}\n            userNameDisabled={true}\n            button1Label={\"Update\"}\n            onSubmit={(ev) => this.handleUpdateClick(ev)}\n            button2Label={\"Delete\"}\n            onSubmit2={(ev) => this.handleDeleteClick(ev)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nEditUserWindow.userName = \"\";\nEditUserWindow.emailAddress = \"\";\nEditUserWindow.mobilePhoneNo = \"\";\nEditUserWindow.password = \"\";\nEditUserWindow.password2 = \"\";\n\nEditUserWindow.userId = 0;\nEditUserWindow.isAdmin = false;\nEditUserWindow.isLoggedIn = false;\nEditUserWindow.authToken = \"\";\n\nEditUserWindow.infoMessage = \"\";\nEditUserWindow.showInfoPopup = false;\nEditUserWindow.showPasswordPopup = true;\nEditUserWindow.showSpinner = false;\n\nEditUserWindow.passwordSupplied = false;\nEditUserWindow.passwordValidated = false;\nEditUserWindow.buttonsEnabled = false;\nEditUserWindow.fieldsEnabled = true;\n\nasync function deleteUser(userData) {\n  EditUserWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data, status } = await user.deleteUser(userData);\n  if (data.__hadError__) {\n    console.log(\n      \"EditUserWindow.deleteUser: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    EditUserWindow.buttonsEnabled = false;\n    EditUserWindow.fieldsEnabled = true;\n    EditUserWindow.infoMessage = data.__hadError__.errorMessage;\n    EditUserWindow.showInfoPopup = true;\n    EditUserWindow.showSpinner = true;\n\n    if (app) app.doRender();\n\n    return;\n  }\n\n  eventManager.send(Defs.ipcSubmitLogout, {\n    userName: EditUserWindow.userName,\n    authToken: EditUserWindow.authToken,\n  });\n\n  EditUserWindow.buttonsEnabled = false;\n  EditUserWindow.fieldsEnabled = true;\n  EditUserWindow.infoMessage = EditUserWindow.userName + \" deleted\";\n  EditUserWindow.showInfoPopup = true;\n  EditUserWindow.showSpinner = false;\n\n  EditUserWindow.userId = 0;\n  EditUserWindow.userName = \"\";\n  EditUserWindow.emailAddress = \"\";\n  EditUserWindow.mobilePhoneNo = \"\";\n  EditUserWindow.password = \"\";\n  EditUserWindow.password2 = \"\";\n  EditUserWindow.isAdmin = false;\n  EditUserWindow.isLoggedIn = false;\n  EditUserWindow.authToken = \"\";\n\n  if (app) app.doRender();\n}\n\nasync function updateUser(userData) {\n  EditUserWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data, status } = await user.updateUser(userData);\n  if (data.__hadError__) {\n    console.log(\n      \"EditUserWindow.updateUser: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    EditUserWindow.buttonsEnabled = false;\n    EditUserWindow.fieldsEnabled = true;\n    EditUserWindow.infoMessage = data.__hadError__.errorMessage;\n    EditUserWindow.showInfoPopup = true;\n    EditUserWindow.showSpinner = false;\n\n    if (app) app.doRender();\n\n    return;\n  }\n\n  EditUserWindow.mobilePhoneNo = userData.mobilePhoneNo;\n  EditUserWindow.emailAddress = userData.emailAddress;\n  EditUserWindow.password = userData.password;\n\n  EditUserWindow.buttonsEnabled = false;\n  EditUserWindow.fieldsEnabled = true;\n  EditUserWindow.infoMessage = EditUserWindow.userName + \" updated\";\n  EditUserWindow.showInfoPopup = true;\n  EditUserWindow.showSpinner = false;\n\n  if (app) app.doRender();\n}\n\nconst handleLoginStatus = async (event, data) => {\n  const { userName, authToken, password, loginStatus } = data;\n  console.log(\n    \"EditUserWindow.handleLoginStatus: userName = \" +\n      userName +\n      \", loginStatus = \" +\n      loginStatus\n  );\n  EditUserWindow.userName = userName;\n  // NB: password comes from local storage, not from server DB.\n  EditUserWindow.password = password;\n  EditUserWindow.password2 = password;\n  EditUserWindow.isLoggedIn = loginStatus === Defs.loginStatusLoggedIn;\n  EditUserWindow.authToken = authToken;\n  if (EditUserWindow.isLoggedIn && !EditUserWindow.emailAddress) {\n    await getUser();\n  }\n};\n\nasync function getUser() {\n  const { data, status } = await user.getUser();\n  console.log(\n    \"EditUserWindow.handleUserGetResponse: emailAddress = \" +\n      data.emailAddress +\n      \", mph = \" +\n      data.mobilePhoneNo\n  );\n\n  EditUserWindow.userId = data.userId;\n  EditUserWindow.emailAddress = data.emailAddress;\n  EditUserWindow.mobilePhoneNo = data.mobilePhoneNo;\n  EditUserWindow.isAdmin = data.isAdmin;\n  if (app) app.doRender();\n}\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\n\nexport default EditUserWindow;\n","import React from \"react\";\nimport Joi from \"joi\";\nimport Button from \"@material-ui/core/Button\";\n//import { Tooltip } from \"@material-ui/core/Tooltip\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport InfoPopup from \"./infoPopup\";\nimport Input from \"./input\";\nimport Navigator from \"./navigator\";\nimport SpinnerPopup from \"./spinnerPopup\";\nimport user from \"../services/user\";\n\nlet app = null;\n\nclass ForgotPasswordWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"ForgotPasswordWindow.constructor\");\n\n    this.state = {\n      update: false,\n      errors: {},\n      count: 0,\n    };\n\n    this.data = {\n      userName: null,\n      passwordResetCode: null,\n      password: null,\n      password2: null,\n    };\n\n    app = this;\n\n    this.schema = {\n      userName: Joi.string().required().label(\"User Name\").min(5).max(50),\n      passwordResetCode: Joi.string()\n        .required()\n        .label(\"Password Reset Code\")\n        .min(6)\n        .max(6),\n      password: Joi.string().required().label(\"Password\").min(5).max(50),\n      password2: Joi.string().required().label(\"Password Again\").min(5).max(50),\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"forgotPasswordWindow componentDidMount\");\n    this.data.userName = ForgotPasswordWindow.userName;\n    this.data.passwordResetCode = ForgotPasswordWindow.passwordResetCode;\n    this.data.password = ForgotPasswordWindow.password;\n    this.data.password2 = ForgotPasswordWindow.password2;\n\n    this.doRender();\n  }\n\n  componentWillUnmount() {\n    console.log(\"forgotPasswordWindow componentWillUnmount\");\n    ForgotPasswordWindow.userName = this.data.userName;\n    ForgotPasswordWindow.passwordResetCode = this.data.passwordResetCode;\n    ForgotPasswordWindow.password = this.data.password;\n    ForgotPasswordWindow.password2 = this.data.password2;\n\n    app = null;\n  }\n\n  validateProperty(name, value) {\n    console.log(\"...validateProperty: name=\" + name + \", value = \" + value);\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n\n    console.log(\"...validateProperty - had error = \" + error);\n\n    return error ? error.details[0].message : null;\n  }\n\n  validate() {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.data, this.schema, options);\n    if (!error) return null;\n\n    console.log(\"...validate - had error\");\n\n    const errors = {};\n    for (let item of error.details) errors[item.path[0]] = item.message;\n    return errors;\n  }\n\n  handleChange(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n    console.log(\"name=\" + name + \", value=\" + this.data[name]);\n    const errors = this.state.errors;\n    const errorMessage = this.validateProperty(name, value);\n    if (errorMessage) errors[name] = errorMessage;\n    else delete errors[name];\n    const data = this.data;\n    data[name] = value;\n    this.setState({ data, errors });\n  }\n\n  handleClearClck(ev) {\n    ForgotPasswordWindow.userName = \"\";\n    ForgotPasswordWindow.passwordResetCode = \"\";\n    ForgotPasswordWindow.password = \"\";\n    ForgotPasswordWindow.password2 = \"\";\n\n    ForgotPasswordWindow.showGetCodeResponsePopup = false;\n    ForgotPasswordWindow.getCodeResponseMessage = \"\";\n\n    ForgotPasswordWindow.showSubmitResponsePopup = false;\n    ForgotPasswordWindow.getSubmitResponseMessage = \"\";\n\n    ForgotPasswordWindow.inputsEnabled = true;\n    ForgotPasswordWindow.buttonsEnabled = true;\n    ForgotPasswordWindow.submitButtonEnabled = false;\n\n    ForgotPasswordWindow.codeSent = false;\n\n    this.componentDidMount();\n  }\n\n  handleGetCodeClick(ev) {\n    console.log(\"...ForgotPasswordWindow handleGetCodeClick\");\n    console.log(\"userName=\" + this.data.userName);\n    // ev.preventDefault();\n    // const errors = this.validate();\n    // if (errors)\n    //   console.log(\"...handleGetCodeClick: errors = \" + Object.values(errors));\n    // this.setState({ errors: errors || {} });\n    // if (errors) return;\n    // this.props.setButtonsEnabled(false);\n\n    sendPasswordResetCode({ userName: this.data.userName });\n  }\n\n  handlePassword2Change(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n\n    console.log(\"name=\" + name + \", value=\" + this.data[name]);\n\n    if (this.data.password !== value) {\n      const errors = this.state.errors;\n      errors[name] = \"passwords don't match\";\n\n      const data = this.data;\n      data[name] = value;\n\n      this.setState({ data, errors });\n\n      return;\n    }\n\n    return this.handleChange(ev);\n  }\n\n  handleSubmitClick(ev) {\n    console.log(\"...ForgotPasswordWindow handleSubmitClick\");\n    console.log(\"userName=\" + this.data.userName);\n    console.log(\"masswordResetCode=\" + this.data.passwordResetCode);\n\n    ev.preventDefault();\n    const errors = this.validate();\n    if (errors)\n      console.log(\"...handleSubmitClick: errors = \" + Object.values(errors));\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n\n    updatePassword({\n      userName: this.data.userName,\n      passwordResetCode: this.data.passwordResetCode,\n      password: this.data.password,\n    });\n  }\n\n  isValidInput() {\n    return (\n      this.isValidUserName() &&\n      this.isValidPasswordResetCode() &&\n      this.isValidPassword() &&\n      this.data.password === this.data.password2\n    );\n  }\n\n  isValidUserName() {\n    return this.data.userName != null && this.data.userName.length > 5;\n  }\n\n  codeSent() {\n    return ForgotPasswordWindow.codeSent;\n  }\n\n  isValidPasswordResetCode() {\n    return (\n      this.data.passwordResetCode != null &&\n      this.data.passwordResetCode.length === 6\n    );\n  }\n\n  isValidPassword() {\n    return this.data.password != null && this.data.password.length > 5;\n  }\n\n  renderInput(\n    name,\n    label,\n    type = \"text\",\n    autofocus = false,\n    disabled = false,\n    onChange = null\n  ) {\n    const { errors } = this.state;\n    const data = this.data;\n\n    console.log(\n      \"ForgotPasswordWindow.renderInput: name=\" + name + \", value=\" + data[name]\n    );\n\n    const onChange_ = this.handleChange;\n\n    return (\n      <Input\n        type={type}\n        name={name}\n        label={label}\n        value={data[name]}\n        error={errors[name]}\n        autofocus={autofocus}\n        disabled={disabled}\n        onChange={onChange}\n      />\n    );\n  }\n\n  getResponseMessage() {\n    return ForgotPasswordWindow.responseMessage;\n  }\n\n  handleResponsePopupClick() {\n    console.log(\"...ForgotPasswordWindowhandleInfoPopupClick\");\n  }\n\n  hideResponsePopup() {\n    ForgotPasswordWindow.showResponsePopup = false;\n    ForgotPasswordWindow.buttonsEnabled = true;\n    this.doRender();\n  }\n\n  doRender(name, value) {\n    if (name && value) this.data[name] = value;\n\n    this.setState({ count: this.state.count + 1 });\n  }\n\n  render() {\n    console.log(\"forgotPasswordWindow.render\");\n\n    const inputsEnabled = ForgotPasswordWindow.inputsEnabled;\n    const buttonsEnabled = ForgotPasswordWindow.buttonsEnabled;\n    const showResponsePopup = ForgotPasswordWindow.showResponsePopup;\n    const showSpinner = ForgotPasswordWindow.showSpinner;\n    const submitButtonEnabled = ForgotPasswordWindow.submitButtonEnabled;\n\n    return (\n      <div>\n        <Navigator />\n        {showSpinner && <SpinnerPopup />}\n        {showResponsePopup && (\n          <InfoPopup\n            title={\"Forgot Password\"}\n            getInfoMessage={() => this.getResponseMessage()}\n            onSubmit={(ev) => this.handleResponsePopupClick(ev)}\n            closePopup={this.hideResponsePopup.bind(this)}\n          />\n        )}\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>Forgot Password</p>\n        </div>\n        <div style={{ textAlign: \"left\", fontWeight: \"normal\" }}>\n          <p>\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. Enter your User\n            Name then click the \"Get Code\" button below.\n            <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. A Password\n            Reset Code will be sent to the user's email address.\n            <br />\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3. Enter the code\n            and the new password (twice), then click the \"Submit\" button.\n          </p>\n        </div>\n        <form>\n          {this.renderInput(\n            \"userName\",\n            \"User Name\",\n            \"text\",\n            true,\n            !inputsEnabled || this.codeSent(),\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"passwordResetCode\",\n            \"Password Reset Code\",\n            \"text\",\n            false,\n            !inputsEnabled || !this.isValidUserName() || !this.codeSent(),\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"password\",\n            \"Password\",\n            \"password\",\n            false,\n            !inputsEnabled || !this.isValidPasswordResetCode(),\n            (ev) => this.handleChange(ev)\n          )}\n          {this.renderInput(\n            \"password2\",\n            \"Password Again\",\n            \"password\",\n            false,\n            !inputsEnabled || !this.isValidPassword(),\n            (ev) => this.handlePassword2Change(ev)\n          )}\n          <div>&nbsp;</div>\n          <div style={{ marginLeft: \"45px\" }}>\n            <table align=\"left\">\n              <tbody>\n                <tr>\n                  <td>\n                    <div style={{ textAlign: \"center\" }}>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={\n                          !buttonsEnabled ||\n                          !this.isValidUserName() ||\n                          this.isValidPasswordResetCode()\n                        }\n                        style={{\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        /* autoFocus */\n                        onClick={(ev) => this.handleGetCodeClick(ev)}\n                      >\n                        Get Code\n                      </Button>\n                    </div>\n                  </td>\n                  <td>\n                    <div\n                      style={{\n                        textAlign: \"center\",\n                        marginLeft: 40,\n                        marginRight: 40,\n                      }}\n                    >\n                      <Button\n                        type=\"submit\"\n                        variant=\"contained\"\n                        disabled={\n                          !buttonsEnabled ||\n                          !this.isValidInput() ||\n                          !submitButtonEnabled\n                        }\n                        style={{\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        /* autoFocus */\n                        onClick={(ev) => this.handleSubmitClick(ev)}\n                      >\n                        Submit\n                      </Button>\n                    </div>\n                  </td>\n                  <td>\n                    <div style={{ textAlign: \"center\" }}>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={!buttonsEnabled}\n                        style={{\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        /* autoFocus */\n                        onClick={(ev) => this.handleClearClck(ev)}\n                      >\n                        Clear\n                      </Button>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nForgotPasswordWindow.userName = \"\";\nForgotPasswordWindow.passwordResetCode = \"\";\nForgotPasswordWindow.password = \"\";\nForgotPasswordWindow.password2 = \"\";\n\nForgotPasswordWindow.showResponsePopup = false;\nForgotPasswordWindow.responseMessage = \"\";\n\nForgotPasswordWindow.buttonsEnabled = true;\nForgotPasswordWindow.inputsEnabled = true;\nForgotPasswordWindow.submitButtonEnabled = false;\nForgotPasswordWindow.showSpinner = false;\n\nForgotPasswordWindow.codeSent = false;\n\nasync function sendPasswordResetCode(params) {\n  ForgotPasswordWindow.buttonsEnabled = false;\n  ForgotPasswordWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data, status } = await user.sendPasswordResetCode(params);\n  if (data.__hadError__) {\n    console.log(\n      \"ForgotPasswordWindow.getResetCode: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    ForgotPasswordWindow.responseMessage = data.__hadError__.errorMessage;\n  } else {\n    ForgotPasswordWindow.responseMessage =\n      \"Password Reset Code has been sent to user \" +\n      ForgotPasswordWindow.userName;\n    ForgotPasswordWindow.codeSent = true;\n    ForgotPasswordWindow.submitButtonEnabled = true;\n  }\n\n  ForgotPasswordWindow.buttonsEnabled = true;\n  ForgotPasswordWindow.showResponsePopup = true;\n  ForgotPasswordWindow.showSpinner = false;\n\n  if (app) app.doRender();\n}\n\nasync function updatePassword(params) {\n  ForgotPasswordWindow.buttonsEnabled = false;\n  ForgotPasswordWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data, status } = await user.newPassword(params);\n  if (data.__hadError__) {\n    console.log(\n      \"ForgotPasswordWindow.updatePassword: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    ForgotPasswordWindow.responseMessage = data.__hadError__.errorMessage;\n  } else {\n    ForgotPasswordWindow.responseMessage =\n      \"Password has been changed for user \" + ForgotPasswordWindow.userName;\n    ForgotPasswordWindow.inputsEnabled = false;\n    ForgotPasswordWindow.submitButtonEnabled = false;\n  }\n\n  ForgotPasswordWindow.buttonsEnabled = true;\n  ForgotPasswordWindow.showResponsePopup = true;\n  ForgotPasswordWindow.showSpinner = false;\n\n  if (app) app.doRender();\n}\n\nconst handleLoginStatus = (event, data) => {\n  const { userName } = data;\n\n  console.log(\"ForgotPasswordWindow.handleLoginStatus: userName \" + userName);\n\n  ForgotPasswordWindow.userName = userName;\n\n  if (app != null) app.doRender(\"userName\", userName);\n};\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\n\nexport default ForgotPasswordWindow;\n","import React from \"react\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass HomeNavigatorWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"HomeNavigatorWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"HomeNavigatorWindow.componentDidMount\");\n\n    eventManager.send(Defs.ipcShowNavBar, \"home\");\n    eventManager.send(Defs.ipcLinkTo, Defs.urlIipzy);\n    this.doRender();\n  }\n\n  componentWillUnmount() {\n    console.log(\"HomeNavigatorWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: this.state.count + 1 });\n  }\n\n  render() {\n    console.log(\"HomeNavigatorWindow.render\");\n\n    return (\n      <div>\n        <Navigator />\n      </div>\n    );\n  }\n}\n\nexport default HomeNavigatorWindow;\n","import React from \"react\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\n\nimport Navigator from \"./navigator\";\n\nlet app = null;\n\nclass IipzyWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"IipzyWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"IipzyWindow.componentDidMount\");\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  componentWillUnmount() {\n    console.log(\"IipzyWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  handleSentinelClick() {\n    console.log(\"IIpzyWindow.handleSentinelClick\");\n    eventManager.send(Defs.ipcLinkTo, Defs.urlSentinels);\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  render() {\n    console.log(\"IipzyWindow.render\");\n\n    return (\n      <div>\n        <Navigator />\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>Welcome to the iipzy service</p>\n        </div>\n        <div\n          style={{ marginLeft: 20, textAlign: \"left\", fontWeight: \"normal\" }}\n        >\n          <p>\n            Click on{\" \"}\n            <button\n              class=\"invisible-button\"\n              onClick={ev => this.handleSentinelClick(ev)}\n            >\n              <strong>Sentinel</strong>\n            </button>{\" \"}\n            above to connect to your iipzy Sentinel device.\n            <br />\n            <br />\n            From Sentinel, you can view your network latency, results of the\n            most recent speed test, and a list of the devices on your network.\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default IipzyWindow;\n","import Cookies from \"js-cookie\";\n\nimport { log } from \"./log\";\n\n//const cookieName = \"iipzy-server-web\";\n\nfunction get(key) {\n  const val = Cookies.get(key);\n  log(\"cookie.get: key = \" + key + \", val = \" + val, \"cook\", \"info\");\n  return val;\n}\n\nfunction set(key, val) {\n  log(\"cookie.set: key = \" + key + \", val = \" + val, \"cook\", \"info\");\n  return Cookies.set(key, val);\n}\n\nexport default { get, set };\n","import Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport http from \"../ipc/httpService\";\nimport { encrypt, decrypt } from \"../utils/cipher\";\nimport cookie from \"../utils/cookie\";\nimport { log } from \"../utils/log\";\n\nlet serverIPAddress = \"address not set\";\n\nasync function init(serverIPAddress_) {\n  log(\"auth.init\", \"auth\", \"info\");\n\n  serverIPAddress = serverIPAddress_;\n\n  const userName = cookie.get(\"userName\");\n  log(\"auth.init: userName=\" + userName, \"auth\", \"info\");\n  if (userName != null) {\n    const passwordEncrypted = cookie.get(\"password\");\n    if (passwordEncrypted) {\n      return true;\n    }\n  }\n  return false;\n}\n\nasync function sendLogin(credentials) {\n  log(\"sendLogin\", \"auth\", \"info\");\n  return await http.post(\n    \"https://\" + serverIPAddress + \"/api/auth/login\",\n    credentials\n  );\n}\n\nasync function sendLogout() {\n  log(\"sendLogout\", \"auth\", \"info\");\n  return await http.post(\"https://\" + serverIPAddress + \"/api/auth/logout\");\n}\n\nasync function login() {\n  log(\"auth.login\", \"auth\", \"info\");\n\n  const userName = cookie.get(\"userName\");\n  log(\"userName=\" + userName, \"auth\", \"info\");\n  if (userName != null) {\n    const passwordEncrypted = cookie.get(\"password\");\n    if (passwordEncrypted != null) {\n      const passwordDecrypted = decrypt(passwordEncrypted);\n      return await loginAsync(userName, passwordDecrypted);\n    }\n  }\n  return false;\n}\n\nasync function loginRequest(params) {\n  log(\"submitLoginRequest\", \"auth\", \"info\");\n  const { userName, password } = params;\n  return await loginAsync(userName, password);\n}\n\nasync function logoutRequest(params) {\n  log(\"submitLogoutRequest\", \"auth\", \"info\");\n  const { userName } = params;\n  return await logoutAsync(userName);\n}\n\nasync function loginAsync(userName, passwordDecrypted) {\n  log(\">>>loginAsync\", \"auth\", \"info\");\n\n  const { data, status } = await sendLogin({\n    userName: userName,\n    password: passwordDecrypted,\n  });\n\n  log(\"loginAsync: status = \" + status, \"auth\", \"info\");\n  if (status === Defs.httpStatusOk) {\n    log(\"loginAsync: succeeded\", \"auth\", \"info\");\n    await handleCompletion(\n      userName,\n      passwordDecrypted,\n      data.authToken,\n      data.isLoggedIn ? Defs.loginStatusLoggedIn : Defs.loginStatusLoginFailed,\n      data.isAdmin\n    );\n  } else {\n    // failed\n    log(\"loginAsync: failed\", \"auth\", \"info\");\n    await handleCompletion(\n      userName,\n      \"\",\n      \"\",\n      Defs.loginStatusLoginFailed,\n      false\n    );\n  }\n\n  log(\"<<<loginAsync\", \"auth\", \"info\");\n\n  return { data, status };\n}\n\nasync function logoutAsync(userName) {\n  log(\">>>logoutAsync\", \"auth\", \"info\");\n\n  const { data, status } = await sendLogout();\n  log(\"logoutAsync: status = \" + status, \"auth\", \"info\");\n  if (status === Defs.httpStatusOk) {\n    // succeeded\n    log(\"logoutAsync: succeeded\", \"auth\", \"info\");\n    await handleCompletion(userName, \"\", \"\", Defs.loginStatusLoggedOut, false);\n  } else {\n    // failed\n    log(\"logoutAsync: failed\", \"auth\", \"info\");\n    await handleCompletion(userName, \"\", \"\", Defs.loginStatusLoggedOut, false);\n  }\n\n  log(\"<<<logoutAsync\", \"auth\", \"info\");\n\n  return { data, status };\n}\n\nasync function handleCompletion(\n  userName,\n  passwordDecrypted,\n  authToken,\n  loginStatus,\n  isAdmin,\n  onUserCommand_\n) {\n  const onUserCommand = onUserCommand_ === undefined ? true : onUserCommand_;\n  log(\n    \">>>handleCompletion: userName=\" +\n      userName +\n      \", authToken = \" +\n      authToken +\n      \", loginStatus = \" +\n      loginStatus +\n      \", isAdmin = \" +\n      isAdmin,\n    \"auth\"\n  );\n\n  // set http header.\n  http.setAuthTokenHeader(authToken);\n\n  eventManager.send(Defs.ipcLoginStatus, {\n    userName: userName,\n    password: passwordDecrypted,\n    authToken: authToken,\n    loginStatus: loginStatus,\n    isAdmin: isAdmin,\n    onUserCommand,\n  });\n\n  log(\"handleCompletion after sending credentials\", \"auth\", \"verbose\");\n\n  // save in cookie.\n  cookie.set(\"userName\", userName);\n  if (\n    loginStatus === Defs.loginStatusLoggedIn &&\n    authToken &&\n    authToken !== \"\"\n  ) {\n    cookie.set(\"password\", encrypt(passwordDecrypted));\n  } else {\n    cookie.set(\"password\", \"\");\n  }\n\n  log(\"<<<handleCompletion\", \"auth\", \"info\");\n}\n\nasync function reLoginAsync() {\n  log(\">>>reLoginAsync\", \"auth\", \"info\");\n\n  const userName = cookie.get(\"userName\");\n  log(\"reLoginAsync: userName=\" + userName, \"auth\", \"info\");\n  let loginAttemped = false;\n  if (userName != null) {\n    const passwordEncrypted = cookie.get(\"password\");\n    if (passwordEncrypted != null) {\n      const passwordDecrypted = decrypt(passwordEncrypted);\n      loginAttemped = true;\n      await loginAsync(userName, passwordDecrypted);\n    }\n  }\n  if (!loginAttemped)\n    await handleCompletion(\n      userName,\n      \"\",\n      \"\",\n      Defs.loginStatusLoginFailed,\n      false,\n      false\n    );\n\n  log(\"<<<reLoginAsync\", \"auth\", \"info\");\n}\n\nfunction final() {}\n\nexport default {\n  init,\n  final,\n  login,\n  loginRequest,\n  logoutRequest,\n  reLoginAsync,\n};\n","import React from \"react\";\n//import Joi from \"joi-browser\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport auth from \"../services/auth\";\nimport InfoPopup from \"./infoPopup\";\nimport Input from \"./input\";\nimport Navigator from \"./navigator\";\nimport SpinnerPopup from \"./spinnerPopup\";\n\nlet app = null;\n\nclass LoginWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"LoginWindow.constructor\");\n\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"LoginWindow.componentDidMount\");\n    this.doRender();\n  }\n\n  componentWillUnmount() {\n    console.log(\"LoginWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  getUserName() {\n    return LoginWindow.userName;\n  }\n\n  getPassword() {\n    return LoginWindow.password;\n  }\n\n  getInfoMessage() {\n    return LoginWindow.infoMessage;\n  }\n\n  getSubmitButtonEnabled() {\n    return (\n      LoginWindow.buttonsEnabled &&\n      (LoginWindow.isLoggedIn ||\n        (LoginWindow.userName.length >= 5 && LoginWindow.password.length >= 5))\n    );\n  }\n\n  handleInfoPopupClick() {\n    console.log(\"LoginWindow.handleInfoPopupClick\");\n  }\n\n  hideInfoPopup() {\n    LoginWindow.showInfoPopup = false;\n    LoginWindow.buttonsEnabled = true;\n    this.doRender();\n  }\n\n  //handleChange = ({ currentTarget: input }) => {\n  handleChange(ev) {\n    const name = ev.target.name;\n    const value = ev.target.value;\n    console.log(\"LoginWindow.handleChange: \" + name + \" = \" + value);\n    switch (name) {\n      case \"userName\": {\n        LoginWindow.userName = value;\n        break;\n      }\n      case \"password\": {\n        LoginWindow.password = value;\n        break;\n      }\n    }\n\n    this.doRender();\n  }\n\n  handleKeyPress = (ev, title) => {\n    console.log(\"---handleKeyPress: key = \" + ev.key + \", title = \" + title);\n    // if (ev.key === 'Enter') {\n    //   this.refs.but.click()\n    // }\n  };\n\n  // onKeyPress={(ev) => {\n  //   console.log(\"---Enter.2---\");\n  //   ev.key === \"Enter\" && this.handleSubmitClick(ev, \"Log out\");\n  // }}\n\n  handleSubmitClick(ev, title) {\n    console.log(\"LoginWindow.handleSubmitClick: title = \" + title);\n\n    LoginWindow.buttonsEnabled = false;\n    LoginWindow.title = title;\n    this.doRender();\n    if (!LoginWindow.isLoggedIn) {\n      loginRequest({\n        userName: LoginWindow.userName,\n        password: LoginWindow.password,\n      });\n    } else {\n      logoutRequest({\n        userName: LoginWindow.userName,\n        authToken: LoginWindow.authToken,\n      });\n    }\n  }\n\n  render() {\n    console.log(\"loginWindow render\");\n\n    const isLoggedIn = LoginWindow.isLoggedIn;\n    const showInfoPopup = LoginWindow.showInfoPopup;\n    const showSpinner = LoginWindow.showSpinner;\n    const title_ = LoginWindow.title;\n\n    return (\n      <div>\n        <Navigator />\n        {showInfoPopup && (\n          <InfoPopup\n            title={title_}\n            getInfoMessage={() => this.getInfoMessage()}\n            onSubmit={(ev) => this.handleInfoPopupClick(ev)}\n            closePopup={this.hideInfoPopup.bind(this)}\n          />\n        )}\n        {!isLoggedIn && (\n          <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n            <p style={{ fontSize: \"140%\" }}>Log in @ iipzy.com</p>\n          </div>\n        )}\n        {isLoggedIn && (\n          <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n            <p style={{ fontSize: \"140%\" }}>Log out @ iipzy.com</p>\n          </div>\n        )}\n        {showSpinner && <SpinnerPopup />}\n        {!showInfoPopup && !isLoggedIn && (\n          <form>\n            <Input\n              type=\"text\"\n              autofocus={true}\n              disabled={isLoggedIn}\n              name=\"userName\"\n              value={this.getUserName()}\n              label=\"User Name\"\n              onChange={(ev) => this.handleChange(ev)}\n              error=\"\"\n            />\n            <Input\n              type=\"password\"\n              autofocus={false}\n              hidden={isLoggedIn}\n              disabled={isLoggedIn}\n              name=\"password\"\n              value={this.getPassword()}\n              label=\"Password\"\n              onChange={(ev) => this.handleChange(ev)}\n              error=\"\"\n            />\n            <div>&nbsp;</div>\n            <div style={{ marginLeft: \"45px\" }}>\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                disabled={!this.getSubmitButtonEnabled()}\n                style={{\n                  width: \"130px\",\n                  color: \"#0000b0\",\n                }}\n                onClick={(ev) => this.handleSubmitClick(ev, \"Log in\")}\n              >\n                Login\n              </Button>\n            </div>\n          </form>\n        )}\n        {!showInfoPopup && isLoggedIn && (\n          <form>\n            <Input\n              type=\"text\"\n              autofocus={true}\n              disabled={isLoggedIn}\n              name=\"userName\"\n              value={this.getUserName()}\n              label=\"User Name\"\n              onChange={(ev) => this.handleChange(ev)}\n              error=\"\"\n            />\n            <div>&nbsp;</div>\n            <div style={{ marginLeft: \"45px\" }}>\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                disabled={!this.getSubmitButtonEnabled()}\n                style={{\n                  width: \"130px\",\n                  color: \"#0000b0\",\n                }}\n                onClick={(ev) => this.handleSubmitClick(ev, \"Log out\")}\n              >\n                Logout\n              </Button>\n            </div>\n          </form>\n        )}\n      </div>\n    );\n  }\n}\n\nLoginWindow.authToken = \"\";\nLoginWindow.buttonsEnabled = true;\nLoginWindow.infoMessage = \"\";\nLoginWindow.isLoggedIn = false;\nLoginWindow.password = \"\";\nLoginWindow.showInfoPopup = false;\nLoginWindow.showSpinner = false;\nLoginWindow.title = \"\";\nLoginWindow.userName = \"\";\n\nasync function loginRequest(params) {\n  LoginWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data } = await auth.loginRequest(params);\n  console.log(\n    \"LoginWindow.loginRequest (response): data = \" +\n      JSON.stringify(data, null, 2)\n  );\n  if (data.__hadError__) {\n    LoginWindow.infoMessage = data.__hadError__.errorMessage;\n    LoginWindow.showInfoPopup = true;\n  } else {\n    LoginWindow.infoMessage = \"Successfully logged in\";\n    LoginWindow.showInfoPopup = false;\n  }\n  LoginWindow.buttonsEnabled = true;\n  LoginWindow.showSpinner = false;\n  if (app) app.doRender();\n}\n\nasync function logoutRequest(params) {\n  LoginWindow.showSpinner = true;\n  if (app) app.doRender();\n\n  const { data } = await auth.logoutRequest(params);\n  console.log(\n    \"LoginWindow.logoutRequest (response): data = \" +\n      JSON.stringify(data, null, 2)\n  );\n  if (data.__hadError__) {\n    LoginWindow.infoMessage = data.__hadError__.errorMessage;\n  } else {\n    LoginWindow.infoMessage = \"Successfully logged out\";\n  }\n  LoginWindow.password = \"\";\n  LoginWindow.showInfoPopup = true;\n  LoginWindow.showSpinner = false;\n  if (app) app.doRender();\n}\n\nconst handleLoginStatus = (event, data) => {\n  const { userName, authToken, loginStatus } = data;\n\n  console.log(\n    \"LoginWindow.handleLoginStatus: userName=\" +\n      userName +\n      \", loginStatus = \" +\n      loginStatus +\n      \", authToken = \" +\n      authToken\n  );\n  LoginWindow.userName = !userName ? \"\" : userName;\n  LoginWindow.authToken = authToken;\n  LoginWindow.isLoggedIn = loginStatus === Defs.loginStatusLoggedIn;\n\n  if (app) app.doRender();\n};\n\nconst handleUserAddVerified = (event, data) => {\n  LoginWindow.userName = data.userName;\n  if (app != null) app.doRender();\n};\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\neventManager.on(Defs.ipcUserAddVerified, handleUserAddVerified);\n\nexport default LoginWindow;\n","import React from \"react\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\n//import { ThemeProvider } from \"@material-ui/core\";\n\n//import Defs from \"iipzy-shared/src/defs\";\n\nimport clients from \"../services/clients\";\n\nlet app = null;\n\nclass ClientPicker extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"ClientPicker.constructor\");\n\n    app = this;\n\n    this.state = { count: 0 };\n  }\n\n  async componentDidMount() {\n    console.log(\"ClientPicker.componentDidMount\");\n    getClientsFromDB(\"sentinelsOnly=1\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"ClientPicker.componentWillUnmount\");\n    app = null;\n  }\n\n  getClients() {\n    console.log(\"ClientPicker.getClients\");\n    return ClientPicker.clientsFiltered;\n  }\n\n  getDisabled() {\n    return this.props.getDisabled();\n  }\n\n  getSelectedClient() {\n    console.log(\n      \"clientPicker.getSelectedClient: \" + ClientPicker.selectedClient\n    );\n    return ClientPicker.selectedClient;\n  }\n\n  handleSelect(ev) {\n    ClientPicker.selectedClient = ev.value;\n    console.log(\"clientPicker.handleSelect: \" + ClientPicker.selectedClient);\n    this.props.onPick(\n      ClientPicker.clientTokenByEntryString.get(ClientPicker.selectedClient)\n    );\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  render() {\n    console.log(\"ClientPicker.render\");\n\n    return (\n      <div>\n        <Dropdown\n          disabled={this.getDisabled()}\n          options={this.getClients()}\n          onChange={ev => this.handleSelect(ev)}\n          value={this.getSelectedClient()}\n          placeholder=\"-------------------- Select a client ---------------------\"\n        />\n      </div>\n    );\n  }\n}\n\nClientPicker.clientsFiltered = [];\nClientPicker.clientTokenByEntryString = new Map();\nClientPicker.entryStringByClientToken = new Map();\nClientPicker.selectedClient = \"\";\nClientPicker.selectedClientToken = \"\";\n\nasync function getClientsFromDB(queryString) {\n  const { data, status } = await clients.getClients(queryString);\n  console.log(\"ClientPicker.getClientsFromDB (response): status = \" + status);\n\n  if (data.__hadError__) {\n    console.log(\n      \"ClientPicker.handleClientsGetResponse: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    //   ClientPicker.infoMessage = data.__hadError__.errorMessage;\n\n    //   if (app != null) app.doRender();\n\n    return;\n  }\n\n  if (data) {\n    ClientPicker.clientsFiltered = [];\n    ClientPicker.clientTokenByEntryString = new Map();\n    ClientPicker.entryStringByClientToken = new Map();\n\n    for (let i = 0; i < data.length; i++) {\n      const {\n        clientName,\n        clientType,\n        clientToken,\n        publicIPAddress,\n        localIPAddress,\n        isOnLine\n      } = data[i];\n      if (clientType === \"appliance\") {\n        const entryString =\n          clientName +\n          \"  \" +\n          publicIPAddress +\n          \"  \" +\n          localIPAddress +\n          (isOnLine ? \"\" : \"  - offline\");\n        ClientPicker.clientsFiltered.push(entryString);\n        ClientPicker.clientTokenByEntryString.set(entryString, clientToken);\n        ClientPicker.entryStringByClientToken.set(clientToken, entryString);\n      }\n    }\n\n    if (ClientPicker.selectedClientToken) {\n      ClientPicker.selectedClient = ClientPicker.entryStringByClientToken.get(\n        ClientPicker.selectedClientToken\n      );\n    }\n  }\n\n  if (app)\n    ClientPicker.selectedClientToken = app.props.getSelectedClientToken();\n\n  if (app) app.doRender();\n}\n\nexport default ClientPicker;\n","import Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"../ipc/eventManager\";\nimport http from \"../ipc/httpService\";\nimport cookie from \"../utils/cookie\";\nimport { log } from \"../utils/log\";\n\nlet serverIPAddress = \"address not set\";\n\nasync function init(serverIPAddress_) {\n  log(\"sentinelAdmin.init\", \"sadm\", \"info\");\n\n  serverIPAddress = serverIPAddress_;\n}\n\nfunction final() {}\n\n// async function getSentinelAdminStatus(tgtClientToken) {\n//   log(\n//     \"getSentinelAdminStatus: tgtClientToken = \" + tgtClientToken,\n//     \"sadm\",\n//     \"verbose\"\n//   );\n\n//   if (tgtClientToken)\n//     return await http.get(\n//       \"https://\" +\n//         serverIPAddress +\n//         \"/api/sentineladmin/status?tgtclienttoken=\" +\n//         tgtClientToken\n//     );\n\n//   return {};\n// }\n\n// async function postSentinelAdminAction(params) {\n//   log(\n//     \"postSentinelAdminAction: params = \" + JSON.stringify(params, null, 2),\n//     \"sadm\",\n//     \"info\"\n//   );\n\n//   return await http.post(\n//     \"https://\" + serverIPAddress + \"/api/sentineladmin/action\",\n//     params\n//   );\n// }\n\n// function getSentinelClientToken() {\n//   let sentinelClientToken = cookie.get(\"sentinelClientToken\");\n//   return sentinelClientToken;\n// }\n\n// function handleSentinelAdminGetRequest(event, data) {\n//   log(\"sentinelAdmin.handleSentinelAdminGetRequest\", \"sadm\", \"info\");\n//   let settings = cookie.get(\"sentinelAdminSettings\");\n//   eventManager.send(Defs.ipcSentinelAdminGetResponse, settings);\n// }\n\n// async function handleSentinelAdminPutRequest(event, settings) {\n//   log(\n//     \"sentinelAdmin.handleSentinelAdminPutRequest: settings = \" +\n//       JSON.stringify(settings),\n//     \"sadm\",\n//     \"info\"\n//   );\n//   cookie.set(\"sentinelAdminSettings1\", settings);\n//   eventManager.send(Defs.ipcSentinelAdminPutResponse, {});\n// }\n\n// async function handleSentinelAdminActionPostRequest(event, settings) {\n//   log(\n//     \"sentinelAdmin.handleSentinelAdminActionPostRequest: settings = \" +\n//       JSON.stringify(settings),\n//     \"sadm\",\n//     \"info\"\n//   );\n//   //console.log(settings);\n//   const settingsSansActionUuid = JSON.parse(JSON.stringify(settings));\n//   delete settingsSansActionUuid.actionUuid;\n//   cookie.set(\"sentinelAdminSettings\", settingsSansActionUuid);\n//   const { data, status } = await postSentinelAdminAction(settings);\n//   if (status !== Defs.httpStatusOk)\n//     log(\n//       \"(Error) sentinelAdmin.handleSentinelAdminActionPostRequest: status = \" +\n//         status,\n//       \"sadm\",\n//       \"verbose\"\n//     );\n\n//   log(\n//     \"sentinelAdmin.handleSentinelAdminActionPostRequest: data = \" +\n//       JSON.stringify(data),\n//     \"sadm\",\n//     \"info\"\n//   );\n//   //if (data)\n//   eventManager.send(Defs.ipcSentinelAdminActionPostResponse, data);\n// }\n\n// async function handleSentinelAdminStatusGetRequest(event, piClientToken) {\n//   log(\"sentinelAdmin.handleSentinelAdminStatusGetRequest\", \"sadm\", \"verbose\");\n//   if (piClientToken) {\n//     const { data, status } = await getSentinelAdminStatus(piClientToken);\n//     log(\n//       \"sentinelAdmin.handleSentinelAdminStatusGetRequest: data = \" +\n//         JSON.stringify(data, null, 2),\n//       \"sadm\",\n//       \"verbose\"\n//     );\n//     eventManager.send(Defs.ipcSentinelAdminStatusGetResponse, data.adminStatus);\n//   }\n// }\n\nasync function getSentinelAdminStatus(tgtClientToken) {\n  log(\"sentinelAdmin.getSentinelAdminStatus\", \"sadm\", \"verbose\");\n  if (tgtClientToken) {\n    return await http.get(\n      \"https://\" +\n        serverIPAddress +\n        \"/api/sentineladmin/status?tgtclienttoken=\" +\n        tgtClientToken\n    );\n  }\n\n  return {};\n}\n\nasync function postSentinelAdmin(params) {\n  log(\"updater.postSentinelAdmin\", \"updt\", \"info\");\n  const paramsSansActionUuid = JSON.parse(JSON.stringify(params));\n  delete paramsSansActionUuid.actionUuid;\n  return await http.post(\n    \"https://\" + serverIPAddress + \"/api/sentineladmin/action\",\n    paramsSansActionUuid\n  );\n}\n\n// eventManager.on(Defs.ipcSentinelAdminGetRequest, handleSentinelAdminGetRequest);\n// eventManager.on(Defs.ipcSentinelAdminPutRequest, handleSentinelAdminPutRequest);\n/* eventManager.on(\n  Defs.ipcSentinelAdminActionPostRequest,\n  handleSentinelAdminActionPostRequest\n); */\n// eventManager.on(\n//   Defs.ipcSentinelAdminStatusGetRequest,\n//   handleSentinelAdminStatusGetRequest\n// );\n\nexport default {\n  init,\n  final,\n  getSentinelAdminStatus,\n  postSentinelAdmin\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport uuidv4 from \"uuid/v4\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport cookie from \"../utils/cookie\";\nimport ClientPicker from \"./clientPicker\";\nimport InfoPopup from \"./infoPopup\";\nimport Navigator from \"./navigator\";\nimport sentinelAdmin from \"../services/sentinelAdmin\";\nimport SpinnerPopup from \"./spinnerPopup\";\n\nlet app = null;\n\nclass SentinelAdminWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    app = this;\n\n    this.state = { count: 0 };\n  }\n\n  componentDidMount() {\n    console.log(\"SentinelAdminWindow componentDidMount\");\n    this.getSentinelAdminSettings();\n    try {\n      SentinelAdminWindow.statusInterval = setInterval(async () => {\n        if (!this.inSendSentinelAdminStatusGetRequest) {\n          this.inSendSentinelAdminStatusGetRequest = true;\n          await getSentinelAdminStatus();\n          this.inSendSentinelAdminStatusGetRequest = false;\n        }\n      }, 1 * 1000);\n    } catch (ex) {\n      console.log(\"(Exception) \" + ex);\n    }\n  }\n\n  componentWillUnmount() {\n    console.log(\"SentinelAdminWindow componentWillUnmount\");\n    clearInterval(SentinelAdminWindow.statusInterval);\n    SentinelAdminWindow.statusInterval = null;\n    app = null;\n  }\n\n  getSentinelAdminSettings() {\n    const settings = cookie.get(\"sentinelAdminSettings\");\n    if (settings) {\n      const { tgtClientToken, action } = settings;\n      if (tgtClientToken) SentinelAdminWindow.tgtClientToken = tgtClientToken;\n      if (action) SentinelAdminWindow.action = action;\n    }\n  }\n\n  handleSaveClick(ev) {\n    console.log(\"...SentinelAdminWindow handleSaveClick\");\n    cookie.set(\"sentinelAdminSettings\", {\n      tgtClientToken: SentinelAdminWindow.tgtClientToken,\n      action: SentinelAdminWindow.action,\n    });\n  }\n\n  handleSubmitClick(ev) {\n    console.log(\"...SentinelAdminWindow handleSubmitClick\");\n\n    SentinelAdminWindow.submitTimeout = setTimeout(() => {\n      if (SentinelAdminWindow.submitTimeout) {\n        SentinelAdminWindow.waitForInProgress = false;\n        SentinelAdminWindow.status = \"timed out\";\n        this.doRender();\n      }\n    }, 30 * 1000);\n\n    SentinelAdminWindow.waitForInProgress = true;\n    SentinelAdminWindow.status = \"contacting server...\";\n    this.doRender();\n\n    postSentinelAdmin({\n      tgtClientToken: SentinelAdminWindow.tgtClientToken,\n      action: SentinelAdminWindow.action,\n      actionUuid: uuidv4(),\n    });\n  }\n\n  handleActionChange(ev) {\n    console.log(\n      \"...SentinelAdminWindow handleActionChange: \" + ev.target.value\n    );\n    SentinelAdminWindow.action = ev.target.value;\n    this.doRender();\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  getClientToken() {\n    return SentinelAdminWindow.tgtClientToken;\n  }\n\n  getDisabled() {\n    return (\n      SentinelAdminWindow.waitForInProgress || SentinelAdminWindow.inProgress\n    );\n  }\n\n  getEnableSave() {\n    return true;\n  }\n\n  getEnableSubmit() {\n    if (SentinelAdminWindow.tgtClientToken.length < 16) return false;\n\n    if (SentinelAdminWindow.inProgress) {\n      SentinelAdminWindow.waitForInProgress = false;\n      if (SentinelAdminWindow.submitTimeout) {\n        clearTimeout(SentinelAdminWindow.submitTimeout);\n        SentinelAdminWindow.submitTimeout = null;\n      }\n    }\n    return (\n      !SentinelAdminWindow.waitForInProgress && !SentinelAdminWindow.inProgress\n    );\n  }\n\n  getInfoMessage() {\n    return SentinelAdminWindow.infoMessage;\n  }\n\n  handleClientPick(ev) {\n    console.log(\"SentinelAdminWindow.handleClientPick: \" + ev);\n    SentinelAdminWindow.tgtClientToken = ev;\n  }\n\n  handleInfoPopupClick() {\n    console.log(\"SentinelAdminWindow.handleInfoPopupClick\");\n  }\n\n  hideInfoPopup() {\n    SentinelAdminWindow.showInfoPopup = false;\n    this.doRender();\n  }\n\n  render() {\n    console.log(\"SentinelAdminWindow render\");\n\n    //const tgtClientToken = SentinelAdminWindow.tgtClientToken;\n    const action = SentinelAdminWindow.action;\n    const disabledWhileInProgress =\n      SentinelAdminWindow.waitForInProgress || SentinelAdminWindow.inProgress;\n    const activityStatus = SentinelAdminWindow.status;\n    const showSpinner = disabledWhileInProgress;\n\n    const showInfoPopup = SentinelAdminWindow.showInfoPopup;\n\n    return (\n      <div>\n        <Navigator />\n        {showSpinner && <SpinnerPopup />}\n        {showInfoPopup && (\n          <InfoPopup\n            title={\"Sentinel Admin\"}\n            getInfoMessage={() => this.getInfoMessage()}\n            onSubmit={(ev) => this.handleInfoPopupClick(ev)}\n            closePopup={this.hideInfoPopup.bind(this)}\n          />\n        )}\n        {!showInfoPopup && (\n          <div>\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>Sentinel Administration</p>\n            </div>\n            <div style={{ marginLeft: \"20px\" }}>\n              <table align=\"left\">\n                <tbody>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>Client:</td>\n                    <td>\n                      <ClientPicker\n                        onPick={(ev) => this.handleClientPick(ev)}\n                        getDisabled={this.getDisabled}\n                        getSelectedClientToken={this.getClientToken}\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>Action:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>\n                    <table align=\"left\">\n                      <tbody>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_restartSentinel}\n                            checked={\n                              action === Defs.adminCmd_sentinel_restartSentinel\n                            }\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Restart Sentinel&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_restartSentinelAdmin}\n                            checked={\n                              action ===\n                              Defs.adminCmd_sentinel_restartSentinelAdmin\n                            }\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Restart Sentinel Admin&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_restartSentinelWeb}\n                            checked={\n                              action ===\n                              Defs.adminCmd_sentinel_restartSentinelWeb\n                            }\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Restart Sentinel Web&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_restartUpdater}\n                            checked={\n                              action === Defs.adminCmd_sentinel_restartUpdater\n                            }\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Restart Updater&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_reboot}\n                            checked={action === Defs.adminCmd_sentinel_reboot}\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Reboot&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_sendLogs}\n                            checked={action === Defs.adminCmd_sentinel_sendLogs}\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Send Logs\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_setLogLevelDetailed}\n                            checked={\n                              action ===\n                              Defs.adminCmd_sentinel_setLogLevelDetailed\n                            }\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Set Log Level = Detailed\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value={Defs.adminCmd_sentinel_setLogLevelNormal}\n                            checked={\n                              action ===\n                              Defs.adminCmd_sentinel_setLogLevelNormal\n                            }\n                            disabled={disabledWhileInProgress}\n                            onChange={(ev) => this.handleActionChange(ev)}\n                          />\n                          &nbsp;Set Log Level = Normal\n                        </tr>\n                      </tbody>\n                    </table>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                    <td>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={!this.getEnableSave()}\n                        style={{\n                          marginLeft: \"100px\",\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        /* autoFocus */\n                        onClick={(ev) => this.handleSaveClick(ev)}\n                      >\n                        Save\n                      </Button>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={!this.getEnableSubmit()}\n                        style={{\n                          marginLeft: \"50px\",\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        /* autoFocus */\n                        onClick={(ev) => this.handleSubmitClick(ev)}\n                      >\n                        Submit\n                      </Button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <hr width=\"1000%\" height=\"20\" border=\"none\"></hr>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>Status:</td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        name=\"activity-status-text\"\n                        size=\"40\"\n                        value={activityStatus}\n                        readOnly={true}\n                      />\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nSentinelAdminWindow.action = Defs.adminCmd_sentinel_none;\nSentinelAdminWindow.infoMessage = \"\";\nSentinelAdminWindow.inProgress = false;\nSentinelAdminWindow.showInfoPopup = false;\nSentinelAdminWindow.status = \"done\";\nSentinelAdminWindow.statusInterval = null;\nSentinelAdminWindow.submitTimeout = null;\nSentinelAdminWindow.tgtClientToken = \"\";\nSentinelAdminWindow.waitForInProgress = false;\n\nasync function getSentinelAdminStatus() {\n  const { data, status } = await sentinelAdmin.getSentinelAdminStatus(\n    SentinelAdminWindow.tgtClientToken\n  );\n\n  if (status && status === Defs.httpStatusOk) {\n    const adminStatus = data.adminStatus;\n\n    console.log(\n      \"SentinelAdminWindow.getSentinelAdminStatus: status = \" +\n        JSON.stringify(adminStatus, null, 2)\n    );\n\n    SentinelAdminWindow.inProgress = adminStatus.inProgress;\n    if (!SentinelAdminWindow.waitForInProgress)\n      SentinelAdminWindow.status = adminStatus.step;\n\n    if (adminStatus.failed) {\n      SentinelAdminWindow.status = \"failed\";\n      SentinelAdminWindow.waitForInProgress = false;\n      if (SentinelAdminWindow.submitTimeout) {\n        clearTimeout(SentinelAdminWindow.submitTimeout);\n        SentinelAdminWindow.submitTimeout = null;\n      }\n    }\n  }\n\n  if (app) app.doRender();\n}\n\nasync function postSentinelAdmin(params) {\n  const { data, status } = await sentinelAdmin.postSentinelAdmin(params);\n  console.log(\n    \"SentinelAdminWindow.postSentinelAdmin: response = \" +\n      JSON.stringify(data, null, 2)\n  );\n\n  if (data.__hadError__) {\n    console.log(\n      \"SentinelAdminWindow.postSentinelAdmin: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    SentinelAdminWindow.infoMessage = data.__hadError__.errorMessage;\n    SentinelAdminWindow.showInfoPopup = true;\n    SentinelAdminWindow.buttonsEnabled = false;\n    SentinelAdminWindow.status = \"failed\";\n\n    SentinelAdminWindow.waitForInProgress = false;\n    SentinelAdminWindow.inProgress = false;\n    if (SentinelAdminWindow.submitTimeout) {\n      clearTimeout(SentinelAdminWindow.submitTimeout);\n      SentinelAdminWindow.submitTimeout = null;\n    }\n  }\n\n  if (app) app.doRender();\n}\n\nexport default SentinelAdminWindow;\n","import React from \"react\";\n//import { Redirect, Switch } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport clients from \"../services/clients\";\nimport cipher from \"../utils/cipher\";\nimport cookie from \"../utils/cookie\";\nimport eventManager from \"../ipc/eventManager\";\nimport Navigator from \"./navigator\";\n\nclass SentinelTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const clients = this.props.clients;\n    console.log(\"SentinelTable render\");\n    console.log(clients);\n\n    return (\n      <table id=\"sentinel-table\">\n        {clients &&\n          clients.map(item => (\n            <tr key={item.clientToken}>\n              <td\n                style={{ cursor: item.isOnLine ? \"pointer\" : \"default\" }}\n                onClick={() => this.props.onClick(item)}\n              >\n                <div style={{ textAlign: \"left\", marginLeft: 20 }}>\n                  {item.clientName}\n                </div>\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: item.isOnLine ? \"pointer\" : \"default\" }}\n                onClick={() => this.props.onClick(item)}\n              >\n                {item.localIPAddress}\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: item.isOnLine ? \"pointer\" : \"default\" }}\n                onClick={() => this.props.onClick(item)}\n              >\n                {!item.isOnLine ? \"off line\" : \"\"}\n              </td>\n              <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>\n              <td\n                style={{ cursor: item.isOnLine ? \"pointer\" : \"default\" }}\n                onClick={() => this.props.onClick(item)}\n              >\n                {item.isWiFi ? \"wifi\" : \"\"}\n              </td>\n            </tr>\n          ))}\n      </table>\n    );\n  }\n}\n\nlet app = null;\n\nclass SentinelsWindow extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"SentinelsWindow.constructor\");\n    this.state = { count: 0 };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"SentinelsWindow.componentDidMount\");\n    getClientsFromDB(\"localSentinelsOnly=1\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"SentinelsWindow.componentWillUnmount\");\n    app = null;\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  handleLocalIPAddressClick(item) {\n    console.log(\n      \"SentinelsWindow.clientTokenClick = \" +\n        item.localIPAddress +\n        \", isOnLine = \" +\n        item.isOnLine\n    );\n\n    if (!item.isOnLine) return;\n\n    const params = {\n      userName: cookie.get(\"userName\"),\n      password: cookie.get(\"password\"),\n      from: window.location.origin\n    };\n\n    const paramsEncrypted = cipher.encrypt(JSON.stringify(params));\n    ///* \n    window.location.replace(\n      \"http://\" +\n        item.localIPAddress +\n        \":8008?params=\" +\n        encodeURI(paramsEncrypted)\n    );\n    //*/\n    /*\n    window.location.replace(\n      \"https://\" +\n        \"iipzy.net\" +\n        \":8443?params=\" +\n        encodeURI(paramsEncrypted)\n    );\n    */\n  }\n\n  handleLoginClick(ev) {\n    console.log(\"SentinelsWindow.handleLoginClick\");\n    eventManager.send(Defs.ipcLinkTo, Defs.urlLogin);\n  }\n\n  render() {\n    console.log(\"SentinelsWindow.render\");\n\n    const clients = SentinelsWindow.clients;\n    const isLoggedIn = SentinelsWindow.isLoggedIn;\n    const numSentinels = clients ? clients.length : 0;\n\n    if (!clients && isLoggedIn) return <div></div>;\n\n    if (numSentinels === 1) return <div></div>;\n\n    return (\n      <div>\n        <Navigator />\n        <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n          <p style={{ fontSize: \"140%\" }}>Sentinel</p>\n        </div>\n        {!isLoggedIn && (\n          <div>\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>\n                You must be logged in to connect to your iipzy Sentinel\n              </p>\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                style={{\n                  width: \"130px\",\n                  color: \"#0000b0\"\n                }}\n                /* autoFocus */\n                onClick={ev => this.handleLoginClick(ev)}\n              >\n                Login\n              </Button>\n            </div>\n          </div>\n        )}\n        {isLoggedIn && numSentinels > 1 && (\n          <div\n            align=\"center\"\n            style={{\n              /*               marginLeft: 20, */\n              width: \"600px\",\n              height: \"120px\",\n              font: \"14px Courier New\",\n              fontWeight: \"bold\"\n            }}\n          >\n            <SentinelTable\n              clients={clients}\n              onClick={ev => this.handleLocalIPAddressClick(ev)}\n            />\n            {/* <TextLines lines={lines} /> */}\n          </div>\n        )}\n        {isLoggedIn && numSentinels === 0 && (\n          <div>\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>\n                Your network does not have an iipzy Sentinel\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nSentinelsWindow.clients = null;\nSentinelsWindow.clientByClientToken = new Map();\nSentinelsWindow.clientToken = \"\";\nSentinelsWindow.infoMessage = \"\";\nSentinelsWindow.isLoggedIn = false;\n\nasync function getClientsFromDB(queryString) {\n  const { data, status } = await clients.getClients(queryString);\n  console.log(\n    \"SentinelsWindow.getClientsFromDB (response): status = \" + status\n  );\n\n  if (data.__hadError__) {\n    console.log(\n      \"SentinelsWindow.getClientsFromDB: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    SentinelsWindow.infoMessage = data.__hadError__.errorMessage;\n\n    if (app) app.doRender();\n\n    return;\n  }\n\n  SentinelsWindow.clients = data;\n  if (SentinelsWindow.clients.length === 1) {\n    // go directly to sentinel.\n    if (app != null) {\n      const item = {\n        localIPAddress: SentinelsWindow.clients[0].localIPAddress,\n        isOnLine: SentinelsWindow.clients[0].isOnLine\n      };\n      app.handleLocalIPAddressClick(item);\n    }\n  } else {\n    // display sentinels.\n    SentinelsWindow.clientByClientToken = new Map();\n    for (let i = 0; i < SentinelsWindow.clients.length; i++) {\n      const client = SentinelsWindow.clients[i];\n      SentinelsWindow.clientByClientToken.set(client.clientToken, client);\n    }\n    if (app) app.doRender();\n  }\n}\n\nconst handleLoginStatus = (event, data) => {\n  const { userName, authToken, password, loginStatus } = data;\n  console.log(\n    \"SentinelsWindow.handleLoginStatus: userName = \" +\n      userName +\n      \", loginStatus = \" +\n      loginStatus\n  );\n  SentinelsWindow.isLoggedIn = loginStatus === Defs.loginStatusLoggedIn;\n};\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\n\nexport default SentinelsWindow;\n","//import Defs from \"iipzy-shared/src/defs\";\n\nimport http from \"../ipc/httpService\";\nimport { log } from \"../utils/log\";\n\nlet serverIPAddress = \"address not set\";\n\nasync function init(serverIPAddress_) {\n  log(\"updater.init\", \"updt\", \"info\");\n\n  serverIPAddress = serverIPAddress_;\n}\n\nfunction final() {}\n\nasync function getUpdaterStatus(tgtClientToken) {\n  log(\n    \"getUpdaterStatus: tgtClientToken = \" + tgtClientToken,\n    \"updt\",\n    \"verbose\"\n  );\n\n  if (tgtClientToken) {\n    return await http.get(\n      \"https://\" +\n        serverIPAddress +\n        \"/api/updater/status?tgtclienttoken=\" +\n        tgtClientToken\n    );\n  }\n\n  return {};\n}\n\nasync function postUpdaterUpdate(params) {\n  log(\"updater.postUpdaterUpdate\", \"updt\", \"info\");\n  const paramsSansUpdateUuid = JSON.parse(JSON.stringify(params));\n  delete paramsSansUpdateUuid.updateUuid;\n  return await http.post(\n    \"https://\" + serverIPAddress + \"/api/updater/update\",\n    paramsSansUpdateUuid\n  );\n}\n\nexport default {\n  init,\n  final,\n  getUpdaterStatus,\n  postUpdaterUpdate\n};\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport uuidv4 from \"uuid/v4\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport cookie from \"../utils/cookie\";\nimport ClientPicker from \"./clientPicker\";\nimport InfoPopup from \"./infoPopup\";\nimport Navigator from \"./navigator\";\nimport SpinnerPopup from \"./spinnerPopup\";\nimport updater from \"../services/updater\";\n\nlet app = null;\n\nclass UpdaterWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"UpdaterWindow.constructor\");\n\n    app = this;\n\n    this.state = { count: 0 };\n\n    this.inSendUpdaterStatusGetRequest = false;\n  }\n\n  componentDidMount() {\n    console.log(\"UpdaterWindow.componentDidMount\");\n    this.getUpdaterSettings();\n    try {\n      UpdaterWindow.statusInterval = setInterval(async () => {\n        if (!this.inSendUpdaterStatusGetRequest) {\n          this.inSendUpdaterStatusGetRequest = true;\n          await getUpdaterStatus();\n          this.inSendUpdaterStatusGetRequest = false;\n        }\n      }, 1 * 1000);\n    } catch (ex) {\n      console.log(\"(Exception) \" + ex);\n    }\n  }\n\n  componentWillUnmount() {\n    console.log(\"UpdaterWindow.componentWillUnmount\");\n    clearInterval(UpdaterWindow.statusInterval);\n    UpdaterWindow.statusInterval = null;\n    app = null;\n  }\n\n  handleSaveClick(ev) {\n    console.log(\"...UpdaterWindow handleSaveClick\");\n    cookie.set(\"updaterSettings\", {\n      tgtClientToken: UpdaterWindow.tgtClientToken,\n      updateType: UpdaterWindow.updateType,\n    });\n  }\n\n  handleSubmitClick(ev) {\n    console.log(\"...UpdaterWindow handleSubmitClick\");\n\n    UpdaterWindow.submitTimeout = setTimeout(() => {\n      if (UpdaterWindow.submitTimeout) {\n        UpdaterWindow.waitForInProgress = false;\n        UpdaterWindow.status = \"timed out\";\n        this.doRender();\n      }\n    }, 30 * 1000);\n\n    UpdaterWindow.waitForInProgress = true;\n    UpdaterWindow.status = \"contacting server...\";\n    this.doRender();\n\n    cookie.set(\"updaterSettings\", {\n      tgtClientToken: UpdaterWindow.tgtClientToken,\n      updateType: UpdaterWindow.updateType,\n    });\n\n    postUpdaterUpdate({\n      tgtClientToken: UpdaterWindow.tgtClientToken,\n      updateType: UpdaterWindow.updateType,\n      updateUuid: uuidv4(),\n    });\n  }\n\n  getUpdaterSettings() {\n    const settings = cookie.get(\"updaterSettings\");\n    if (settings) {\n      const { tgtClientToken, updateType } = settings;\n      if (tgtClientToken) UpdaterWindow.tgtClientToken = tgtClientToken;\n      if (updateType) UpdaterWindow.updateType = updateType;\n      if (app != null) app.doRender();\n    }\n  }\n\n  handleUpdateTypeChange(ev) {\n    console.log(\"...UpdaterWindow handleUpdateTypeChange: \" + ev.target.value);\n    UpdaterWindow.updateType = ev.target.value;\n    this.doRender();\n  }\n\n  doRender() {\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  getClientToken() {\n    return UpdaterWindow.tgtClientToken;\n  }\n\n  getDisabled() {\n    return UpdaterWindow.waitForInProgress || UpdaterWindow.inProgress;\n  }\n\n  getEnableSave() {\n    return true;\n  }\n\n  getEnableSubmit() {\n    if (UpdaterWindow.tgtClientToken.length < 16) return false;\n\n    if (UpdaterWindow.inProgress) {\n      UpdaterWindow.waitForInProgress = false;\n      if (UpdaterWindow.submitTimeout) {\n        clearTimeout(UpdaterWindow.submitTimeout);\n        UpdaterWindow.submitTimeout = null;\n      }\n    }\n    return !UpdaterWindow.waitForInProgress && !UpdaterWindow.inProgress;\n  }\n\n  getInfoMessage() {\n    return UpdaterWindow.infoMessage;\n  }\n\n  handleClientPick(ev) {\n    console.log(\"UpdaterWindow.handleClientPick: \" + ev);\n    UpdaterWindow.tgtClientToken = ev;\n  }\n\n  handleInfoPopupClick(ev) {\n    console.log(\"UpdaterWindow.handleInfoPopupClick\");\n  }\n\n  hideInfoPopup() {\n    UpdaterWindow.showInfoPopup = false;\n    this.doRender();\n  }\n\n  render() {\n    console.log(\"UpdaterWindow render\");\n\n    const updateType = UpdaterWindow.updateType;\n    const disabledWhileUpdating =\n      UpdaterWindow.waitForInProgress || UpdaterWindow.inProgress;\n    const updateStatus = UpdaterWindow.status;\n    const showSpinner = disabledWhileUpdating;\n\n    const showInfoPopup = UpdaterWindow.showInfoPopup;\n\n    return (\n      <div>\n        <Navigator />\n        {showSpinner && <SpinnerPopup />}\n        {showInfoPopup && (\n          <InfoPopup\n            title={\"Sentinel Update\"}\n            getInfoMessage={() => this.getInfoMessage()}\n            onSubmit={(ev) => this.handleInfoPopupClick(ev)}\n            closePopup={this.hideInfoPopup.bind(this)}\n          />\n        )}\n        {!showInfoPopup && (\n          <div>\n            <div style={{ marginLeft: 20, textAlign: \"left\" }}>\n              <p style={{ fontSize: \"140%\" }}>Update Sentinel</p>\n            </div>\n            <div style={{ marginLeft: \"20px\" }}>\n              <table align=\"left\">\n                <tbody>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n\n                  <tr>\n                    <td>Client:</td>\n                    <td>\n                      <ClientPicker\n                        onPick={(ev) => this.handleClientPick(ev)}\n                        getDisabled={this.getDisabled}\n                        getSelectedClientToken={this.getClientToken}\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>Update Type:&nbsp;</td>\n                    <table align=\"left\">\n                      <tbody>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"update-type\"\n                            value=\"iipzy-pi\"\n                            checked={updateType === \"iipzy-pi\"}\n                            disabled={disabledWhileUpdating}\n                            onChange={(ev) => this.handleUpdateTypeChange(ev)}\n                          />\n                          &nbsp;Sentinel&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"update-type\"\n                            value=\"iipzy-sentinel-admin\"\n                            checked={updateType === \"iipzy-sentinel-admin\"}\n                            disabled={disabledWhileUpdating}\n                            onChange={(ev) => this.handleUpdateTypeChange(ev)}\n                          />\n                          &nbsp;Sentinel Admin&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"update-type\"\n                            value=\"iipzy-sentinel-web\"\n                            checked={updateType === \"iipzy-sentinel-web\"}\n                            disabled={disabledWhileUpdating}\n                            onChange={(ev) => this.handleUpdateTypeChange(ev)}\n                          />\n                          &nbsp;Sentinel Web&nbsp;\n                        </tr>\n                        <tr>\n                          <input\n                            type=\"radio\"\n                            name=\"update-type\"\n                            value=\"iipzy-updater\"\n                            checked={updateType === \"iipzy-updater\"}\n                            disabled={disabledWhileUpdating}\n                            onChange={(ev) => this.handleUpdateTypeChange(ev)}\n                          />\n                          &nbsp;Updater\n                        </tr>\n                      </tbody>\n                    </table>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                    <td>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={!this.getEnableSave()}\n                        style={{\n                          marginLeft: \"100px\",\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        autoFocus\n                        onClick={(ev) => this.handleSaveClick(ev)}\n                      >\n                        Save\n                      </Button>\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        disabled={!this.getEnableSubmit()}\n                        style={{\n                          marginLeft: \"50px\",\n                          width: \"130px\",\n                          color: \"#0000b0\",\n                        }}\n                        autoFocus\n                        onClick={(ev) => this.handleSubmitClick(ev)}\n                      >\n                        Submit\n                      </Button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <hr width=\"770%\" height=\"20\" border=\"none\"></hr>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>&nbsp;</td>\n                  </tr>\n                  <tr>\n                    <td>Status:</td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        name=\"update-status-text\"\n                        size=\"40\"\n                        value={updateStatus}\n                        readOnly={true}\n                      />\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nUpdaterWindow.infoMessage = \"\";\nUpdaterWindow.inProgress = false;\nUpdaterWindow.showInfoPopup = false;\nUpdaterWindow.submitTimeout = null;\nUpdaterWindow.status = \"done\";\nUpdaterWindow.statusInterval = null;\nUpdaterWindow.tgtClientToken = \"\";\nUpdaterWindow.updateType = \"iipzy-pi\";\nUpdaterWindow.waitForInProgress = false;\n\nasync function getUpdaterStatus() {\n  const { data, status } = await updater.getUpdaterStatus(\n    UpdaterWindow.tgtClientToken\n  );\n\n  if (status && status === Defs.httpStatusOk) {\n    const updateStatus = data.updateStatus;\n\n    console.log(\n      \"UpdaterWindow.getUpdaterStatus: status = \" +\n        JSON.stringify(updateStatus, null, 2)\n    );\n\n    UpdaterWindow.inProgress = updateStatus.inProgress;\n    if (!UpdaterWindow.waitForInProgress)\n      UpdaterWindow.status = updateStatus.step;\n\n    if (updateStatus.failed) {\n      UpdaterWindow.status = \"failed\";\n      UpdaterWindow.waitForInProgress = false;\n      if (UpdaterWindow.submitTimeout) {\n        clearTimeout(UpdaterWindow.submitTimeout);\n        UpdaterWindow.submitTimeout = null;\n      }\n    }\n  }\n  if (app) app.doRender();\n}\n\nasync function postUpdaterUpdate(params) {\n  const { data, status } = await updater.postUpdaterUpdate(params);\n  console.log(\n    \"UpdaterWindow.postUpdaterUpdate: response = \" +\n      JSON.stringify(data, null, 2)\n  );\n\n  if (data.__hadError__) {\n    console.log(\n      \"UpdaterWindow.postUpdaterUpdate: errorMessage = \" +\n        data.__hadError__.errorMessage +\n        \", statusCode = \" +\n        data.__hadError__.statusCode\n    );\n\n    UpdaterWindow.infoMessage = data.__hadError__.errorMessage;\n    UpdaterWindow.showInfoPopup = true;\n    UpdaterWindow.buttonsEnabled = false;\n    UpdaterWindow.status = \"failed\";\n\n    UpdaterWindow.waitForInProgress = false;\n    UpdaterWindow.inProgress = false;\n    if (UpdaterWindow.submitTimeout) {\n      clearTimeout(UpdaterWindow.submitTimeout);\n      UpdaterWindow.submitTimeout = null;\n    }\n  }\n\n  if (app) app.doRender();\n}\n\nexport default UpdaterWindow;\n","import React, { Component } from \"react\";\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\";\n//import { ToastContainer } from \"react-toastify\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n\nimport eventManager from \"./ipc/eventManager\";\n\nimport NavBar from \"./components/navBar\";\n//import logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport AboutWindow from \"./components/aboutWindow\";\nimport AddUserWindow from \"./components/addUserWindow\";\nimport AdminNavigatorWindow from \"./components/adminNavigatorWindow\";\nimport BlankWindow from \"./components/blankWindow\";\nimport ClientsWindow from \"./components/clientsWindow\";\nimport DownloadWindow from \"./components/downloadWindow\";\nimport EditUserWindow from \"./components/editUserWindow\";\nimport ForgotPasswordWindow from \"./components/forgotPasswordWindow\";\nimport HomeNavigatorWindow from \"./components/homeNavigatorWindow\";\nimport IipzyWindow from \"./components/iipzyWindow\";\nimport LoginWindow from \"./components/loginWindow\";\nimport SentinelAdminWindow from \"./components/sentinelAdminWindow\";\nimport SentinelsWindow from \"./components/sentinelsWindow\";\nimport UpdaterWindow from \"./components/updaterWindow\";\n\nlet app = null;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    console.log(\"App.constructor\");\n\n    this.state = { count: 0, data: null };\n\n    app = this;\n  }\n\n  componentDidMount() {\n    console.log(\"App.componentDidMount\");\n    // Call our fetch function below once the exact component mounts\n    // this.callBackendAPI()\n    //   .then(res => this.setState({ data: res.express }))\n    //   .catch(err => console.log(err));\n  }\n  // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\n  callBackendAPI = async () => {\n    const response = await fetch(\"/express_backend\");\n    const body = await response.json();\n\n    if (response.status !== 200) {\n      throw Error(body.message);\n    }\n    return body;\n  };\n\n  doRender() {\n    console.log(\"App.doRender\");\n    const count = this.state.count + 1;\n    this.setState({ count: count });\n  }\n\n  render() {\n    const loggedIn = App.loggedIn;\n    const navbarName = App.navbarName;\n\n    return (\n      <React.Fragment>\n        {/* <ToastContainer /> */}\n        <BrowserRouter>\n          {/*   <NavBar user={this.state.user} /> */}\n          <NavBar />\n          {/* <main className=\"container\"> */}\n          <Switch>\n            <Route path={Defs.urlAbout} exact component={AboutWindow} />\n            <Route path={Defs.urlAddUser} exact component={AddUserWindow} />\n            <Route\n              path={Defs.urlAdministration}\n              exact\n              component={AdminNavigatorWindow}\n            />\n            <Route path={Defs.urlBlank} exact component={BlankWindow} />\n            <Route path={Defs.urlClients} exact component={ClientsWindow} />\n            <Route path={Defs.urlDownload} exact component={DownloadWindow} />\n            <Route path={Defs.urlEditUser} exact component={EditUserWindow} />\n            <Route\n              path={Defs.urlForgotPassword}\n              exact\n              component={ForgotPasswordWindow}\n            />\n            <Route path={Defs.urlHome} exact component={HomeNavigatorWindow} />\n            <Route path={Defs.urlIipzy} exact component={IipzyWindow} />\n            <Route path={Defs.urlLogin} exact component={LoginWindow} />\n            <Route\n              path={Defs.urlSentinelAdmin}\n              exact\n              component={SentinelAdminWindow}\n            />\n            <Route path={Defs.urlSentinels} exact component={SentinelsWindow} />\n            <Route path={Defs.urlUpdater} exact component={UpdaterWindow} />\n            <Redirect to={Defs.urlBlank} />}\n          </Switch>\n          {/* </main> */}\n        </BrowserRouter>\n      </React.Fragment>\n    );\n  }\n}\n\nApp.loggedIn = false;\nApp.navbarName = \"home\";\nApp.props = null;\n\nconst handleShowNavBar = (event, data) => {\n  console.log(\"App.handleShowNavBar: \" + data);\n  App.navbarName = data;\n  if (App.navbarName === \"admin\") {\n    eventManager.send(Defs.ipcLinkTo, Defs.urlClients);\n  }\n  if (app != null) app.doRender();\n};\n\nconst handleLoginStatus = (event, data) => {\n  console.log(\"App.handleLoginStatus\");\n  const { loginStatus, onUserCommand } = data;\n\n  App.loggedIn = loginStatus === Defs.loginStatusLoggedIn;\n\n  if (App.navbarName === \"home\") {\n    if (App.loggedIn) {\n      eventManager.send(Defs.ipcLinkTo, Defs.urlIipzy);\n    } else {\n      eventManager.send(Defs.ipcLinkTo, Defs.urlLogin);\n    }\n  }\n};\n\n// NB: handleUserAddRequired and handleUserAddVerified are used to force a first time user to\n//      register then login.\n// const handleUserAddRequired = (event, settings) => {\n//   App.userAddRequired = true;\n//   eventManager.send(\n//     Defs.ipcConsoleLog,\n//     \"App handleUserAddRequired: userAddRequired = \" + App.userAddRequired\n//   );\n//   if (app != null) app.doRender();\n// };\n\n// const handleUserAddVerified = (event, settings) => {\n//   App.userAddRequired = false;\n//   App.forceLogin = true;\n//   eventManager.send(Defs.ipcConsoleLog, \"App handleUserAddVerified\");\n//   if (app != null) app.doRender();\n// };\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\neventManager.on(Defs.ipcShowNavBar, handleShowNavBar);\n// eventManager.on(Defs.ipcUserAddRequired, handleUserAddRequired);\n// eventManager.on(Defs.ipcUserAddVerified, handleUserAddVerified);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import Defs from \"iipzy-shared/src/defs\";\n\nimport cookie from \"../utils/cookie\";\nimport { log } from \"../utils/log\";\nimport eventManager from \"../ipc/eventManager\";\nimport http from \"../ipc/httpService\";\n\nlet serverIPAddress = \"address not set\";\n\nlet clientToken = null;\n\nlet sentClientLoginNeeded = 0;\n\nlet isLoggedIn = false;\nlet isExiting = false;\nlet interval = null;\n\nlet inHeartbeat = 0;\n\nasync function init(serverIPAddress_) {\n  log(\">>>heartbeat.init\", \"htbt\", \"info\");\n\n  serverIPAddress = serverIPAddress_;\n\n  clientToken = cookie.get(\"clientToken\");\n  log(\"..clientToken=\" + clientToken, \"htbt\", \"info\");\n  if (clientToken) {\n    http.setClientTokenHeader(clientToken);\n  }\n\n  interval = setInterval(async () => {\n    if (!inHeartbeat) {\n      inHeartbeat++;\n      try {\n        await heartbeat();\n      } catch (ex) {\n        log(\"(Exception) heartbeat: \" + ex, \"htbt\", \"error\");\n      }\n      inHeartbeat--;\n    }\n  }, 20 * 1000);\n\n  inHeartbeat++;\n  await heartbeat();\n  inHeartbeat--;\n\n  log(\"<<<heartbeat.init\", \"htbt\", \"info\");\n}\n\nfunction final() {}\n\nfunction createPseudoLocalIPAddress() {\n  let localIPAddress = cookie.get(\"pseudoLocalIPAddress\");\n  if (!localIPAddress) {\n    const ts = Date.now().toString();\n    // from : https://stackoverflow.com/questions/43464519/creating-fake-ip-address-using-javascript\n    localIPAddress =\n      Math.floor(Math.random() * 255) +\n      1 +\n      \".\" +\n      (Math.floor(Math.random() * 255) + 0) +\n      \".\" +\n      (Math.floor(Math.random() * 255) + 0) +\n      \".\" +\n      (Math.floor(Math.random() * 255) + 0);\n  }\n  cookie.set(\"pseudoLocalIPAddress\", localIPAddress);\n  return localIPAddress;\n}\n\nasync function createClient() {\n  const { data, status } = await http.get(\n    \"https://\" + serverIPAddress + \"/api/myIPAddress\"\n  );\n  if (status === Defs.httpStatusOk) {\n    const { yourIPAddress, timestamp } = data;\n    const localIPAddress = createPseudoLocalIPAddress();\n    const newClientToken = encodeURI(\n      yourIPAddress + \":\" + localIPAddress + \":\" + timestamp\n    );\n    log(\n      \"heartbeat.createClient: newClientToken = \" + newClientToken,\n      \"htbt\",\n      \"info\"\n    );\n\n    const { status: status2 } = await http.post(\n      \"https://\" + serverIPAddress + \"/api/client/client\",\n      {\n        localIPAddress,\n        clientType: \"web\",\n        clientToken: newClientToken,\n        clientName: \"web client\",\n      }\n    );\n    if (status2 === Defs.httpStatusOk) {\n      clientToken = newClientToken;\n      log(\n        \"heartbeat.createClient: clientToken = \" + clientToken,\n        \"htbt\",\n        \"info\"\n      );\n      // save in cookies.\n      cookie.set(\"clientToken\", clientToken);\n      // set in http header.\n      http.setClientTokenHeader(clientToken);\n    }\n  }\n}\n\nasync function heartbeat() {\n  log(\n    \">>>heartbeat: isLoggedIn =\" + isLoggedIn + \", isExiting = \" + isExiting,\n    \"htbt\",\n    \"info\"\n  );\n\n  if (isExiting) {\n    log(\"<<<heartbeat: exiting\", \"htbt\", \"info\");\n    return;\n  }\n\n  if (!clientToken) {\n    await createClient();\n    if (!clientToken) {\n      log(\"<<<heartbeat: no clientToken\", \"htbt\", \"info\");\n      return;\n    }\n  }\n\n  //??\n  const reqData = {\n    // clientType: Defs.clientType_web,\n    // clientName: \"web client\",\n    // clientMode: Defs.clientMode_sentinel,\n    // localIPAddress\n  };\n\n  log(\n    \"heartbeat: before post - reqData = \" + JSON.stringify(reqData, null, 2),\n    \"htbt\",\n    \"info\"\n  );\n\n  const { data, status } = await http.post(\n    \"https://\" + serverIPAddress + \"/api/client/heartbeat\",\n    reqData\n  );\n\n  log(\"heartbeat: status = \" + status, \"htbt\", \"verbose\");\n\n  if (status !== Defs.httpStatusOk) {\n    if (status === Defs.httpStatusUnauthorized) {\n      cookie.set(\"clientToken\", null);\n      clientToken = null;\n    }\n  }\n\n  if (data) {\n    log(\n      \"heartbeat: data = \" + JSON.stringify(data, null, 2),\n      \"htbt\",\n      \"verbose\"\n    );\n\n    const clientToken = data.clientToken;\n    isLoggedIn = data.isLoggedIn;\n\n    // if (clientToken) {\n    //   // first connection by this client\n    //   log(\"heartbeat: clientToken = \" + clientToken, \"htbt\", \"info\");\n    //   cookie.set(\"clientToken\", clientToken);\n    //   // set in http header.\n    //   http.setClientTokenHeader(clientToken);\n    // }\n\n    if (!isLoggedIn) {\n      if (sentClientLoginNeeded === 0) {\n        log(\"heartbeat: login needed\", \"htbt\", \"info\");\n        eventManager.send(Defs.ipcClientLoginNeeded, true);\n        // retry after 5 hearbeats of not logged in.\n        sentClientLoginNeeded = 5;\n      } else {\n        sentClientLoginNeeded--;\n      }\n    } else sentClientLoginNeeded = 0;\n  }\n  log(\"<<<heartbeat\", \"htbt\", \"info\");\n}\n\nfunction handleLoginStatus(event, data) {\n  log(\n    \"heartbeat handleLoginStatus: status = \" + data.loginStatus,\n    \"htbt\",\n    \"info\"\n  );\n  isLoggedIn = data.loginStatus === Defs.loginStatusLoggedIn;\n  http.setAuthTokenHeader(data.authToken);\n}\n\neventManager.on(Defs.ipcLoginStatus, handleLoginStatus);\n\nexport default { init };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport Defs from \"iipzy-shared/src/defs\";\n//import { sleep } from \"iipzy-shared/src/utils/utils\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport eventManager from \"./ipc/eventManager\";\n\nimport auth from \"./services/auth\";\nimport clients from \"./services/clients\";\nimport heartbeat from \"./services/heartbeat\";\nimport sentinelAdmin from \"./services/sentinelAdmin\";\nimport updater from \"./services/updater\";\nimport user from \"./services/user\";\n//import cookie from \"./utils/cookie\";\n\nconst serverIPAddress = \"iipzy.net:8001\";\n\nasync function main() {\n  ReactDOM.render(\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n\n  // console.log(\"-------------window.location-----------\");\n  // console.log(window.location);\n  // console.log(\"-----------origin-------------\");\n  // console.log(window.location.origin);\n\n  await heartbeat.init(serverIPAddress);\n  const hasCredentials = await auth.init(serverIPAddress);\n  console.log(\"====== AFTER calling auth.init\");\n  if (!hasCredentials) {\n    console.log(\"===========!hasCredentials\");\n    eventManager.send(Defs.ipcLinkTo, Defs.urlLogin);\n  } else {\n    // do login in background.\n    auth.login();\n  }\n  console.log(\"====== AFTER calling auth.login\");\n  await clients.init(serverIPAddress);\n  console.log(\"====== AFTER calling clients.init\");\n  await sentinelAdmin.init(serverIPAddress);\n  console.log(\"====== AFTER calling updater.init\");\n  await updater.init(serverIPAddress);\n  console.log(\"====== AFTER calling updater.init\");\n  await user.init(serverIPAddress);\n  console.log(\"====== AFTER calling user.init\");\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: http://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n}\n\n// window.addEventListener(\"beforeunload\", ev => {\n//   ev.preventDefault();\n//   return (ev.returnValue = \"Are you sure you want to close?\");\n// });\n\nmain();\n","// see: https://www.grainger.xyz/changing-from-cipher-to-cipheriv/\nimport { createCipheriv, createDecipheriv, randomBytes } from \"crypto\";\n\n//import { log } from \"./log\";\n\nconst algorithm = \"aes-256-ctr\";\nconst key = \"bite-the-wax-tadpole-hank-jake$$\";\nconst inputEncoding = \"utf8\"; //b2df428b9929d3ace7c598bbf4e496b2\n\nconst outputEncoding = \"hex\";\n\nexport function encrypt(decrypted) {\n  //log(\"encrypt: in = \" + decrypted, \"cryp\", \"info\");\n  const iv = Buffer.from(randomBytes(16));\n  const cipher = createCipheriv(algorithm, key, iv);\n  let crypted = cipher.update(decrypted, inputEncoding, outputEncoding);\n  crypted += cipher.final(outputEncoding);\n  const encrypted = `${iv.toString(\"hex\")}:${crypted.toString()}`;\n  //log(\"encrypt: out = \" + encrypted, \"cryp\", \"info\");\n  return encrypted;\n}\n\nexport function decrypt(encrypted) {\n  //log(\"decrypt: in = \" + encrypted, \"cryp\", \"info\");\n  if (!encrypted || encrypted === \"\") return \"\";\n\n  const textParts = encrypted.split(\":\");\n\n  //extract the IV from the first half of the value\n  const IV = Buffer.from(textParts.shift(), outputEncoding);\n\n  //extract the encrypted text without the IV\n  const encryptedText = Buffer.from(textParts.join(\":\"), outputEncoding);\n\n  //decipher the string\n  const decipher = createDecipheriv(algorithm, key, IV);\n  let decrypted = decipher.update(encryptedText, outputEncoding, inputEncoding);\n  decrypted += decipher.final(inputEncoding);\n  //log(\"decrypt: out = \" + decrypted.toString(), \"cryp\", \"info\");\n  return decrypted.toString();\n}\n\nexport default { encrypt, decrypt };\n"],"sourceRoot":""}